var Vm=e=>{throw TypeError(e)};var Sd=(e,t,r)=>t.has(e)||Vm("Cannot "+r);var O=(e,t,r)=>(Sd(e,t,"read from private field"),r?r.call(e):t.get(e)),Ee=(e,t,r)=>t.has(e)?Vm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),de=(e,t,r,n)=>(Sd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),mt=(e,t,r)=>(Sd(e,t,"access private method"),r);var _l=(e,t,r,n)=>({set _(s){de(e,t,s,r)},get _(){return O(e,t,n)}});function fS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var n0={exports:{}},Su={},s0={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),pS=Symbol.for("react.portal"),mS=Symbol.for("react.fragment"),gS=Symbol.for("react.strict_mode"),vS=Symbol.for("react.profiler"),yS=Symbol.for("react.provider"),wS=Symbol.for("react.context"),xS=Symbol.for("react.forward_ref"),bS=Symbol.for("react.suspense"),_S=Symbol.for("react.memo"),SS=Symbol.for("react.lazy"),Bm=Symbol.iterator;function kS(e){return e===null||typeof e!="object"?null:(e=Bm&&e[Bm]||e["@@iterator"],typeof e=="function"?e:null)}var i0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o0=Object.assign,a0={};function So(e,t,r){this.props=e,this.context=t,this.refs=a0,this.updater=r||i0}So.prototype.isReactComponent={};So.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};So.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function l0(){}l0.prototype=So.prototype;function np(e,t,r){this.props=e,this.context=t,this.refs=a0,this.updater=r||i0}var sp=np.prototype=new l0;sp.constructor=np;o0(sp,So.prototype);sp.isPureReactComponent=!0;var qm=Array.isArray,c0=Object.prototype.hasOwnProperty,ip={current:null},u0={key:!0,ref:!0,__self:!0,__source:!0};function d0(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)c0.call(t,n)&&!u0.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:sl,type:e,key:i,ref:o,props:s,_owner:ip.current}}function ES(e,t){return{$$typeof:sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function op(e){return typeof e=="object"&&e!==null&&e.$$typeof===sl}function CS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wm=/\/+/g;function kd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CS(""+e.key):t.toString(36)}function nc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case sl:case pS:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+kd(o,0):n,qm(s)?(r="",e!=null&&(r=e.replace(Wm,"$&/")+"/"),nc(s,t,r,"",function(c){return c})):s!=null&&(op(s)&&(s=ES(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Wm,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",qm(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+kd(i,a);o+=nc(i,t,r,l,s)}else if(l=kS(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+kd(i,a++),o+=nc(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Sl(e,t,r){if(e==null)return e;var n=[],s=0;return nc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function jS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},sc={transition:null},PS={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:sc,ReactCurrentOwner:ip};function f0(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Sl,forEach:function(e,t,r){Sl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Sl(e,function(){t++}),t},toArray:function(e){return Sl(e,function(t){return t})||[]},only:function(e){if(!op(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=So;ge.Fragment=mS;ge.Profiler=vS;ge.PureComponent=np;ge.StrictMode=gS;ge.Suspense=bS;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PS;ge.act=f0;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=o0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ip.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)c0.call(t,l)&&!u0.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:sl,type:e.type,key:s,ref:i,props:n,_owner:o}};ge.createContext=function(e){return e={$$typeof:wS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yS,_context:e},e.Consumer=e};ge.createElement=d0;ge.createFactory=function(e){var t=d0.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:xS,render:e}};ge.isValidElement=op;ge.lazy=function(e){return{$$typeof:SS,_payload:{_status:-1,_result:e},_init:jS}};ge.memo=function(e,t){return{$$typeof:_S,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=sc.transition;sc.transition={};try{e()}finally{sc.transition=t}};ge.unstable_act=f0;ge.useCallback=function(e,t){return Tt.current.useCallback(e,t)};ge.useContext=function(e){return Tt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Tt.current.useEffect(e,t)};ge.useId=function(){return Tt.current.useId()};ge.useImperativeHandle=function(e,t,r){return Tt.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Tt.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return Tt.current.useReducer(e,t,r)};ge.useRef=function(e){return Tt.current.useRef(e)};ge.useState=function(e){return Tt.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return Tt.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return Tt.current.useTransition()};ge.version="18.3.1";s0.exports=ge;var m=s0.exports;const $=r0(m),h0=fS({__proto__:null,default:$},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS=m,TS=Symbol.for("react.element"),RS=Symbol.for("react.fragment"),AS=Object.prototype.hasOwnProperty,$S=NS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OS={key:!0,ref:!0,__self:!0,__source:!0};function p0(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)AS.call(t,n)&&!OS.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:TS,type:e,key:i,ref:o,props:s,_owner:$S.current}}Su.Fragment=RS;Su.jsx=p0;Su.jsxs=p0;n0.exports=Su;var u=n0.exports,m0={exports:{}},Xt={},g0={exports:{}},v0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,I){var H=T.length;T.push(I);e:for(;0<H;){var ae=H-1>>>1,se=T[ae];if(0<s(se,I))T[ae]=I,T[H]=se,H=ae;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var I=T[0],H=T.pop();if(H!==I){T[0]=H;e:for(var ae=0,se=T.length,re=se>>>1;ae<re;){var oe=2*(ae+1)-1,be=T[oe],Z=oe+1,q=T[Z];if(0>s(be,H))Z<se&&0>s(q,be)?(T[ae]=q,T[Z]=H,ae=Z):(T[ae]=be,T[oe]=H,ae=oe);else if(Z<se&&0>s(q,H))T[ae]=q,T[Z]=H,ae=Z;else break e}}return I}function s(T,I){var H=T.sortIndex-I.sortIndex;return H!==0?H:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,p=!1,b=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=T)n(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=r(c)}}function _(T){if(v=!1,w(T),!b)if(r(l)!==null)b=!0,Y(S);else{var I=r(c);I!==null&&te(_,I.startTime-T)}}function S(T,I){b=!1,v&&(v=!1,g(C),C=-1),p=!0;var H=h;try{for(w(I),f=r(l);f!==null&&(!(f.expirationTime>I)||T&&!F());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,h=f.priorityLevel;var se=ae(f.expirationTime<=I);I=e.unstable_now(),typeof se=="function"?f.callback=se:f===r(l)&&n(l),w(I)}else n(l);f=r(l)}if(f!==null)var re=!0;else{var oe=r(c);oe!==null&&te(_,oe.startTime-I),re=!1}return re}finally{f=null,h=H,p=!1}}var E=!1,j=null,C=-1,P=5,M=-1;function F(){return!(e.unstable_now()-M<P)}function R(){if(j!==null){var T=e.unstable_now();M=T;var I=!0;try{I=j(!0,T)}finally{I?D():(E=!1,j=null)}}else E=!1}var D;if(typeof y=="function")D=function(){y(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=R,D=function(){W.postMessage(null)}}else D=function(){x(R,0)};function Y(T){j=T,E||(E=!0,D())}function te(T,I){C=x(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,Y(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var H=h;h=I;try{return T()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var H=h;h=T;try{return I()}finally{h=H}},e.unstable_scheduleCallback=function(T,I,H){var ae=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ae+H:ae):H=ae,T){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=H+se,T={id:d++,callback:I,priorityLevel:T,startTime:H,expirationTime:se,sortIndex:-1},H>ae?(T.sortIndex=H,t(c,T),r(l)===null&&T===r(c)&&(v?(g(C),C=-1):v=!0,te(_,H-ae))):(T.sortIndex=se,t(l,T),b||p||(b=!0,Y(S))),T},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(T){var I=h;return function(){var H=h;h=I;try{return T.apply(this,arguments)}finally{h=H}}}})(v0);g0.exports=v0;var LS=g0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS=m,Jt=LS;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y0=new Set,Ea={};function fi(e,t){oo(e,t),oo(e+"Capture",t)}function oo(e,t){for(Ea[e]=t,e=0;e<t.length;e++)y0.add(t[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=Object.prototype.hasOwnProperty,MS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hm={},Gm={};function DS(e){return Cf.call(Gm,e)?!0:Cf.call(Hm,e)?!1:MS.test(e)?Gm[e]=!0:(Hm[e]=!0,!1)}function FS(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function US(e,t,r,n){if(t===null||typeof t>"u"||FS(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ap=/[\-:]([a-z])/g;function lp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ap,lp);ht[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ap,lp);ht[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ap,lp);ht[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function cp(e,t,r,n){var s=ht.hasOwnProperty(t)?ht[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(US(t,r,s,n)&&(r=null),n||s===null?DS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nn=IS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kl=Symbol.for("react.element"),ji=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),jf=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Nf=Symbol.for("react.suspense_list"),fp=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),b0=Symbol.for("react.offscreen"),Km=Symbol.iterator;function Do(e){return e===null||typeof e!="object"?null:(e=Km&&e[Km]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,Ed;function Yo(e){if(Ed===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ed=t&&t[1]||""}return`
`+Ed+e}var Cd=!1;function jd(e,t){if(!e||Cd)return"";Cd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Yo(e):""}function zS(e){switch(e.tag){case 5:return Yo(e.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return e=jd(e.type,!1),e;case 11:return e=jd(e.type.render,!1),e;case 1:return e=jd(e.type,!0),e;default:return""}}function Tf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pi:return"Fragment";case ji:return"Portal";case jf:return"Profiler";case up:return"StrictMode";case Pf:return"Suspense";case Nf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x0:return(e.displayName||"Context")+".Consumer";case w0:return(e._context.displayName||"Context")+".Provider";case dp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fp:return t=e.displayName||null,t!==null?t:Tf(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return Tf(e(t))}catch{}}return null}function VS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tf(t);case 8:return t===up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ps(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BS(e){var t=_0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function El(e){e._valueTracker||(e._valueTracker=BS(e))}function S0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function kc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rf(e,t){var r=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Zm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ps(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k0(e,t){t=t.checked,t!=null&&cp(e,"checked",t,!1)}function Af(e,t){k0(e,t);var r=ps(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$f(e,t.type,r):t.hasOwnProperty("defaultValue")&&$f(e,t.type,ps(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $f(e,t,r){(t!=="number"||kc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jo=Array.isArray;function Fi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ps(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Of(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ym(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(Jo(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ps(r)}}function E0(e,t){var r=ps(t.value),n=ps(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Jm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function C0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?C0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cl,j0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cl=Cl||document.createElement("div"),Cl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ca(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var la={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qS=["Webkit","ms","Moz","O"];Object.keys(la).forEach(function(e){qS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),la[t]=la[e]})});function P0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||la.hasOwnProperty(e)&&la[e]?(""+t).trim():t+"px"}function N0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=P0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var WS=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function If(e,t){if(t){if(WS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Mf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=null;function hp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ff=null,Ui=null,zi=null;function Xm(e){if(e=al(e)){if(typeof Ff!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Pu(t),Ff(e.stateNode,e.type,t))}}function T0(e){Ui?zi?zi.push(e):zi=[e]:Ui=e}function R0(){if(Ui){var e=Ui,t=zi;if(zi=Ui=null,Xm(e),t)for(e=0;e<t.length;e++)Xm(t[e])}}function A0(e,t){return e(t)}function $0(){}var Pd=!1;function O0(e,t,r){if(Pd)return e(t,r);Pd=!0;try{return A0(e,t,r)}finally{Pd=!1,(Ui!==null||zi!==null)&&($0(),R0())}}function ja(e,t){var r=e.stateNode;if(r===null)return null;var n=Pu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var Uf=!1;if(wn)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){Uf=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{Uf=!1}function HS(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var ca=!1,Ec=null,Cc=!1,zf=null,GS={onError:function(e){ca=!0,Ec=e}};function KS(e,t,r,n,s,i,o,a,l){ca=!1,Ec=null,HS.apply(GS,arguments)}function ZS(e,t,r,n,s,i,o,a,l){if(KS.apply(this,arguments),ca){if(ca){var c=Ec;ca=!1,Ec=null}else throw Error(V(198));Cc||(Cc=!0,zf=c)}}function hi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function L0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eg(e){if(hi(e)!==e)throw Error(V(188))}function QS(e){var t=e.alternate;if(!t){if(t=hi(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return eg(s),e;if(i===n)return eg(s),t;i=i.sibling}throw Error(V(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function I0(e){return e=QS(e),e!==null?M0(e):null}function M0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=M0(e);if(t!==null)return t;e=e.sibling}return null}var D0=Jt.unstable_scheduleCallback,tg=Jt.unstable_cancelCallback,YS=Jt.unstable_shouldYield,JS=Jt.unstable_requestPaint,Qe=Jt.unstable_now,XS=Jt.unstable_getCurrentPriorityLevel,pp=Jt.unstable_ImmediatePriority,F0=Jt.unstable_UserBlockingPriority,jc=Jt.unstable_NormalPriority,ek=Jt.unstable_LowPriority,U0=Jt.unstable_IdlePriority,ku=null,Hr=null;function tk(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(ku,e,void 0,(e.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:sk,rk=Math.log,nk=Math.LN2;function sk(e){return e>>>=0,e===0?32:31-(rk(e)/nk|0)|0}var jl=64,Pl=4194304;function Xo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Xo(a):(i&=o,i!==0&&(n=Xo(i)))}else o=r&~s,o!==0?n=Xo(o):i!==0&&(n=Xo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Nr(t),s=1<<r,n|=e[r],t&=~s;return n}function ik(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ok(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Nr(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=ik(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Vf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function z0(){var e=jl;return jl<<=1,!(jl&4194240)&&(jl=64),e}function Nd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function il(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nr(t),e[t]=r}function ak(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Nr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function mp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Nr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Pe=0;function V0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var B0,gp,q0,W0,H0,Bf=!1,Nl=[],os=null,as=null,ls=null,Pa=new Map,Na=new Map,Gn=[],lk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rg(e,t){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(t.pointerId)}}function Uo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=al(t),t!==null&&gp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ck(e,t,r,n,s){switch(t){case"focusin":return os=Uo(os,e,t,r,n,s),!0;case"dragenter":return as=Uo(as,e,t,r,n,s),!0;case"mouseover":return ls=Uo(ls,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Pa.set(i,Uo(Pa.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Na.set(i,Uo(Na.get(i)||null,e,t,r,n,s)),!0}return!1}function G0(e){var t=zs(e.target);if(t!==null){var r=hi(t);if(r!==null){if(t=r.tag,t===13){if(t=L0(r),t!==null){e.blockedOn=t,H0(e.priority,function(){q0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ic(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Df=n,r.target.dispatchEvent(n),Df=null}else return t=al(r),t!==null&&gp(t),e.blockedOn=r,!1;t.shift()}return!0}function ng(e,t,r){ic(e)&&r.delete(t)}function uk(){Bf=!1,os!==null&&ic(os)&&(os=null),as!==null&&ic(as)&&(as=null),ls!==null&&ic(ls)&&(ls=null),Pa.forEach(ng),Na.forEach(ng)}function zo(e,t){e.blockedOn===t&&(e.blockedOn=null,Bf||(Bf=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,uk)))}function Ta(e){function t(s){return zo(s,e)}if(0<Nl.length){zo(Nl[0],e);for(var r=1;r<Nl.length;r++){var n=Nl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(os!==null&&zo(os,e),as!==null&&zo(as,e),ls!==null&&zo(ls,e),Pa.forEach(t),Na.forEach(t),r=0;r<Gn.length;r++)n=Gn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Gn.length&&(r=Gn[0],r.blockedOn===null);)G0(r),r.blockedOn===null&&Gn.shift()}var Vi=Nn.ReactCurrentBatchConfig,Nc=!0;function dk(e,t,r,n){var s=Pe,i=Vi.transition;Vi.transition=null;try{Pe=1,vp(e,t,r,n)}finally{Pe=s,Vi.transition=i}}function fk(e,t,r,n){var s=Pe,i=Vi.transition;Vi.transition=null;try{Pe=4,vp(e,t,r,n)}finally{Pe=s,Vi.transition=i}}function vp(e,t,r,n){if(Nc){var s=qf(e,t,r,n);if(s===null)Fd(e,t,n,Tc,r),rg(e,n);else if(ck(s,e,t,r,n))n.stopPropagation();else if(rg(e,n),t&4&&-1<lk.indexOf(e)){for(;s!==null;){var i=al(s);if(i!==null&&B0(i),i=qf(e,t,r,n),i===null&&Fd(e,t,n,Tc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Fd(e,t,n,null,r)}}var Tc=null;function qf(e,t,r,n){if(Tc=null,e=hp(n),e=zs(e),e!==null)if(t=hi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=L0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tc=e,null}function K0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XS()){case pp:return 1;case F0:return 4;case jc:case ek:return 16;case U0:return 536870912;default:return 16}default:return 16}}var rs=null,yp=null,oc=null;function Z0(){if(oc)return oc;var e,t=yp,r=t.length,n,s="value"in rs?rs.value:rs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return oc=s.slice(e,1<n?1-n:void 0)}function ac(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function sg(){return!1}function er(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Tl:sg,this.isPropagationStopped=sg,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),t}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wp=er(ko),ol=Ve({},ko,{view:0,detail:0}),hk=er(ol),Td,Rd,Vo,Eu=Ve({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vo&&(Vo&&e.type==="mousemove"?(Td=e.screenX-Vo.screenX,Rd=e.screenY-Vo.screenY):Rd=Td=0,Vo=e),Td)},movementY:function(e){return"movementY"in e?e.movementY:Rd}}),ig=er(Eu),pk=Ve({},Eu,{dataTransfer:0}),mk=er(pk),gk=Ve({},ol,{relatedTarget:0}),Ad=er(gk),vk=Ve({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),yk=er(vk),wk=Ve({},ko,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xk=er(wk),bk=Ve({},ko,{data:0}),og=er(bk),_k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ek(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kk[e])?!!t[e]:!1}function xp(){return Ek}var Ck=Ve({},ol,{key:function(e){if(e.key){var t=_k[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ac(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xp,charCode:function(e){return e.type==="keypress"?ac(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ac(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jk=er(Ck),Pk=Ve({},Eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=er(Pk),Nk=Ve({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xp}),Tk=er(Nk),Rk=Ve({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ak=er(Rk),$k=Ve({},Eu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ok=er($k),Lk=[9,13,27,32],bp=wn&&"CompositionEvent"in window,ua=null;wn&&"documentMode"in document&&(ua=document.documentMode);var Ik=wn&&"TextEvent"in window&&!ua,Q0=wn&&(!bp||ua&&8<ua&&11>=ua),lg=" ",cg=!1;function Y0(e,t){switch(e){case"keyup":return Lk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ni=!1;function Mk(e,t){switch(e){case"compositionend":return J0(t);case"keypress":return t.which!==32?null:(cg=!0,lg);case"textInput":return e=t.data,e===lg&&cg?null:e;default:return null}}function Dk(e,t){if(Ni)return e==="compositionend"||!bp&&Y0(e,t)?(e=Z0(),oc=yp=rs=null,Ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Q0&&t.locale!=="ko"?null:t.data;default:return null}}var Fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fk[e.type]:t==="textarea"}function X0(e,t,r,n){T0(n),t=Rc(t,"onChange"),0<t.length&&(r=new wp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var da=null,Ra=null;function Uk(e){uw(e,0)}function Cu(e){var t=Ai(e);if(S0(t))return e}function zk(e,t){if(e==="change")return t}var ew=!1;if(wn){var $d;if(wn){var Od="oninput"in document;if(!Od){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Od=typeof dg.oninput=="function"}$d=Od}else $d=!1;ew=$d&&(!document.documentMode||9<document.documentMode)}function fg(){da&&(da.detachEvent("onpropertychange",tw),Ra=da=null)}function tw(e){if(e.propertyName==="value"&&Cu(Ra)){var t=[];X0(t,Ra,e,hp(e)),O0(Uk,t)}}function Vk(e,t,r){e==="focusin"?(fg(),da=t,Ra=r,da.attachEvent("onpropertychange",tw)):e==="focusout"&&fg()}function Bk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(Ra)}function qk(e,t){if(e==="click")return Cu(t)}function Wk(e,t){if(e==="input"||e==="change")return Cu(t)}function Hk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rr=typeof Object.is=="function"?Object.is:Hk;function Aa(e,t){if(Rr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Cf.call(t,s)||!Rr(e[s],t[s]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pg(e,t){var r=hg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hg(r)}}function rw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nw(){for(var e=window,t=kc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kc(e.document)}return t}function _p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gk(e){var t=nw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rw(r.ownerDocument.documentElement,r)){if(n!==null&&_p(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=pg(r,i);var o=pg(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kk=wn&&"documentMode"in document&&11>=document.documentMode,Ti=null,Wf=null,fa=null,Hf=!1;function mg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hf||Ti==null||Ti!==kc(n)||(n=Ti,"selectionStart"in n&&_p(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fa&&Aa(fa,n)||(fa=n,n=Rc(Wf,"onSelect"),0<n.length&&(t=new wp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ti)))}function Rl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ri={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},Ld={},sw={};wn&&(sw=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function ju(e){if(Ld[e])return Ld[e];if(!Ri[e])return e;var t=Ri[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sw)return Ld[e]=t[r];return e}var iw=ju("animationend"),ow=ju("animationiteration"),aw=ju("animationstart"),lw=ju("transitionend"),cw=new Map,gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(e,t){cw.set(e,t),fi(t,[e])}for(var Id=0;Id<gg.length;Id++){var Md=gg[Id],Zk=Md.toLowerCase(),Qk=Md[0].toUpperCase()+Md.slice(1);Es(Zk,"on"+Qk)}Es(iw,"onAnimationEnd");Es(ow,"onAnimationIteration");Es(aw,"onAnimationStart");Es("dblclick","onDoubleClick");Es("focusin","onFocus");Es("focusout","onBlur");Es(lw,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function vg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ZS(n,t,void 0,e),e.currentTarget=null}function uw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;vg(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;vg(s,a,c),i=l}}}if(Cc)throw e=zf,Cc=!1,zf=null,e}function Le(e,t){var r=t[Yf];r===void 0&&(r=t[Yf]=new Set);var n=e+"__bubble";r.has(n)||(dw(t,e,2,!1),r.add(n))}function Dd(e,t,r){var n=0;t&&(n|=4),dw(r,e,n,t)}var Al="_reactListening"+Math.random().toString(36).slice(2);function $a(e){if(!e[Al]){e[Al]=!0,y0.forEach(function(r){r!=="selectionchange"&&(Yk.has(r)||Dd(r,!1,e),Dd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Al]||(t[Al]=!0,Dd("selectionchange",!1,t))}}function dw(e,t,r,n){switch(K0(t)){case 1:var s=dk;break;case 4:s=fk;break;default:s=vp}r=s.bind(null,t,r,e),s=void 0,!Uf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Fd(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=zs(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}O0(function(){var c=i,d=hp(r),f=[];e:{var h=cw.get(e);if(h!==void 0){var p=wp,b=e;switch(e){case"keypress":if(ac(r)===0)break e;case"keydown":case"keyup":p=jk;break;case"focusin":b="focus",p=Ad;break;case"focusout":b="blur",p=Ad;break;case"beforeblur":case"afterblur":p=Ad;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Tk;break;case iw:case ow:case aw:p=yk;break;case lw:p=Ak;break;case"scroll":p=hk;break;case"wheel":p=Ok;break;case"copy":case"cut":case"paste":p=xk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ag}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,g!==null&&(_=ja(y,g),_!=null&&v.push(Oa(y,_,w)))),x)break;y=y.return}0<v.length&&(h=new p(h,b,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Df&&(b=r.relatedTarget||r.fromElement)&&(zs(b)||b[xn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=c,b=b?zs(b):null,b!==null&&(x=hi(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=c),p!==b)){if(v=ig,_="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=ag,_="onPointerLeave",g="onPointerEnter",y="pointer"),x=p==null?h:Ai(p),w=b==null?h:Ai(b),h=new v(_,y+"leave",p,r,d),h.target=x,h.relatedTarget=w,_=null,zs(d)===c&&(v=new v(g,y+"enter",b,r,d),v.target=w,v.relatedTarget=x,_=v),x=_,p&&b)t:{for(v=p,g=b,y=0,w=v;w;w=vi(w))y++;for(w=0,_=g;_;_=vi(_))w++;for(;0<y-w;)v=vi(v),y--;for(;0<w-y;)g=vi(g),w--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=vi(v),g=vi(g)}v=null}else v=null;p!==null&&yg(f,h,p,v,!1),b!==null&&x!==null&&yg(f,x,b,v,!0)}}e:{if(h=c?Ai(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=zk;else if(ug(h))if(ew)S=Wk;else{S=Bk;var E=Vk}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=qk);if(S&&(S=S(e,c))){X0(f,S,r,d);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&$f(h,"number",h.value)}switch(E=c?Ai(c):window,e){case"focusin":(ug(E)||E.contentEditable==="true")&&(Ti=E,Wf=c,fa=null);break;case"focusout":fa=Wf=Ti=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,mg(f,r,d);break;case"selectionchange":if(Kk)break;case"keydown":case"keyup":mg(f,r,d)}var j;if(bp)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ni?Y0(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Q0&&r.locale!=="ko"&&(Ni||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ni&&(j=Z0()):(rs=d,yp="value"in rs?rs.value:rs.textContent,Ni=!0)),E=Rc(c,C),0<E.length&&(C=new og(C,e,null,r,d),f.push({event:C,listeners:E}),j?C.data=j:(j=J0(r),j!==null&&(C.data=j)))),(j=Ik?Mk(e,r):Dk(e,r))&&(c=Rc(c,"onBeforeInput"),0<c.length&&(d=new og("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=j))}uw(f,t)})}function Oa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ja(e,r),i!=null&&n.unshift(Oa(e,i,s)),i=ja(e,t),i!=null&&n.push(Oa(e,i,s))),e=e.return}return n}function vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yg(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=ja(r,i),l!=null&&o.unshift(Oa(r,l,a))):s||(l=ja(r,i),l!=null&&o.push(Oa(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Jk=/\r\n?/g,Xk=/\u0000|\uFFFD/g;function wg(e){return(typeof e=="string"?e:""+e).replace(Jk,`
`).replace(Xk,"")}function $l(e,t,r){if(t=wg(t),wg(e)!==t&&r)throw Error(V(425))}function Ac(){}var Gf=null,Kf=null;function Zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,eE=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,tE=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(e){return xg.resolve(null).then(e).catch(rE)}:Qf;function rE(e){setTimeout(function(){throw e})}function Ud(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ta(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ta(t)}function cs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),Br="__reactFiber$"+Eo,La="__reactProps$"+Eo,xn="__reactContainer$"+Eo,Yf="__reactEvents$"+Eo,nE="__reactListeners$"+Eo,sE="__reactHandles$"+Eo;function zs(e){var t=e[Br];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xn]||r[Br]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bg(e);e!==null;){if(r=e[Br])return r;e=bg(e)}return t}e=r,r=e.parentNode}return null}function al(e){return e=e[Br]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ai(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Pu(e){return e[La]||null}var Jf=[],$i=-1;function Cs(e){return{current:e}}function Me(e){0>$i||(e.current=Jf[$i],Jf[$i]=null,$i--)}function Re(e,t){$i++,Jf[$i]=e.current,e.current=t}var ms={},xt=Cs(ms),Ft=Cs(!1),ri=ms;function ao(e,t){var r=e.type.contextTypes;if(!r)return ms;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ut(e){return e=e.childContextTypes,e!=null}function $c(){Me(Ft),Me(xt)}function _g(e,t,r){if(xt.current!==ms)throw Error(V(168));Re(xt,t),Re(Ft,r)}function fw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(V(108,VS(e)||"Unknown",s));return Ve({},r,n)}function Oc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ms,ri=xt.current,Re(xt,e),Re(Ft,Ft.current),!0}function Sg(e,t,r){var n=e.stateNode;if(!n)throw Error(V(169));r?(e=fw(e,t,ri),n.__reactInternalMemoizedMergedChildContext=e,Me(Ft),Me(xt),Re(xt,e)):Me(Ft),Re(Ft,r)}var dn=null,Nu=!1,zd=!1;function hw(e){dn===null?dn=[e]:dn.push(e)}function iE(e){Nu=!0,hw(e)}function js(){if(!zd&&dn!==null){zd=!0;var e=0,t=Pe;try{var r=dn;for(Pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}dn=null,Nu=!1}catch(s){throw dn!==null&&(dn=dn.slice(e+1)),D0(pp,js),s}finally{Pe=t,zd=!1}}return null}var Oi=[],Li=0,Lc=null,Ic=0,nr=[],sr=0,ni=null,hn=1,pn="";function Is(e,t){Oi[Li++]=Ic,Oi[Li++]=Lc,Lc=e,Ic=t}function pw(e,t,r){nr[sr++]=hn,nr[sr++]=pn,nr[sr++]=ni,ni=e;var n=hn;e=pn;var s=32-Nr(n)-1;n&=~(1<<s),r+=1;var i=32-Nr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,hn=1<<32-Nr(t)+s|r<<s|n,pn=i+e}else hn=1<<i|r<<s|n,pn=e}function Sp(e){e.return!==null&&(Is(e,1),pw(e,1,0))}function kp(e){for(;e===Lc;)Lc=Oi[--Li],Oi[Li]=null,Ic=Oi[--Li],Oi[Li]=null;for(;e===ni;)ni=nr[--sr],nr[sr]=null,pn=nr[--sr],nr[sr]=null,hn=nr[--sr],nr[sr]=null}var Qt=null,Zt=null,Fe=!1,kr=null;function mw(e,t){var r=ir(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Zt=cs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ni!==null?{id:hn,overflow:pn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ir(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qt=e,Zt=null,!0):!1;default:return!1}}function Xf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eh(e){if(Fe){var t=Zt;if(t){var r=t;if(!kg(e,t)){if(Xf(e))throw Error(V(418));t=cs(r.nextSibling);var n=Qt;t&&kg(e,t)?mw(n,r):(e.flags=e.flags&-4097|2,Fe=!1,Qt=e)}}else{if(Xf(e))throw Error(V(418));e.flags=e.flags&-4097|2,Fe=!1,Qt=e}}}function Eg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function Ol(e){if(e!==Qt)return!1;if(!Fe)return Eg(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zf(e.type,e.memoizedProps)),t&&(t=Zt)){if(Xf(e))throw gw(),Error(V(418));for(;t;)mw(e,t),t=cs(t.nextSibling)}if(Eg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zt=cs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=Qt?cs(e.stateNode.nextSibling):null;return!0}function gw(){for(var e=Zt;e;)e=cs(e.nextSibling)}function lo(){Zt=Qt=null,Fe=!1}function Ep(e){kr===null?kr=[e]:kr.push(e)}var oE=Nn.ReactCurrentBatchConfig;function Bo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function Ll(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cg(e){var t=e._init;return t(e._payload)}function vw(e){function t(g,y){if(e){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=hs(g,y),g.index=0,g.sibling=null,g}function i(g,y,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,y,w,_){return y===null||y.tag!==6?(y=Kd(w,g.mode,_),y.return=g,y):(y=s(y,w),y.return=g,y)}function l(g,y,w,_){var S=w.type;return S===Pi?d(g,y,w.props.children,_,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vn&&Cg(S)===y.type)?(_=s(y,w.props),_.ref=Bo(g,y,w),_.return=g,_):(_=pc(w.type,w.key,w.props,null,g.mode,_),_.ref=Bo(g,y,w),_.return=g,_)}function c(g,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Zd(w,g.mode,_),y.return=g,y):(y=s(y,w.children||[]),y.return=g,y)}function d(g,y,w,_,S){return y===null||y.tag!==7?(y=Xs(w,g.mode,_,S),y.return=g,y):(y=s(y,w),y.return=g,y)}function f(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Kd(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case kl:return w=pc(y.type,y.key,y.props,null,g.mode,w),w.ref=Bo(g,null,y),w.return=g,w;case ji:return y=Zd(y,g.mode,w),y.return=g,y;case Vn:var _=y._init;return f(g,_(y._payload),w)}if(Jo(y)||Do(y))return y=Xs(y,g.mode,w,null),y.return=g,y;Ll(g,y)}return null}function h(g,y,w,_){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(g,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kl:return w.key===S?l(g,y,w,_):null;case ji:return w.key===S?c(g,y,w,_):null;case Vn:return S=w._init,h(g,y,S(w._payload),_)}if(Jo(w)||Do(w))return S!==null?null:d(g,y,w,_,null);Ll(g,w)}return null}function p(g,y,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(w)||null,a(y,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kl:return g=g.get(_.key===null?w:_.key)||null,l(y,g,_,S);case ji:return g=g.get(_.key===null?w:_.key)||null,c(y,g,_,S);case Vn:var E=_._init;return p(g,y,w,E(_._payload),S)}if(Jo(_)||Do(_))return g=g.get(w)||null,d(y,g,_,S,null);Ll(y,_)}return null}function b(g,y,w,_){for(var S=null,E=null,j=y,C=y=0,P=null;j!==null&&C<w.length;C++){j.index>C?(P=j,j=null):P=j.sibling;var M=h(g,j,w[C],_);if(M===null){j===null&&(j=P);break}e&&j&&M.alternate===null&&t(g,j),y=i(M,y,C),E===null?S=M:E.sibling=M,E=M,j=P}if(C===w.length)return r(g,j),Fe&&Is(g,C),S;if(j===null){for(;C<w.length;C++)j=f(g,w[C],_),j!==null&&(y=i(j,y,C),E===null?S=j:E.sibling=j,E=j);return Fe&&Is(g,C),S}for(j=n(g,j);C<w.length;C++)P=p(j,g,C,w[C],_),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?C:P.key),y=i(P,y,C),E===null?S=P:E.sibling=P,E=P);return e&&j.forEach(function(F){return t(g,F)}),Fe&&Is(g,C),S}function v(g,y,w,_){var S=Do(w);if(typeof S!="function")throw Error(V(150));if(w=S.call(w),w==null)throw Error(V(151));for(var E=S=null,j=y,C=y=0,P=null,M=w.next();j!==null&&!M.done;C++,M=w.next()){j.index>C?(P=j,j=null):P=j.sibling;var F=h(g,j,M.value,_);if(F===null){j===null&&(j=P);break}e&&j&&F.alternate===null&&t(g,j),y=i(F,y,C),E===null?S=F:E.sibling=F,E=F,j=P}if(M.done)return r(g,j),Fe&&Is(g,C),S;if(j===null){for(;!M.done;C++,M=w.next())M=f(g,M.value,_),M!==null&&(y=i(M,y,C),E===null?S=M:E.sibling=M,E=M);return Fe&&Is(g,C),S}for(j=n(g,j);!M.done;C++,M=w.next())M=p(j,g,C,M.value,_),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?C:M.key),y=i(M,y,C),E===null?S=M:E.sibling=M,E=M);return e&&j.forEach(function(R){return t(g,R)}),Fe&&Is(g,C),S}function x(g,y,w,_){if(typeof w=="object"&&w!==null&&w.type===Pi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case kl:e:{for(var S=w.key,E=y;E!==null;){if(E.key===S){if(S=w.type,S===Pi){if(E.tag===7){r(g,E.sibling),y=s(E,w.props.children),y.return=g,g=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vn&&Cg(S)===E.type){r(g,E.sibling),y=s(E,w.props),y.ref=Bo(g,E,w),y.return=g,g=y;break e}r(g,E);break}else t(g,E);E=E.sibling}w.type===Pi?(y=Xs(w.props.children,g.mode,_,w.key),y.return=g,g=y):(_=pc(w.type,w.key,w.props,null,g.mode,_),_.ref=Bo(g,y,w),_.return=g,g=_)}return o(g);case ji:e:{for(E=w.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(g,y.sibling),y=s(y,w.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=Zd(w,g.mode,_),y.return=g,g=y}return o(g);case Vn:return E=w._init,x(g,y,E(w._payload),_)}if(Jo(w))return b(g,y,w,_);if(Do(w))return v(g,y,w,_);Ll(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(g,y.sibling),y=s(y,w),y.return=g,g=y):(r(g,y),y=Kd(w,g.mode,_),y.return=g,g=y),o(g)):r(g,y)}return x}var co=vw(!0),yw=vw(!1),Mc=Cs(null),Dc=null,Ii=null,Cp=null;function jp(){Cp=Ii=Dc=null}function Pp(e){var t=Mc.current;Me(Mc),e._currentValue=t}function th(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bi(e,t){Dc=e,Cp=Ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dt=!0),e.firstContext=null)}function cr(e){var t=e._currentValue;if(Cp!==e)if(e={context:e,memoizedValue:t,next:null},Ii===null){if(Dc===null)throw Error(V(308));Ii=e,Dc.dependencies={lanes:0,firstContext:e}}else Ii=Ii.next=e;return t}var Vs=null;function Np(e){Vs===null?Vs=[e]:Vs.push(e)}function ww(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Np(t)):(r.next=s.next,s.next=r),t.interleaved=r,bn(e,n)}function bn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bn=!1;function Tp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function us(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Se&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,bn(e,r)}return s=n.interleaved,s===null?(t.next=t,Np(n)):(t.next=s.next,s.next=t),n.interleaved=t,bn(e,r)}function lc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mp(e,r)}}function jg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fc(e,t,r,n){var s=e.updateQueue;Bn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,v=a;switch(h=t,p=r,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(p,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,h=typeof b=="function"?b.call(p,f,h):b,h==null)break e;f=Ve({},f,h);break e;case 2:Bn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ii|=o,e.lanes=o,e.memoizedState=f}}function Pg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(V(191,s));s.call(n)}}}var ll={},Gr=Cs(ll),Ia=Cs(ll),Ma=Cs(ll);function Bs(e){if(e===ll)throw Error(V(174));return e}function Rp(e,t){switch(Re(Ma,t),Re(Ia,e),Re(Gr,ll),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lf(t,e)}Me(Gr),Re(Gr,t)}function uo(){Me(Gr),Me(Ia),Me(Ma)}function bw(e){Bs(Ma.current);var t=Bs(Gr.current),r=Lf(t,e.type);t!==r&&(Re(Ia,e),Re(Gr,r))}function Ap(e){Ia.current===e&&(Me(Gr),Me(Ia))}var Ue=Cs(0);function Uc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vd=[];function $p(){for(var e=0;e<Vd.length;e++)Vd[e]._workInProgressVersionPrimary=null;Vd.length=0}var cc=Nn.ReactCurrentDispatcher,Bd=Nn.ReactCurrentBatchConfig,si=0,ze=null,tt=null,ot=null,zc=!1,ha=!1,Da=0,aE=0;function gt(){throw Error(V(321))}function Op(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rr(e[r],t[r]))return!1;return!0}function Lp(e,t,r,n,s,i){if(si=i,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cc.current=e===null||e.memoizedState===null?dE:fE,e=r(n,s),ha){i=0;do{if(ha=!1,Da=0,25<=i)throw Error(V(301));i+=1,ot=tt=null,t.updateQueue=null,cc.current=hE,e=r(n,s)}while(ha)}if(cc.current=Vc,t=tt!==null&&tt.next!==null,si=0,ot=tt=ze=null,zc=!1,t)throw Error(V(300));return e}function Ip(){var e=Da!==0;return Da=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?ze.memoizedState=ot=e:ot=ot.next=e,ot}function ur(){if(tt===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=ot===null?ze.memoizedState:ot.next;if(t!==null)ot=t,tt=e;else{if(e===null)throw Error(V(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?ze.memoizedState=ot=e:ot=ot.next=e}return ot}function Fa(e,t){return typeof t=="function"?t(e):t}function qd(e){var t=ur(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=tt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((si&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,ze.lanes|=d,ii|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,Rr(n,t.memoizedState)||(Dt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ze.lanes|=i,ii|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wd(e){var t=ur(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Rr(i,t.memoizedState)||(Dt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _w(){}function Sw(e,t){var r=ze,n=ur(),s=t(),i=!Rr(n.memoizedState,s);if(i&&(n.memoizedState=s,Dt=!0),n=n.queue,Mp(Cw.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ot!==null&&ot.memoizedState.tag&1){if(r.flags|=2048,Ua(9,Ew.bind(null,r,n,s,t),void 0,null),lt===null)throw Error(V(349));si&30||kw(r,t,s)}return s}function kw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ew(e,t,r,n){t.value=r,t.getSnapshot=n,jw(t)&&Pw(e)}function Cw(e,t,r){return r(function(){jw(t)&&Pw(e)})}function jw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rr(e,r)}catch{return!0}}function Pw(e){var t=bn(e,1);t!==null&&Tr(t,e,1,-1)}function Ng(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:e},t.queue=e,e=e.dispatch=uE.bind(null,ze,e),[t.memoizedState,e]}function Ua(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Nw(){return ur().memoizedState}function uc(e,t,r,n){var s=Fr();ze.flags|=e,s.memoizedState=Ua(1|t,r,void 0,n===void 0?null:n)}function Tu(e,t,r,n){var s=ur();n=n===void 0?null:n;var i=void 0;if(tt!==null){var o=tt.memoizedState;if(i=o.destroy,n!==null&&Op(n,o.deps)){s.memoizedState=Ua(t,r,i,n);return}}ze.flags|=e,s.memoizedState=Ua(1|t,r,i,n)}function Tg(e,t){return uc(8390656,8,e,t)}function Mp(e,t){return Tu(2048,8,e,t)}function Tw(e,t){return Tu(4,2,e,t)}function Rw(e,t){return Tu(4,4,e,t)}function Aw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $w(e,t,r){return r=r!=null?r.concat([e]):null,Tu(4,4,Aw.bind(null,t,e),r)}function Dp(){}function Ow(e,t){var r=ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Op(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Lw(e,t){var r=ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Op(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Iw(e,t,r){return si&21?(Rr(r,t)||(r=z0(),ze.lanes|=r,ii|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dt=!0),e.memoizedState=r)}function lE(e,t){var r=Pe;Pe=r!==0&&4>r?r:4,e(!0);var n=Bd.transition;Bd.transition={};try{e(!1),t()}finally{Pe=r,Bd.transition=n}}function Mw(){return ur().memoizedState}function cE(e,t,r){var n=fs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Dw(e))Fw(t,r);else if(r=ww(e,t,r,n),r!==null){var s=Pt();Tr(r,e,n,s),Uw(r,t,n)}}function uE(e,t,r){var n=fs(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dw(e))Fw(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Rr(a,o)){var l=t.interleaved;l===null?(s.next=s,Np(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=ww(e,t,s,n),r!==null&&(s=Pt(),Tr(r,e,n,s),Uw(r,t,n))}}function Dw(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Fw(e,t){ha=zc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Uw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mp(e,r)}}var Vc={readContext:cr,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},dE={readContext:cr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:cr,useEffect:Tg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,uc(4194308,4,Aw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return uc(4194308,4,e,t)},useInsertionEffect:function(e,t){return uc(4,2,e,t)},useMemo:function(e,t){var r=Fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=cE.bind(null,ze,e),[n.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:Ng,useDebugValue:Dp,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=Ng(!1),t=e[0];return e=lE.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ze,s=Fr();if(Fe){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),lt===null)throw Error(V(349));si&30||kw(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Tg(Cw.bind(null,n,i,e),[e]),n.flags|=2048,Ua(9,Ew.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Fr(),t=lt.identifierPrefix;if(Fe){var r=pn,n=hn;r=(n&~(1<<32-Nr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Da++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fE={readContext:cr,useCallback:Ow,useContext:cr,useEffect:Mp,useImperativeHandle:$w,useInsertionEffect:Tw,useLayoutEffect:Rw,useMemo:Lw,useReducer:qd,useRef:Nw,useState:function(){return qd(Fa)},useDebugValue:Dp,useDeferredValue:function(e){var t=ur();return Iw(t,tt.memoizedState,e)},useTransition:function(){var e=qd(Fa)[0],t=ur().memoizedState;return[e,t]},useMutableSource:_w,useSyncExternalStore:Sw,useId:Mw,unstable_isNewReconciler:!1},hE={readContext:cr,useCallback:Ow,useContext:cr,useEffect:Mp,useImperativeHandle:$w,useInsertionEffect:Tw,useLayoutEffect:Rw,useMemo:Lw,useReducer:Wd,useRef:Nw,useState:function(){return Wd(Fa)},useDebugValue:Dp,useDeferredValue:function(e){var t=ur();return tt===null?t.memoizedState=e:Iw(t,tt.memoizedState,e)},useTransition:function(){var e=Wd(Fa)[0],t=ur().memoizedState;return[e,t]},useMutableSource:_w,useSyncExternalStore:Sw,useId:Mw,unstable_isNewReconciler:!1};function yr(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ve({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ru={isMounted:function(e){return(e=e._reactInternals)?hi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pt(),s=fs(e),i=gn(n,s);i.payload=t,r!=null&&(i.callback=r),t=us(e,i,s),t!==null&&(Tr(t,e,s,n),lc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pt(),s=fs(e),i=gn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=us(e,i,s),t!==null&&(Tr(t,e,s,n),lc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pt(),n=fs(e),s=gn(r,n);s.tag=2,t!=null&&(s.callback=t),t=us(e,s,n),t!==null&&(Tr(t,e,n,r),lc(t,e,n))}};function Rg(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Aa(r,n)||!Aa(s,i):!0}function zw(e,t,r){var n=!1,s=ms,i=t.contextType;return typeof i=="object"&&i!==null?i=cr(i):(s=Ut(t)?ri:xt.current,n=t.contextTypes,i=(n=n!=null)?ao(e,s):ms),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ru,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ag(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ru.enqueueReplaceState(t,t.state,null)}function nh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Tp(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=cr(i):(i=Ut(t)?ri:xt.current,s.context=ao(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(rh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ru.enqueueReplaceState(s,s.state,null),Fc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fo(e,t){try{var r="",n=t;do r+=zS(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Hd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pE=typeof WeakMap=="function"?WeakMap:Map;function Vw(e,t,r){r=gn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qc||(qc=!0,ph=n),sh(e,t)},r}function Bw(e,t,r){r=gn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){sh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){sh(e,t),typeof n!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $g(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new pE;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=PE.bind(null,e,t,r),t.then(e,e))}function Og(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=gn(-1,1),t.tag=2,us(r,t,1))),r.lanes|=1),e)}var mE=Nn.ReactCurrentOwner,Dt=!1;function Et(e,t,r,n){t.child=e===null?yw(t,null,r,n):co(t,e.child,r,n)}function Ig(e,t,r,n,s){r=r.render;var i=t.ref;return Bi(t,s),n=Lp(e,t,r,n,i,s),r=Ip(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_n(e,t,s)):(Fe&&r&&Sp(t),t.flags|=1,Et(e,t,n,s),t.child)}function Mg(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Hp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,qw(e,t,i,n,s)):(e=pc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Aa,r(o,n)&&e.ref===t.ref)return _n(e,t,s)}return t.flags|=1,e=hs(i,n),e.ref=t.ref,e.return=t,t.child=e}function qw(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Aa(i,n)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,_n(e,t,s)}return ih(e,t,r,n,s)}function Ww(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Di,qt),qt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Di,qt),qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Re(Di,qt),qt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Re(Di,qt),qt|=n;return Et(e,t,s,r),t.child}function Hw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ih(e,t,r,n,s){var i=Ut(r)?ri:xt.current;return i=ao(t,i),Bi(t,s),r=Lp(e,t,r,n,i,s),n=Ip(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_n(e,t,s)):(Fe&&n&&Sp(t),t.flags|=1,Et(e,t,r,s),t.child)}function Dg(e,t,r,n,s){if(Ut(r)){var i=!0;Oc(t)}else i=!1;if(Bi(t,s),t.stateNode===null)dc(e,t),zw(t,r,n),nh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=cr(c):(c=Ut(r)?ri:xt.current,c=ao(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Ag(t,o,n,c),Bn=!1;var h=t.memoizedState;o.state=h,Fc(t,n,o,s),l=t.memoizedState,a!==n||h!==l||Ft.current||Bn?(typeof d=="function"&&(rh(t,r,d,n),l=t.memoizedState),(a=Bn||Rg(t,r,a,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,xw(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:yr(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=Ut(r)?ri:xt.current,l=ao(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Ag(t,o,n,l),Bn=!1,h=t.memoizedState,o.state=h,Fc(t,n,o,s);var b=t.memoizedState;a!==f||h!==b||Ft.current||Bn?(typeof p=="function"&&(rh(t,r,p,n),b=t.memoizedState),(c=Bn||Rg(t,r,c,n,h,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return oh(e,t,r,n,i,s)}function oh(e,t,r,n,s,i){Hw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Sg(t,r,!1),_n(e,t,i);n=t.stateNode,mE.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=co(t,e.child,null,i),t.child=co(t,null,a,i)):Et(e,t,a,i),t.memoizedState=n.state,s&&Sg(t,r,!0),t.child}function Gw(e){var t=e.stateNode;t.pendingContext?_g(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_g(e,t.context,!1),Rp(e,t.containerInfo)}function Fg(e,t,r,n,s){return lo(),Ep(s),t.flags|=256,Et(e,t,r,n),t.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function lh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kw(e,t,r){var n=t.pendingProps,s=Ue.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Re(Ue,s&1),e===null)return eh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ou(o,n,0,null),e=Xs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lh(r),t.memoizedState=ah,e):Fp(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return gE(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=hs(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=hs(a,i):(i=Xs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?lh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ah,n}return i=e.child,e=i.sibling,n=hs(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Fp(e,t){return t=Ou({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Il(e,t,r,n){return n!==null&&Ep(n),co(t,e.child,null,r),e=Fp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gE(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Hd(Error(V(422))),Il(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ou({mode:"visible",children:n.children},s,0,null),i=Xs(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&co(t,e.child,null,o),t.child.memoizedState=lh(o),t.memoizedState=ah,i);if(!(t.mode&1))return Il(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(V(419)),n=Hd(i,n,void 0),Il(e,t,o,n)}if(a=(o&e.childLanes)!==0,Dt||a){if(n=lt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bn(e,s),Tr(n,e,s,-1))}return Wp(),n=Hd(Error(V(421))),Il(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=NE.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Zt=cs(s.nextSibling),Qt=t,Fe=!0,kr=null,e!==null&&(nr[sr++]=hn,nr[sr++]=pn,nr[sr++]=ni,hn=e.id,pn=e.overflow,ni=t),t=Fp(t,n.children),t.flags|=4096,t)}function Ug(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),th(e.return,t,r)}function Gd(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Zw(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Et(e,t,n.children,r),n=Ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ug(e,r,t);else if(e.tag===19)Ug(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re(Ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Uc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Gd(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Uc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Gd(t,!0,r,null,i);break;case"together":Gd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ii|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=hs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function vE(e,t,r){switch(t.tag){case 3:Gw(t),lo();break;case 5:bw(t);break;case 1:Ut(t.type)&&Oc(t);break;case 4:Rp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Re(Mc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re(Ue,Ue.current&1),t.flags|=128,null):r&t.child.childLanes?Kw(e,t,r):(Re(Ue,Ue.current&1),e=_n(e,t,r),e!==null?e.sibling:null);Re(Ue,Ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Zw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Ue,Ue.current),n)break;return null;case 22:case 23:return t.lanes=0,Ww(e,t,r)}return _n(e,t,r)}var Qw,ch,Yw,Jw;Qw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ch=function(){};Yw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Bs(Gr.current);var i=null;switch(r){case"input":s=Rf(e,s),n=Rf(e,n),i=[];break;case"select":s=Ve({},s,{value:void 0}),n=Ve({},n,{value:void 0}),i=[];break;case"textarea":s=Of(e,s),n=Of(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ac)}If(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ea.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ea.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Le("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Jw=function(e,t,r,n){r!==n&&(t.flags|=4)};function qo(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function yE(e,t,r){var n=t.pendingProps;switch(kp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Ut(t.type)&&$c(),vt(t),null;case 3:return n=t.stateNode,uo(),Me(Ft),Me(xt),$p(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ol(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kr!==null&&(vh(kr),kr=null))),ch(e,t),vt(t),null;case 5:Ap(t);var s=Bs(Ma.current);if(r=t.type,e!==null&&t.stateNode!=null)Yw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(V(166));return vt(t),null}if(e=Bs(Gr.current),Ol(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Br]=t,n[La]=i,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(s=0;s<ea.length;s++)Le(ea[s],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Zm(n,i),Le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Le("invalid",n);break;case"textarea":Ym(n,i),Le("invalid",n)}If(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&$l(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&$l(n.textContent,a,e),s=["children",""+a]):Ea.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",n)}switch(r){case"input":El(n),Qm(n,i,!0);break;case"textarea":El(n),Jm(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ac)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=C0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Br]=t,e[La]=n,Qw(e,t,!1,!1),t.stateNode=e;e:{switch(o=Mf(r,n),r){case"dialog":Le("cancel",e),Le("close",e),s=n;break;case"iframe":case"object":case"embed":Le("load",e),s=n;break;case"video":case"audio":for(s=0;s<ea.length;s++)Le(ea[s],e);s=n;break;case"source":Le("error",e),s=n;break;case"img":case"image":case"link":Le("error",e),Le("load",e),s=n;break;case"details":Le("toggle",e),s=n;break;case"input":Zm(e,n),s=Rf(e,n),Le("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ve({},n,{value:void 0}),Le("invalid",e);break;case"textarea":Ym(e,n),s=Of(e,n),Le("invalid",e);break;default:s=n}If(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?N0(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j0(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ca(e,l):typeof l=="number"&&Ca(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ea.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Le("scroll",e):l!=null&&cp(e,i,l,o))}switch(r){case"input":El(e),Qm(e,n,!1);break;case"textarea":El(e),Jm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ps(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Fi(e,!!n.multiple,i,!1):n.defaultValue!=null&&Fi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ac)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)Jw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(V(166));if(r=Bs(Ma.current),Bs(Gr.current),Ol(t)){if(n=t.stateNode,r=t.memoizedProps,n[Br]=t,(i=n.nodeValue!==r)&&(e=Qt,e!==null))switch(e.tag){case 3:$l(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$l(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Br]=t,t.stateNode=n}return vt(t),null;case 13:if(Me(Ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Zt!==null&&t.mode&1&&!(t.flags&128))gw(),lo(),t.flags|=98560,i=!1;else if(i=Ol(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[Br]=t}else lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),i=!1}else kr!==null&&(vh(kr),kr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?rt===0&&(rt=3):Wp())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return uo(),ch(e,t),e===null&&$a(t.stateNode.containerInfo),vt(t),null;case 10:return Pp(t.type._context),vt(t),null;case 17:return Ut(t.type)&&$c(),vt(t),null;case 19:if(Me(Ue),i=t.memoizedState,i===null)return vt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)qo(i,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Uc(e),o!==null){for(t.flags|=128,qo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(Ue,Ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&Qe()>ho&&(t.flags|=128,n=!0,qo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Uc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Fe)return vt(t),null}else 2*Qe()-i.renderingStartTime>ho&&r!==1073741824&&(t.flags|=128,n=!0,qo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,r=Ue.current,Re(Ue,n?r&1|2:r&1),t):(vt(t),null);case 22:case 23:return qp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qt&1073741824&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function wE(e,t){switch(kp(t),t.tag){case 1:return Ut(t.type)&&$c(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uo(),Me(Ft),Me(xt),$p(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ap(t),null;case 13:if(Me(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Ue),null;case 4:return uo(),null;case 10:return Pp(t.type._context),null;case 22:case 23:return qp(),null;case 24:return null;default:return null}}var Ml=!1,wt=!1,xE=typeof WeakSet=="function"?WeakSet:Set,X=null;function Mi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){He(e,t,n)}else r.current=null}function uh(e,t,r){try{r()}catch(n){He(e,t,n)}}var zg=!1;function bE(e,t){if(Gf=Nc,e=nw(),_p(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===s&&(a=o),h===i&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kf={focusedElem:e,selectionRange:r},Nc=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,x=b.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:yr(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){He(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return b=zg,zg=!1,b}function pa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&uh(t,r,i)}s=s.next}while(s!==n)}}function Au(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function dh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Xw(e){var t=e.alternate;t!==null&&(e.alternate=null,Xw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Br],delete t[La],delete t[Yf],delete t[nE],delete t[sE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ex(e){return e.tag===5||e.tag===3||e.tag===4}function Vg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ex(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ac));else if(n!==4&&(e=e.child,e!==null))for(fh(e,t,r),e=e.sibling;e!==null;)fh(e,t,r),e=e.sibling}function hh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hh(e,t,r),e=e.sibling;e!==null;)hh(e,t,r),e=e.sibling}var dt=null,_r=!1;function Ln(e,t,r){for(r=r.child;r!==null;)tx(e,t,r),r=r.sibling}function tx(e,t,r){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(ku,r)}catch{}switch(r.tag){case 5:wt||Mi(r,t);case 6:var n=dt,s=_r;dt=null,Ln(e,t,r),dt=n,_r=s,dt!==null&&(_r?(e=dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dt.removeChild(r.stateNode));break;case 18:dt!==null&&(_r?(e=dt,r=r.stateNode,e.nodeType===8?Ud(e.parentNode,r):e.nodeType===1&&Ud(e,r),Ta(e)):Ud(dt,r.stateNode));break;case 4:n=dt,s=_r,dt=r.stateNode.containerInfo,_r=!0,Ln(e,t,r),dt=n,_r=s;break;case 0:case 11:case 14:case 15:if(!wt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&uh(r,t,o),s=s.next}while(s!==n)}Ln(e,t,r);break;case 1:if(!wt&&(Mi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){He(r,t,a)}Ln(e,t,r);break;case 21:Ln(e,t,r);break;case 22:r.mode&1?(wt=(n=wt)||r.memoizedState!==null,Ln(e,t,r),wt=n):Ln(e,t,r);break;default:Ln(e,t,r)}}function Bg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xE),t.forEach(function(n){var s=TE.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function gr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,_r=!1;break e;case 3:dt=a.stateNode.containerInfo,_r=!0;break e;case 4:dt=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if(dt===null)throw Error(V(160));tx(i,o,s),dt=null,_r=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){He(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rx(t,e),t=t.sibling}function rx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gr(t,e),Mr(e),n&4){try{pa(3,e,e.return),Au(3,e)}catch(v){He(e,e.return,v)}try{pa(5,e,e.return)}catch(v){He(e,e.return,v)}}break;case 1:gr(t,e),Mr(e),n&512&&r!==null&&Mi(r,r.return);break;case 5:if(gr(t,e),Mr(e),n&512&&r!==null&&Mi(r,r.return),e.flags&32){var s=e.stateNode;try{Ca(s,"")}catch(v){He(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&k0(s,i),Mf(a,o);var c=Mf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?N0(s,f):d==="dangerouslySetInnerHTML"?j0(s,f):d==="children"?Ca(s,f):cp(s,d,f,c)}switch(a){case"input":Af(s,i);break;case"textarea":E0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Fi(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Fi(s,!!i.multiple,i.defaultValue,!0):Fi(s,!!i.multiple,i.multiple?[]:"",!1))}s[La]=i}catch(v){He(e,e.return,v)}}break;case 6:if(gr(t,e),Mr(e),n&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){He(e,e.return,v)}}break;case 3:if(gr(t,e),Mr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ta(t.containerInfo)}catch(v){He(e,e.return,v)}break;case 4:gr(t,e),Mr(e);break;case 13:gr(t,e),Mr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vp=Qe())),n&4&&Bg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(wt=(c=wt)||d,gr(t,e),wt=c):gr(t,e),Mr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,p=h.child,h.tag){case 0:case 11:case 14:case 15:pa(4,h,h.return);break;case 1:Mi(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){He(n,r,v)}}break;case 5:Mi(h,h.return);break;case 22:if(h.memoizedState!==null){Wg(f);continue}}p!==null?(p.return=h,X=p):Wg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=P0("display",o))}catch(v){He(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){He(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gr(t,e),Mr(e),n&4&&Bg(e);break;case 21:break;default:gr(t,e),Mr(e)}}function Mr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ex(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ca(s,""),n.flags&=-33);var i=Vg(e);hh(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Vg(e);fh(e,a,o);break;default:throw Error(V(161))}}catch(l){He(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _E(e,t,r){X=e,nx(e)}function nx(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ml;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||wt;a=Ml;var c=wt;if(Ml=o,(wt=l)&&!c)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?Hg(s):l!==null?(l.return=o,X=l):Hg(s);for(;i!==null;)X=i,nx(i),i=i.sibling;X=s,Ml=a,wt=c}qg(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):qg(e)}}function qg(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wt||Au(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!wt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:yr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Pg(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pg(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ta(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}wt||t.flags&512&&dh(t)}catch(h){He(t,t.return,h)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function Wg(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function Hg(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Au(4,t)}catch(l){He(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){He(t,s,l)}}var i=t.return;try{dh(t)}catch(l){He(t,i,l)}break;case 5:var o=t.return;try{dh(t)}catch(l){He(t,o,l)}}}catch(l){He(t,t.return,l)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var SE=Math.ceil,Bc=Nn.ReactCurrentDispatcher,Up=Nn.ReactCurrentOwner,or=Nn.ReactCurrentBatchConfig,Se=0,lt=null,Je=null,ft=0,qt=0,Di=Cs(0),rt=0,za=null,ii=0,$u=0,zp=0,ma=null,Lt=null,Vp=0,ho=1/0,cn=null,qc=!1,ph=null,ds=null,Dl=!1,ns=null,Wc=0,ga=0,mh=null,fc=-1,hc=0;function Pt(){return Se&6?Qe():fc!==-1?fc:fc=Qe()}function fs(e){return e.mode&1?Se&2&&ft!==0?ft&-ft:oE.transition!==null?(hc===0&&(hc=z0()),hc):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:K0(e.type)),e):1}function Tr(e,t,r,n){if(50<ga)throw ga=0,mh=null,Error(V(185));il(e,r,n),(!(Se&2)||e!==lt)&&(e===lt&&(!(Se&2)&&($u|=r),rt===4&&Kn(e,ft)),zt(e,n),r===1&&Se===0&&!(t.mode&1)&&(ho=Qe()+500,Nu&&js()))}function zt(e,t){var r=e.callbackNode;ok(e,t);var n=Pc(e,e===lt?ft:0);if(n===0)r!==null&&tg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tg(r),t===1)e.tag===0?iE(Gg.bind(null,e)):hw(Gg.bind(null,e)),tE(function(){!(Se&6)&&js()}),r=null;else{switch(V0(n)){case 1:r=pp;break;case 4:r=F0;break;case 16:r=jc;break;case 536870912:r=U0;break;default:r=jc}r=dx(r,sx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sx(e,t){if(fc=-1,hc=0,Se&6)throw Error(V(327));var r=e.callbackNode;if(qi()&&e.callbackNode!==r)return null;var n=Pc(e,e===lt?ft:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Hc(e,n);else{t=n;var s=Se;Se|=2;var i=ox();(lt!==e||ft!==t)&&(cn=null,ho=Qe()+500,Js(e,t));do try{CE();break}catch(a){ix(e,a)}while(!0);jp(),Bc.current=i,Se=s,Je!==null?t=0:(lt=null,ft=0,t=rt)}if(t!==0){if(t===2&&(s=Vf(e),s!==0&&(n=s,t=gh(e,s))),t===1)throw r=za,Js(e,0),Kn(e,n),zt(e,Qe()),r;if(t===6)Kn(e,n);else{if(s=e.current.alternate,!(n&30)&&!kE(s)&&(t=Hc(e,n),t===2&&(i=Vf(e),i!==0&&(n=i,t=gh(e,i))),t===1))throw r=za,Js(e,0),Kn(e,n),zt(e,Qe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(V(345));case 2:Ms(e,Lt,cn);break;case 3:if(Kn(e,n),(n&130023424)===n&&(t=Vp+500-Qe(),10<t)){if(Pc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Pt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Qf(Ms.bind(null,e,Lt,cn),t);break}Ms(e,Lt,cn);break;case 4:if(Kn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Nr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SE(n/1960))-n,10<n){e.timeoutHandle=Qf(Ms.bind(null,e,Lt,cn),n);break}Ms(e,Lt,cn);break;case 5:Ms(e,Lt,cn);break;default:throw Error(V(329))}}}return zt(e,Qe()),e.callbackNode===r?sx.bind(null,e):null}function gh(e,t){var r=ma;return e.current.memoizedState.isDehydrated&&(Js(e,t).flags|=256),e=Hc(e,t),e!==2&&(t=Lt,Lt=r,t!==null&&vh(t)),e}function vh(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function kE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Rr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t){for(t&=~zp,t&=~$u,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nr(t),n=1<<r;e[r]=-1,t&=~n}}function Gg(e){if(Se&6)throw Error(V(327));qi();var t=Pc(e,0);if(!(t&1))return zt(e,Qe()),null;var r=Hc(e,t);if(e.tag!==0&&r===2){var n=Vf(e);n!==0&&(t=n,r=gh(e,n))}if(r===1)throw r=za,Js(e,0),Kn(e,t),zt(e,Qe()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ms(e,Lt,cn),zt(e,Qe()),null}function Bp(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(ho=Qe()+500,Nu&&js())}}function oi(e){ns!==null&&ns.tag===0&&!(Se&6)&&qi();var t=Se;Se|=1;var r=or.transition,n=Pe;try{if(or.transition=null,Pe=1,e)return e()}finally{Pe=n,or.transition=r,Se=t,!(Se&6)&&js()}}function qp(){qt=Di.current,Me(Di)}function Js(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eE(r)),Je!==null)for(r=Je.return;r!==null;){var n=r;switch(kp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$c();break;case 3:uo(),Me(Ft),Me(xt),$p();break;case 5:Ap(n);break;case 4:uo();break;case 13:Me(Ue);break;case 19:Me(Ue);break;case 10:Pp(n.type._context);break;case 22:case 23:qp()}r=r.return}if(lt=e,Je=e=hs(e.current,null),ft=qt=t,rt=0,za=null,zp=$u=ii=0,Lt=ma=null,Vs!==null){for(t=0;t<Vs.length;t++)if(r=Vs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Vs=null}return e}function ix(e,t){do{var r=Je;try{if(jp(),cc.current=Vc,zc){for(var n=ze.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}zc=!1}if(si=0,ot=tt=ze=null,ha=!1,Da=0,Up.current=null,r===null||r.return===null){rt=1,za=t,Je=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Og(o);if(p!==null){p.flags&=-257,Lg(p,o,a,i,t),p.mode&1&&$g(i,c,t),t=p,l=c;var b=t.updateQueue;if(b===null){var v=new Set;v.add(l),t.updateQueue=v}else b.add(l);break e}else{if(!(t&1)){$g(i,c,t),Wp();break e}l=Error(V(426))}}else if(Fe&&a.mode&1){var x=Og(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Lg(x,o,a,i,t),Ep(fo(l,a));break e}}i=l=fo(l,a),rt!==4&&(rt=2),ma===null?ma=[i]:ma.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Vw(i,l,t);jg(i,g);break e;case 1:a=l;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ds===null||!ds.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Bw(i,a,t);jg(i,_);break e}}i=i.return}while(i!==null)}lx(r)}catch(S){t=S,Je===r&&r!==null&&(Je=r=r.return);continue}break}while(!0)}function ox(){var e=Bc.current;return Bc.current=Vc,e===null?Vc:e}function Wp(){(rt===0||rt===3||rt===2)&&(rt=4),lt===null||!(ii&268435455)&&!($u&268435455)||Kn(lt,ft)}function Hc(e,t){var r=Se;Se|=2;var n=ox();(lt!==e||ft!==t)&&(cn=null,Js(e,t));do try{EE();break}catch(s){ix(e,s)}while(!0);if(jp(),Se=r,Bc.current=n,Je!==null)throw Error(V(261));return lt=null,ft=0,rt}function EE(){for(;Je!==null;)ax(Je)}function CE(){for(;Je!==null&&!YS();)ax(Je)}function ax(e){var t=ux(e.alternate,e,qt);e.memoizedProps=e.pendingProps,t===null?lx(e):Je=t,Up.current=null}function lx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wE(r,t),r!==null){r.flags&=32767,Je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Je=null;return}}else if(r=yE(r,t,qt),r!==null){Je=r;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);rt===0&&(rt=5)}function Ms(e,t,r){var n=Pe,s=or.transition;try{or.transition=null,Pe=1,jE(e,t,r,n)}finally{or.transition=s,Pe=n}return null}function jE(e,t,r,n){do qi();while(ns!==null);if(Se&6)throw Error(V(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ak(e,i),e===lt&&(Je=lt=null,ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Dl||(Dl=!0,dx(jc,function(){return qi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=or.transition,or.transition=null;var o=Pe;Pe=1;var a=Se;Se|=4,Up.current=null,bE(e,r),rx(r,e),Gk(Kf),Nc=!!Gf,Kf=Gf=null,e.current=r,_E(r),JS(),Se=a,Pe=o,or.transition=i}else e.current=r;if(Dl&&(Dl=!1,ns=e,Wc=s),i=e.pendingLanes,i===0&&(ds=null),tk(r.stateNode),zt(e,Qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(qc)throw qc=!1,e=ph,ph=null,e;return Wc&1&&e.tag!==0&&qi(),i=e.pendingLanes,i&1?e===mh?ga++:(ga=0,mh=e):ga=0,js(),null}function qi(){if(ns!==null){var e=V0(Wc),t=or.transition,r=Pe;try{if(or.transition=null,Pe=16>e?16:e,ns===null)var n=!1;else{if(e=ns,ns=null,Wc=0,Se&6)throw Error(V(331));var s=Se;for(Se|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:pa(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,p=d.return;if(Xw(d),d===c){X=null;break}if(h!==null){h.return=p,X=h;break}X=p}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pa(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,X=g;break e}X=i.return}}var y=e.current;for(X=y;X!==null;){o=X;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,X=w;else e:for(o=y;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Au(9,a)}}catch(S){He(a,a.return,S)}if(a===o){X=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,X=_;break e}X=a.return}}if(Se=s,js(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(ku,e)}catch{}n=!0}return n}finally{Pe=r,or.transition=t}}return!1}function Kg(e,t,r){t=fo(r,t),t=Vw(e,t,1),e=us(e,t,1),t=Pt(),e!==null&&(il(e,1,t),zt(e,t))}function He(e,t,r){if(e.tag===3)Kg(e,e,r);else for(;t!==null;){if(t.tag===3){Kg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ds===null||!ds.has(n))){e=fo(r,e),e=Bw(t,e,1),t=us(t,e,1),e=Pt(),t!==null&&(il(t,1,e),zt(t,e));break}}t=t.return}}function PE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&r,lt===e&&(ft&r)===r&&(rt===4||rt===3&&(ft&130023424)===ft&&500>Qe()-Vp?Js(e,0):zp|=r),zt(e,t)}function cx(e,t){t===0&&(e.mode&1?(t=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):t=1);var r=Pt();e=bn(e,t),e!==null&&(il(e,t,r),zt(e,r))}function NE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cx(e,r)}function TE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(t),cx(e,r)}var ux;ux=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)Dt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Dt=!1,vE(e,t,r);Dt=!!(e.flags&131072)}else Dt=!1,Fe&&t.flags&1048576&&pw(t,Ic,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;dc(e,t),e=t.pendingProps;var s=ao(t,xt.current);Bi(t,r),s=Lp(null,t,n,e,s,r);var i=Ip();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(n)?(i=!0,Oc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tp(t),s.updater=Ru,t.stateNode=s,s._reactInternals=t,nh(t,n,e,r),t=oh(null,t,n,!0,i,r)):(t.tag=0,Fe&&i&&Sp(t),Et(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(dc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=AE(n),e=yr(n,e),s){case 0:t=ih(null,t,n,e,r);break e;case 1:t=Dg(null,t,n,e,r);break e;case 11:t=Ig(null,t,n,e,r);break e;case 14:t=Mg(null,t,n,yr(n.type,e),r);break e}throw Error(V(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),ih(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),Dg(e,t,n,s,r);case 3:e:{if(Gw(t),e===null)throw Error(V(387));n=t.pendingProps,i=t.memoizedState,s=i.element,xw(e,t),Fc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=fo(Error(V(423)),t),t=Fg(e,t,n,r,s);break e}else if(n!==s){s=fo(Error(V(424)),t),t=Fg(e,t,n,r,s);break e}else for(Zt=cs(t.stateNode.containerInfo.firstChild),Qt=t,Fe=!0,kr=null,r=yw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lo(),n===s){t=_n(e,t,r);break e}Et(e,t,n,r)}t=t.child}return t;case 5:return bw(t),e===null&&eh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Zf(n,s)?o=null:i!==null&&Zf(n,i)&&(t.flags|=32),Hw(e,t),Et(e,t,o,r),t.child;case 6:return e===null&&eh(t),null;case 13:return Kw(e,t,r);case 4:return Rp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=co(t,null,n,r):Et(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),Ig(e,t,n,s,r);case 7:return Et(e,t,t.pendingProps,r),t.child;case 8:return Et(e,t,t.pendingProps.children,r),t.child;case 12:return Et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Re(Mc,n._currentValue),n._currentValue=o,i!==null)if(Rr(i.value,o)){if(i.children===s.children&&!Ft.current){t=_n(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=gn(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),th(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),th(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Et(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Bi(t,r),s=cr(s),n=n(s),t.flags|=1,Et(e,t,n,r),t.child;case 14:return n=t.type,s=yr(n,t.pendingProps),s=yr(n.type,s),Mg(e,t,n,s,r);case 15:return qw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yr(n,s),dc(e,t),t.tag=1,Ut(n)?(e=!0,Oc(t)):e=!1,Bi(t,r),zw(t,n,s),nh(t,n,s,r),oh(null,t,n,!0,e,r);case 19:return Zw(e,t,r);case 22:return Ww(e,t,r)}throw Error(V(156,t.tag))};function dx(e,t){return D0(e,t)}function RE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(e,t,r,n){return new RE(e,t,r,n)}function Hp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AE(e){if(typeof e=="function")return Hp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dp)return 11;if(e===fp)return 14}return 2}function hs(e,t){var r=e.alternate;return r===null?(r=ir(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function pc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Hp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pi:return Xs(r.children,s,i,t);case up:o=8,s|=8;break;case jf:return e=ir(12,r,t,s|2),e.elementType=jf,e.lanes=i,e;case Pf:return e=ir(13,r,t,s),e.elementType=Pf,e.lanes=i,e;case Nf:return e=ir(19,r,t,s),e.elementType=Nf,e.lanes=i,e;case b0:return Ou(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w0:o=10;break e;case x0:o=9;break e;case dp:o=11;break e;case fp:o=14;break e;case Vn:o=16,n=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=ir(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Xs(e,t,r,n){return e=ir(7,e,n,t),e.lanes=r,e}function Ou(e,t,r,n){return e=ir(22,e,n,t),e.elementType=b0,e.lanes=r,e.stateNode={isHidden:!1},e}function Kd(e,t,r){return e=ir(6,e,null,t),e.lanes=r,e}function Zd(e,t,r){return t=ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $E(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nd(0),this.expirationTimes=Nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gp(e,t,r,n,s,i,o,a,l){return e=new $E(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ir(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tp(i),e}function OE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ji,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function fx(e){if(!e)return ms;e=e._reactInternals;e:{if(hi(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(Ut(r))return fw(e,r,t)}return t}function hx(e,t,r,n,s,i,o,a,l){return e=Gp(r,n,!0,e,s,i,o,a,l),e.context=fx(null),r=e.current,n=Pt(),s=fs(r),i=gn(n,s),i.callback=t??null,us(r,i,s),e.current.lanes=s,il(e,s,n),zt(e,n),e}function Lu(e,t,r,n){var s=t.current,i=Pt(),o=fs(s);return r=fx(r),t.context===null?t.context=r:t.pendingContext=r,t=gn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=us(s,t,o),e!==null&&(Tr(e,s,o,i),lc(e,s,o)),o}function Gc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Kp(e,t){Zg(e,t),(e=e.alternate)&&Zg(e,t)}function LE(){return null}var px=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zp(e){this._internalRoot=e}Iu.prototype.render=Zp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Lu(e,t,null,null)};Iu.prototype.unmount=Zp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oi(function(){Lu(null,e,null,null)}),t[xn]=null}};function Iu(e){this._internalRoot=e}Iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=W0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gn.length&&t!==0&&t<Gn[r].priority;r++);Gn.splice(r,0,e),r===0&&G0(e)}};function Qp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qg(){}function IE(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Gc(o);i.call(c)}}var o=hx(t,n,e,0,null,!1,!1,"",Qg);return e._reactRootContainer=o,e[xn]=o.current,$a(e.nodeType===8?e.parentNode:e),oi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Gc(l);a.call(c)}}var l=Gp(e,0,!1,null,null,!1,!1,"",Qg);return e._reactRootContainer=l,e[xn]=l.current,$a(e.nodeType===8?e.parentNode:e),oi(function(){Lu(t,l,r,n)}),l}function Du(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Gc(o);a.call(l)}}Lu(t,o,e,s)}else o=IE(r,t,e,s,n);return Gc(o)}B0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xo(t.pendingLanes);r!==0&&(mp(t,r|1),zt(t,Qe()),!(Se&6)&&(ho=Qe()+500,js()))}break;case 13:oi(function(){var n=bn(e,1);if(n!==null){var s=Pt();Tr(n,e,1,s)}}),Kp(e,1)}};gp=function(e){if(e.tag===13){var t=bn(e,134217728);if(t!==null){var r=Pt();Tr(t,e,134217728,r)}Kp(e,134217728)}};q0=function(e){if(e.tag===13){var t=fs(e),r=bn(e,t);if(r!==null){var n=Pt();Tr(r,e,t,n)}Kp(e,t)}};W0=function(){return Pe};H0=function(e,t){var r=Pe;try{return Pe=e,t()}finally{Pe=r}};Ff=function(e,t,r){switch(t){case"input":if(Af(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Pu(n);if(!s)throw Error(V(90));S0(n),Af(n,s)}}}break;case"textarea":E0(e,r);break;case"select":t=r.value,t!=null&&Fi(e,!!r.multiple,t,!1)}};A0=Bp;$0=oi;var ME={usingClientEntryPoint:!1,Events:[al,Ai,Pu,T0,R0,Bp]},Wo={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DE={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=I0(e),e===null?null:e.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||LE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{ku=Fl.inject(DE),Hr=Fl}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ME;Xt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qp(t))throw Error(V(200));return OE(e,t,null,r)};Xt.createRoot=function(e,t){if(!Qp(e))throw Error(V(299));var r=!1,n="",s=px;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Gp(e,1,!1,null,null,r,!1,n,s),e[xn]=t.current,$a(e.nodeType===8?e.parentNode:e),new Zp(t)};Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=I0(t),e=e===null?null:e.stateNode,e};Xt.flushSync=function(e){return oi(e)};Xt.hydrate=function(e,t,r){if(!Mu(t))throw Error(V(200));return Du(null,e,t,!0,r)};Xt.hydrateRoot=function(e,t,r){if(!Qp(e))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=px;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=hx(t,null,e,1,r??null,s,!1,i,o),e[xn]=t.current,$a(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Iu(t)};Xt.render=function(e,t,r){if(!Mu(t))throw Error(V(200));return Du(null,e,t,!1,r)};Xt.unmountComponentAtNode=function(e){if(!Mu(e))throw Error(V(40));return e._reactRootContainer?(oi(function(){Du(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};Xt.unstable_batchedUpdates=Bp;Xt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Mu(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Du(e,t,r,!1,n)};Xt.version="18.3.1-next-f1338f8080-20240426";function mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mx)}catch(e){console.error(e)}}mx(),m0.exports=Xt;var cl=m0.exports;const gx=r0(cl);var vx,Yg=cl;vx=Yg.createRoot,Yg.hydrateRoot;const FE=1,UE=1e6;let Qd=0;function zE(){return Qd=(Qd+1)%Number.MAX_SAFE_INTEGER,Qd.toString()}const Yd=new Map,Jg=e=>{if(Yd.has(e))return;const t=setTimeout(()=>{Yd.delete(e),va({type:"REMOVE_TOAST",toastId:e})},UE);Yd.set(e,t)},VE=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,FE)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Jg(r):e.toasts.forEach(n=>{Jg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},mc=[];let gc={toasts:[]};function va(e){gc=VE(gc,e),mc.forEach(t=>{t(gc)})}function yh({...e}){const t=zE(),r=s=>va({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>va({type:"DISMISS_TOAST",toastId:t});return va({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function _t(){const[e,t]=m.useState(gc);return m.useEffect(()=>(mc.push(t),()=>{const r=mc.indexOf(t);r>-1&&mc.splice(r,1)}),[e]),{...e,toast:yh,dismiss:r=>va({type:"DISMISS_TOAST",toastId:r})}}function Ie(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Xg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yx(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Xg(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Xg(e[s],null)}}}}function bt(...e){return m.useCallback(yx(...e),e)}function BE(e,t){const r=m.createContext(t),n=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return u.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Co(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const c=f=>{var g;const{scope:h,children:p,...b}=f,v=((g=h==null?void 0:h[e])==null?void 0:g[l])||a,x=m.useMemo(()=>b,Object.values(b));return u.jsx(v.Provider,{value:x,children:p})};c.displayName=i+"Provider";function d(f,h){var v;const p=((v=h==null?void 0:h[e])==null?void 0:v[l])||a,b=m.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,qE(s,...t)]}function qE(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Va(e){const t=WE(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(GE);if(l){const c=l.props.children,d=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return u.jsx(t,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var wx=Va("Slot");function WE(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=ZE(s),a=KE(i,s.props);return s.type!==m.Fragment&&(a.ref=n?yx(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xx=Symbol("radix.slottable");function HE(e){const t=({children:r})=>u.jsx(u.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=xx,t}function GE(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xx}function KE(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function ZE(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function QE(e){const t=e+"CollectionProvider",[r,n]=Co(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:g}=v,y=$.useRef(null),w=$.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:w,collectionRef:y,children:g})};o.displayName=t;const a=e+"CollectionSlot",l=Va(a),c=$.forwardRef((v,x)=>{const{scope:g,children:y}=v,w=i(a,g),_=bt(x,w.collectionRef);return u.jsx(l,{ref:_,children:y})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Va(d),p=$.forwardRef((v,x)=>{const{scope:g,children:y,...w}=v,_=$.useRef(null),S=bt(x,_),E=i(d,g);return $.useEffect(()=>(E.itemMap.set(_,{ref:_,...w}),()=>void E.itemMap.delete(_))),u.jsx(h,{[f]:"",ref:S,children:y})});p.displayName=d;function b(v){const x=i(e+"CollectionConsumer",v);return $.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((E,j)=>w.indexOf(E.ref.current)-w.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},b,n]}var YE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Be=YE.reduce((e,t)=>{const r=Va(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function bx(e,t){e&&cl.flushSync(()=>e.dispatchEvent(t))}function dr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function JE(e,t=globalThis==null?void 0:globalThis.document){const r=dr(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var XE="DismissableLayer",wh="dismissableLayer.update",eC="dismissableLayer.pointerDownOutside",tC="dismissableLayer.focusOutside",ev,_x=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fu=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=m.useContext(_x),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),b=bt(t,j=>f(j)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(x),y=d?v.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,_=y>=g,S=nC(j=>{const C=j.target,P=[...c.branches].some(M=>M.contains(C));!_||P||(s==null||s(j),o==null||o(j),j.defaultPrevented||a==null||a())},h),E=sC(j=>{const C=j.target;[...c.branches].some(M=>M.contains(C))||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},h);return JE(j=>{y===c.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},h),m.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ev=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),tv(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ev)}},[d,h,r,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),tv())},[d,c]),m.useEffect(()=>{const j=()=>p({});return document.addEventListener(wh,j),()=>document.removeEventListener(wh,j)},[]),u.jsx(Be.div,{...l,ref:b,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,S.onPointerDownCapture)})});Fu.displayName=XE;var rC="DismissableLayerBranch",Sx=m.forwardRef((e,t)=>{const r=m.useContext(_x),n=m.useRef(null),s=bt(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),u.jsx(Be.div,{...e,ref:s})});Sx.displayName=rC;function nC(e,t=globalThis==null?void 0:globalThis.document){const r=dr(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){kx(eC,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function sC(e,t=globalThis==null?void 0:globalThis.document){const r=dr(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&kx(tC,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tv(){const e=new CustomEvent(wh);document.dispatchEvent(e)}function kx(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?bx(s,i):s.dispatchEvent(i)}var iC=Fu,oC=Sx,gs=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},aC="Portal",Yp=m.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=m.useState(!1);gs(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gx.createPortal(u.jsx(Be.div,{...n,ref:t}),o):null});Yp.displayName=aC;function lC(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var jo=e=>{const{present:t,children:r}=e,n=cC(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=bt(n.ref,uC(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};jo.displayName="Presence";function cC(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[a,l]=lC(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Ul(n.current);i.current=a==="mounted"?c:"none"},[a]),gs(()=>{const c=n.current,d=s.current;if(d!==e){const h=i.current,p=Ul(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),gs(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=p=>{const v=Ul(n.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=Ul(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function Ul(e){return(e==null?void 0:e.animationName)||"none"}function uC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Jp({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=dC({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,a=dr(r),l=m.useCallback(c=>{if(i){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else s(c)},[i,e,s,a]);return[o,l]}function dC({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),i=dr(t);return m.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var fC="VisuallyHidden",Uu=m.forwardRef((e,t)=>u.jsx(Be.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Uu.displayName=fC;var hC=Uu,Xp="ToastProvider",[em,pC,mC]=QE("Toast"),[Ex,NI]=Co("Toast",[mC]),[gC,zu]=Ex(Xp),Cx=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=m.useState(null),[c,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xp}\`. Expected non-empty \`string\`.`),u.jsx(em.Provider,{scope:t,children:u.jsx(gC,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Cx.displayName=Xp;var jx="ToastViewport",vC=["F8"],xh="toast.viewportPause",bh="toast.viewportResume",Px=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=vC,label:s="Notifications ({hotkey})",...i}=e,o=zu(jx,r),a=pC(r),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=bt(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;m.useEffect(()=>{const x=g=>{var w;n.length!==0&&n.every(_=>g[_]||g.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),m.useEffect(()=>{const x=l.current,g=f.current;if(b&&x&&g){const y=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(xh);g.dispatchEvent(E),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(bh);g.dispatchEvent(E),o.isClosePausedRef.current=!1}},_=E=>{!x.contains(E.relatedTarget)&&w()},S=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",y),x.addEventListener("focusout",_),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[b,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:x})=>{const y=a().map(w=>{const _=w.ref.current,S=[_,...TC(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const x=f.current;if(x){const g=y=>{var S,E,j;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const C=document.activeElement,P=y.shiftKey;if(y.target===x&&P){(S=c.current)==null||S.focus();return}const R=v({tabbingDirection:P?"backwards":"forwards"}),D=R.findIndex(L=>L===C);Jd(R.slice(D+1))?y.preventDefault():P?(E=c.current)==null||E.focus():(j=d.current)==null||j.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[a,v]),u.jsxs(oC,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&u.jsx(_h,{ref:c,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});Jd(x)}}),u.jsx(em.Slot,{scope:r,children:u.jsx(Be.ol,{tabIndex:-1,...i,ref:h})}),b&&u.jsx(_h,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});Jd(x)}})]})});Px.displayName=jx;var Nx="ToastFocusProxy",_h=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=zu(Nx,r);return u.jsx(Uu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&n()}})});_h.displayName=Nx;var Vu="Toast",yC="toast.swipeStart",wC="toast.swipeMove",xC="toast.swipeCancel",bC="toast.swipeEnd",Tx=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[a=!0,l]=Jp({prop:n,defaultProp:s,onChange:i});return u.jsx(jo,{present:r||a,children:u.jsx(kC,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:dr(e.onPause),onResume:dr(e.onResume),onSwipeStart:Ie(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ie(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Tx.displayName=Vu;var[_C,SC]=Ex(Vu,{onClose(){}}),kC=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...b}=e,v=zu(Vu,r),[x,g]=m.useState(null),y=bt(t,L=>g(L)),w=m.useRef(null),_=m.useRef(null),S=s||v.duration,E=m.useRef(0),j=m.useRef(S),C=m.useRef(0),{onToastAdd:P,onToastRemove:M}=v,F=dr(()=>{var W;(x==null?void 0:x.contains(document.activeElement))&&((W=v.viewport)==null||W.focus()),o()}),R=m.useCallback(L=>{!L||L===1/0||(window.clearTimeout(C.current),E.current=new Date().getTime(),C.current=window.setTimeout(F,L))},[F]);m.useEffect(()=>{const L=v.viewport;if(L){const W=()=>{R(j.current),c==null||c()},Y=()=>{const te=new Date().getTime()-E.current;j.current=j.current-te,window.clearTimeout(C.current),l==null||l()};return L.addEventListener(xh,Y),L.addEventListener(bh,W),()=>{L.removeEventListener(xh,Y),L.removeEventListener(bh,W)}}},[v.viewport,S,l,c,R]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&R(S)},[i,S,v.isClosePausedRef,R]),m.useEffect(()=>(P(),()=>M()),[P,M]);const D=m.useMemo(()=>x?Mx(x):null,[x]);return v.viewport?u.jsxs(u.Fragment,{children:[D&&u.jsx(EC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),u.jsx(_C,{scope:r,onClose:F,children:cl.createPortal(u.jsx(em.ItemSlot,{scope:r,children:u.jsx(iC,{asChild:!0,onEscapeKeyDown:Ie(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||F(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ie(e.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Ie(e.onPointerDown,L=>{L.button===0&&(w.current={x:L.clientX,y:L.clientY})}),onPointerMove:Ie(e.onPointerMove,L=>{if(!w.current)return;const W=L.clientX-w.current.x,Y=L.clientY-w.current.y,te=!!_.current,T=["left","right"].includes(v.swipeDirection),I=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,H=T?I(0,W):0,ae=T?0:I(0,Y),se=L.pointerType==="touch"?10:2,re={x:H,y:ae},oe={originalEvent:L,delta:re};te?(_.current=re,zl(wC,f,oe,{discrete:!1})):rv(re,v.swipeDirection,se)?(_.current=re,zl(yC,d,oe,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(W)>se||Math.abs(Y)>se)&&(w.current=null)}),onPointerUp:Ie(e.onPointerUp,L=>{const W=_.current,Y=L.target;if(Y.hasPointerCapture(L.pointerId)&&Y.releasePointerCapture(L.pointerId),_.current=null,w.current=null,W){const te=L.currentTarget,T={originalEvent:L,delta:W};rv(W,v.swipeDirection,v.swipeThreshold)?zl(bC,p,T,{discrete:!0}):zl(xC,h,T,{discrete:!0}),te.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),EC=e=>{const{__scopeToast:t,children:r,...n}=e,s=zu(Vu,t),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return PC(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Yp,{asChild:!0,children:u.jsx(Uu,{...n,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",r]})})})},CC="ToastTitle",Rx=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return u.jsx(Be.div,{...n,ref:t})});Rx.displayName=CC;var jC="ToastDescription",Ax=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return u.jsx(Be.div,{...n,ref:t})});Ax.displayName=jC;var $x="ToastAction",Ox=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?u.jsx(Ix,{altText:r,asChild:!0,children:u.jsx(tm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$x}\`. Expected non-empty \`string\`.`),null)});Ox.displayName=$x;var Lx="ToastClose",tm=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=SC(Lx,r);return u.jsx(Ix,{asChild:!0,children:u.jsx(Be.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,s.onClose)})})});tm.displayName=Lx;var Ix=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return u.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Mx(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),NC(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Mx(n))}}),t}function zl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?bx(s,i):s.dispatchEvent(i)}var rv=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function PC(e=()=>{}){const t=dr(e);gs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function NC(e){return e.nodeType===e.ELEMENT_NODE}function TC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Jd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var RC=Cx,Dx=Px,Fx=Tx,Ux=Rx,zx=Ax,Vx=Ox,Bx=tm;function qx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=qx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Wx(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=qx(e))&&(n&&(n+=" "),n+=t);return n}const nv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sv=Wx,Bu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return sv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const d=r==null?void 0:r[c],f=i==null?void 0:i[c];if(d===null)return null;const h=nv(d)||nv(f);return s[c][h]}),a=r&&Object.entries(r).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(b=>{let[v,x]=b;return Array.isArray(x)?x.includes({...i,...a}[v]):{...i,...a}[v]===x})?[...c,f,h]:c},[]);return sv(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...$C,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Hx("lucide",s),...a},[...o.map(([c,d])=>m.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(OC,{ref:i,iconNode:t,className:Hx(`lucide-${AC(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=ke("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=ke("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ke("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ke("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ke("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=ke("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=ke("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=ke("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=ke("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=ke("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=ke("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=ke("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=ke("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nm="-",JC=e=>{const t=ej(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(nm);return a[0]===""&&a.length!==1&&a.shift(),Yx(a,t)||XC(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},Yx=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Yx(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(nm);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},cv=/^\[(.+)\]$/,XC=e=>{if(cv.test(e)){const t=cv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ej=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return rj(Object.entries(e.classGroups),r).forEach(([i,o])=>{Sh(o,n,i,t)}),n},Sh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:uv(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(tj(s)){Sh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Sh(o,uv(t,i),r,n)})})},uv=(e,t)=>{let r=e;return t.split(nm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},tj=e=>e.isThemeGetter,rj=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,nj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Jx="!",sj=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,d=0,f;for(let x=0;x<a.length;x++){let g=a[x];if(c===0){if(g===s&&(n||a.slice(x,x+i)===t)){l.push(a.slice(d,x)),d=x+i;continue}if(g==="/"){f=x;continue}}g==="["?c++:g==="]"&&c--}const h=l.length===0?a:a.substring(d),p=h.startsWith(Jx),b=p?h.substring(1):h,v=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:v}};return r?a=>r({className:a,parseClassName:o}):o},ij=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},oj=e=>({cache:nj(e.cacheSize),parseClassName:sj(e),...JC(e)}),aj=/\s+/,lj=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(aj);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(c);let b=!!p,v=n(b?h.substring(0,p):h);if(!v){if(!b){a=c+(a.length>0?" "+a:a);continue}if(v=n(h),!v){a=c+(a.length>0?" "+a:a);continue}b=!1}const x=ij(d).join(":"),g=f?x+Jx:x,y=g+v;if(i.includes(y))continue;i.push(y);const w=s(v,b);for(let _=0;_<w.length;++_){const S=w[_];i.push(g+S)}a=c+(a.length>0?" "+a:a)}return a};function cj(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Xx(t))&&(n&&(n+=" "),n+=r);return n}const Xx=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Xx(e[n]))&&(r&&(r+=" "),r+=t);return r};function uj(e,...t){let r,n,s,i=o;function o(l){const c=t.reduce((d,f)=>f(d),e());return r=oj(c),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=lj(l,r);return s(l,d),d}return function(){return i(cj.apply(null,arguments))}}const Oe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},eb=/^\[(?:([a-z-]+):)?(.+)\]$/i,dj=/^\d+\/\d+$/,fj=new Set(["px","full","screen"]),hj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nn=e=>Wi(e)||fj.has(e)||dj.test(e),In=e=>No(e,"length",Ej),Wi=e=>!!e&&!Number.isNaN(Number(e)),ef=e=>No(e,"number",Wi),Ho=e=>!!e&&Number.isInteger(Number(e)),yj=e=>e.endsWith("%")&&Wi(e.slice(0,-1)),he=e=>eb.test(e),Mn=e=>hj.test(e),wj=new Set(["length","size","percentage"]),xj=e=>No(e,wj,tb),bj=e=>No(e,"position",tb),_j=new Set(["image","url"]),Sj=e=>No(e,_j,jj),kj=e=>No(e,"",Cj),Go=()=>!0,No=(e,t,r)=>{const n=eb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Ej=e=>pj.test(e)&&!mj.test(e),tb=()=>!1,Cj=e=>gj.test(e),jj=e=>vj.test(e),Pj=()=>{const e=Oe("colors"),t=Oe("spacing"),r=Oe("blur"),n=Oe("brightness"),s=Oe("borderColor"),i=Oe("borderRadius"),o=Oe("borderSpacing"),a=Oe("borderWidth"),l=Oe("contrast"),c=Oe("grayscale"),d=Oe("hueRotate"),f=Oe("invert"),h=Oe("gap"),p=Oe("gradientColorStops"),b=Oe("gradientColorStopPositions"),v=Oe("inset"),x=Oe("margin"),g=Oe("opacity"),y=Oe("padding"),w=Oe("saturate"),_=Oe("scale"),S=Oe("sepia"),E=Oe("skew"),j=Oe("space"),C=Oe("translate"),P=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",he,t],R=()=>[he,t],D=()=>["",nn,In],L=()=>["auto",Wi,he],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",he],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Wi,he];return{cacheSize:500,separator:":",theme:{colors:[Go],spacing:[nn,In],blur:["none","",Mn,he],brightness:ae(),borderColor:[e],borderRadius:["none","","full",Mn,he],borderSpacing:R(),borderWidth:D(),contrast:ae(),grayscale:I(),hueRotate:ae(),invert:I(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[yj,In],inset:F(),margin:F(),opacity:ae(),padding:R(),saturate:ae(),scale:ae(),sepia:I(),skew:ae(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[Mn]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),he]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ho,he]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Ho,he]}],"grid-cols":[{"grid-cols":[Go]}],"col-start-end":[{col:["auto",{span:["full",Ho,he]},he]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Go]}],"row-start-end":[{row:["auto",{span:[Ho,he]},he]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,t]}],"min-w":[{"min-w":[he,t,"min","max","fit"]}],"max-w":[{"max-w":[he,t,"none","full","min","max","fit","prose",{screen:[Mn]},Mn]}],h:[{h:[he,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Mn,In]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ef]}],"font-family":[{font:[Go]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Wi,ef]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nn,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nn,In]}],"underline-offset":[{"underline-offset":["auto",nn,he]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),bj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[nn,he]}],"outline-w":[{outline:[nn,In]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[nn,In]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Mn,kj]}],"shadow-color":[{shadow:[Go]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Mn,he]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ho,he]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nn,In,ef]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Nj=uj(Pj);function Ae(...e){return Nj(Wx(e))}const Tj=RC,rb=m.forwardRef(({className:e,...t},r)=>u.jsx(Dx,{ref:r,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));rb.displayName=Dx.displayName;const Rj=Bu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),nb=m.forwardRef(({className:e,variant:t,...r},n)=>u.jsx(Fx,{ref:n,className:Ae(Rj({variant:t}),e),...r}));nb.displayName=Fx.displayName;const Aj=m.forwardRef(({className:e,...t},r)=>u.jsx(Vx,{ref:r,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Aj.displayName=Vx.displayName;const sb=m.forwardRef(({className:e,...t},r)=>u.jsx(Bx,{ref:r,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(Sn,{className:"h-4 w-4"})}));sb.displayName=Bx.displayName;const ib=m.forwardRef(({className:e,...t},r)=>u.jsx(Ux,{ref:r,className:Ae("text-sm font-semibold",e),...t}));ib.displayName=Ux.displayName;const ob=m.forwardRef(({className:e,...t},r)=>u.jsx(zx,{ref:r,className:Ae("text-sm opacity-90",e),...t}));ob.displayName=zx.displayName;function $j(){const{toasts:e}=_t();return u.jsxs(Tj,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return u.jsxs(nb,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(ib,{children:r}),n&&u.jsx(ob,{children:n})]}),s,u.jsx(sb,{})]},t)}),u.jsx(rb,{})]})}var dv=["light","dark"],Oj="(prefers-color-scheme: dark)",Lj=m.createContext(void 0),Ij={setTheme:e=>{},themes:[]},Mj=()=>{var e;return(e=m.useContext(Lj))!=null?e:Ij};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?dv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(b,v=!1,x=!0)=>{let g=o?o[b]:b,y=v?b+"|| ''":`'${g}'`,w="";return s&&x&&!v&&dv.includes(b)&&(w+=`d.style.colorScheme = '${b}';`),r==="class"?v||g?w+=`c.add(${y})`:w+="null":g&&(w+=`d[s](n,${y})`),w},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${Oj}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var Dj=e=>{switch(e){case"success":return zj;case"info":return Bj;case"warning":return Vj;case"error":return qj;default:return null}},Fj=Array(12).fill(0),Uj=({visible:e,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},$.createElement("div",{className:"sonner-spinner"},Fj.map((r,n)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),zj=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Vj=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Bj=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qj=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Wj=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Hj=()=>{let[e,t]=$.useState(document.hidden);return $.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},kh=1,Gj=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:kh++,i=this.toasts.find(a=>a.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async l=>{if(i=["resolve",l],$.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(Zj(l)&&!l.ok){s=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:d})}else if(t.success!==void 0){s=!1;let c=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:d})}}).catch(async l=>{if(i=["reject",l],t.error!==void 0){s=!1;let c=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||kh++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ot=new Gj,Kj=(e,t)=>{let r=(t==null?void 0:t.id)||kh++;return Ot.addToast({title:e,...t,id:r}),r},Zj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Qj=Kj,Yj=()=>Ot.toasts,Jj=()=>Ot.getActiveToasts();Object.assign(Qj,{success:Ot.success,info:Ot.info,warning:Ot.warning,error:Ot.error,custom:Ot.custom,message:Ot.message,promise:Ot.promise,dismiss:Ot.dismiss,loading:Ot.loading},{getHistory:Yj,getToasts:Jj});function Xj(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Xj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bl(e){return e.label!==void 0}var eP=3,tP="32px",rP="16px",fv=4e3,nP=356,sP=14,iP=20,oP=200;function vr(...e){return e.filter(Boolean).join(" ")}function aP(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var lP=e=>{var t,r,n,s,i,o,a,l,c,d,f;let{invert:h,toast:p,unstyled:b,interacting:v,setHeights:x,visibleToasts:g,heights:y,index:w,toasts:_,expanded:S,removeToast:E,defaultRichColors:j,closeButton:C,style:P,cancelButtonStyle:M,actionButtonStyle:F,className:R="",descriptionClassName:D="",duration:L,position:W,gap:Y,loadingIcon:te,expandByDefault:T,classNames:I,icons:H,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:se}=e,[re,oe]=$.useState(null),[be,Z]=$.useState(null),[q,ie]=$.useState(!1),[we,Ge]=$.useState(!1),[pt,nt]=$.useState(!1),[Ke,Ts]=$.useState(!1),[Mo,Rs]=$.useState(!1),[gi,As]=$.useState(0),[Tn,xd]=$.useState(0),Rn=$.useRef(p.duration||L||fv),k=$.useRef(null),N=$.useRef(null),A=w===0,Q=w+1<=g,B=p.type,z=p.dismissible!==!1,ee=p.className||"",xe=p.descriptionClassName||"",$e=$.useMemo(()=>y.findIndex(ue=>ue.toastId===p.id)||0,[y,p.id]),st=$.useMemo(()=>{var ue;return(ue=p.closeButton)!=null?ue:C},[p.closeButton,C]),wl=$.useMemo(()=>p.duration||L||fv,[p.duration,L]),$s=$.useRef(0),Ir=$.useRef(0),xl=$.useRef(0),rn=$.useRef(null),[bd,bl]=W.split("-"),Um=$.useMemo(()=>y.reduce((ue,Ne,De)=>De>=$e?ue:ue+Ne.height,0),[y,$e]),zm=Hj(),uS=p.invert||h,_d=B==="loading";Ir.current=$.useMemo(()=>$e*Y+Um,[$e,Um]),$.useEffect(()=>{Rn.current=wl},[wl]),$.useEffect(()=>{ie(!0)},[]),$.useEffect(()=>{let ue=N.current;if(ue){let Ne=ue.getBoundingClientRect().height;return xd(Ne),x(De=>[{toastId:p.id,height:Ne,position:p.position},...De]),()=>x(De=>De.filter(hr=>hr.toastId!==p.id))}},[x,p.id]),$.useLayoutEffect(()=>{if(!q)return;let ue=N.current,Ne=ue.style.height;ue.style.height="auto";let De=ue.getBoundingClientRect().height;ue.style.height=Ne,xd(De),x(hr=>hr.find(pr=>pr.toastId===p.id)?hr.map(pr=>pr.toastId===p.id?{...pr,height:De}:pr):[{toastId:p.id,height:De,position:p.position},...hr])},[q,p.title,p.description,x,p.id]);let An=$.useCallback(()=>{Ge(!0),As(Ir.current),x(ue=>ue.filter(Ne=>Ne.toastId!==p.id)),setTimeout(()=>{E(p)},oP)},[p,E,x,Ir]);$.useEffect(()=>{if(p.promise&&B==="loading"||p.duration===1/0||p.type==="loading")return;let ue;return S||v||se&&zm?(()=>{if(xl.current<$s.current){let Ne=new Date().getTime()-$s.current;Rn.current=Rn.current-Ne}xl.current=new Date().getTime()})():Rn.current!==1/0&&($s.current=new Date().getTime(),ue=setTimeout(()=>{var Ne;(Ne=p.onAutoClose)==null||Ne.call(p,p),An()},Rn.current)),()=>clearTimeout(ue)},[S,v,p,B,se,zm,An]),$.useEffect(()=>{p.delete&&An()},[An,p.delete]);function dS(){var ue,Ne,De;return H!=null&&H.loading?$.createElement("div",{className:vr(I==null?void 0:I.loader,(ue=p==null?void 0:p.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":B==="loading"},H.loading):te?$.createElement("div",{className:vr(I==null?void 0:I.loader,(Ne=p==null?void 0:p.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":B==="loading"},te):$.createElement(Uj,{className:vr(I==null?void 0:I.loader,(De=p==null?void 0:p.classNames)==null?void 0:De.loader),visible:B==="loading"})}return $.createElement("li",{tabIndex:0,ref:N,className:vr(R,ee,I==null?void 0:I.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[B],(r=p==null?void 0:p.classNames)==null?void 0:r[B]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:j,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":q,"data-promise":!!p.promise,"data-swiped":Mo,"data-removed":we,"data-visible":Q,"data-y-position":bd,"data-x-position":bl,"data-index":w,"data-front":A,"data-swiping":pt,"data-dismissible":z,"data-type":B,"data-invert":uS,"data-swipe-out":Ke,"data-swipe-direction":be,"data-expanded":!!(S||T&&q),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${we?gi:Ir.current}px`,"--initial-height":T?"auto":`${Tn}px`,...P,...p.style},onDragEnd:()=>{nt(!1),oe(null),rn.current=null},onPointerDown:ue=>{_d||!z||(k.current=new Date,As(Ir.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(nt(!0),rn.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,Ne,De,hr;if(Ke||!z)return;rn.current=null;let pr=Number(((ue=N.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$n=Number(((Ne=N.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Os=new Date().getTime()-((De=k.current)==null?void 0:De.getTime()),mr=re==="x"?pr:$n,On=Math.abs(mr)/Os;if(Math.abs(mr)>=iP||On>.11){As(Ir.current),(hr=p.onDismiss)==null||hr.call(p,p),Z(re==="x"?pr>0?"right":"left":$n>0?"down":"up"),An(),Ts(!0),Rs(!1);return}nt(!1),oe(null)},onPointerMove:ue=>{var Ne,De,hr,pr;if(!rn.current||!z||((Ne=window.getSelection())==null?void 0:Ne.toString().length)>0)return;let $n=ue.clientY-rn.current.y,Os=ue.clientX-rn.current.x,mr=(De=e.swipeDirections)!=null?De:aP(W);!re&&(Math.abs(Os)>1||Math.abs($n)>1)&&oe(Math.abs(Os)>Math.abs($n)?"x":"y");let On={x:0,y:0};re==="y"?(mr.includes("top")||mr.includes("bottom"))&&(mr.includes("top")&&$n<0||mr.includes("bottom")&&$n>0)&&(On.y=$n):re==="x"&&(mr.includes("left")||mr.includes("right"))&&(mr.includes("left")&&Os<0||mr.includes("right")&&Os>0)&&(On.x=Os),(Math.abs(On.x)>0||Math.abs(On.y)>0)&&Rs(!0),(hr=N.current)==null||hr.style.setProperty("--swipe-amount-x",`${On.x}px`),(pr=N.current)==null||pr.style.setProperty("--swipe-amount-y",`${On.y}px`)}},st&&!p.jsx?$.createElement("button",{"aria-label":ae,"data-disabled":_d,"data-close-button":!0,onClick:_d||!z?()=>{}:()=>{var ue;An(),(ue=p.onDismiss)==null||ue.call(p,p)},className:vr(I==null?void 0:I.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:Wj):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:$.createElement($.Fragment,null,B||p.icon||p.promise?$.createElement("div",{"data-icon":"",className:vr(I==null?void 0:I.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||dS():null,p.type!=="loading"?p.icon||(H==null?void 0:H[B])||Dj(B):null):null,$.createElement("div",{"data-content":"",className:vr(I==null?void 0:I.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},$.createElement("div",{"data-title":"",className:vr(I==null?void 0:I.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?$.createElement("div",{"data-description":"",className:vr(D,xe,I==null?void 0:I.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&Bl(p.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||M,onClick:ue=>{var Ne,De;Bl(p.cancel)&&z&&((De=(Ne=p.cancel).onClick)==null||De.call(Ne,ue),An())},className:vr(I==null?void 0:I.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&Bl(p.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||F,onClick:ue=>{var Ne,De;Bl(p.action)&&((De=(Ne=p.action).onClick)==null||De.call(Ne,ue),!ue.defaultPrevented&&An())},className:vr(I==null?void 0:I.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function hv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function cP(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?rP:tP;function l(c){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=a:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),r}var uP=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:b=eP,toastOptions:v,dir:x=hv(),gap:g=sP,loadingIcon:y,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[E,j]=$.useState([]),C=$.useMemo(()=>Array.from(new Set([n].concat(E.filter(se=>se.position).map(se=>se.position)))),[E,n]),[P,M]=$.useState([]),[F,R]=$.useState(!1),[D,L]=$.useState(!1),[W,Y]=$.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=$.useRef(null),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=$.useRef(null),H=$.useRef(!1),ae=$.useCallback(se=>{j(re=>{var oe;return(oe=re.find(be=>be.id===se.id))!=null&&oe.delete||Ot.dismiss(se.id),re.filter(({id:be})=>be!==se.id)})},[]);return $.useEffect(()=>Ot.subscribe(se=>{if(se.dismiss){j(re=>re.map(oe=>oe.id===se.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{gx.flushSync(()=>{j(re=>{let oe=re.findIndex(be=>be.id===se.id);return oe!==-1?[...re.slice(0,oe),{...re[oe],...se},...re.slice(oe+1)]:[se,...re]})})})}),[]),$.useEffect(()=>{if(d!=="system"){Y(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let se=window.matchMedia("(prefers-color-scheme: dark)");try{se.addEventListener("change",({matches:re})=>{Y(re?"dark":"light")})}catch{se.addListener(({matches:oe})=>{try{Y(oe?"dark":"light")}catch(be){console.error(be)}})}},[d]),$.useEffect(()=>{E.length<=1&&R(!1)},[E]),$.useEffect(()=>{let se=re=>{var oe,be;s.every(Z=>re[Z]||re.code===Z)&&(R(!0),(oe=te.current)==null||oe.focus()),re.code==="Escape"&&(document.activeElement===te.current||(be=te.current)!=null&&be.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[s]),$.useEffect(()=>{if(te.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,H.current=!1)}},[te.current]),$.createElement("section",{ref:t,"aria-label":`${_} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((se,re)=>{var oe;let[be,Z]=se.split("-");return E.length?$.createElement("ol",{key:se,dir:x==="auto"?hv():x,tabIndex:-1,ref:te,className:a,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":be,"data-lifted":F&&E.length>1&&!i,"data-x-position":Z,style:{"--front-toast-height":`${((oe=P[0])==null?void 0:oe.height)||0}px`,"--width":`${nP}px`,"--gap":`${g}px`,...p,...cP(l,c)},onBlur:q=>{H.current&&!q.currentTarget.contains(q.relatedTarget)&&(H.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||H.current||(H.current=!0,I.current=q.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{D||R(!1)},onDragEnd:()=>R(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},E.filter(q=>!q.position&&re===0||q.position===se).map((q,ie)=>{var we,Ge;return $.createElement(lP,{key:q.id,icons:w,index:ie,toast:q,defaultRichColors:f,duration:(we=v==null?void 0:v.duration)!=null?we:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:b,closeButton:(Ge=v==null?void 0:v.closeButton)!=null?Ge:o,interacting:D,position:se,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ae,toasts:E.filter(pt=>pt.position==q.position),heights:P.filter(pt=>pt.position==q.position),setHeights:M,expandByDefault:i,gap:g,loadingIcon:y,expanded:F,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const dP=({...e})=>{const{theme:t="system"}=Mj();return u.jsx(uP,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var fP=h0[" useId ".trim().toString()]||(()=>{}),hP=0;function tf(e){const[t,r]=m.useState(fP());return gs(()=>{r(n=>n??String(hP++))},[e]),e||(t?`radix-${t}`:"")}const pP=["top","right","bottom","left"],vs=Math.min,Gt=Math.max,Kc=Math.round,ql=Math.floor,Kr=e=>({x:e,y:e}),mP={left:"right",right:"left",bottom:"top",top:"bottom"},gP={start:"end",end:"start"};function Eh(e,t,r){return Gt(e,vs(t,r))}function kn(e,t){return typeof e=="function"?e(t):e}function En(e){return e.split("-")[0]}function To(e){return e.split("-")[1]}function sm(e){return e==="x"?"y":"x"}function im(e){return e==="y"?"height":"width"}function ys(e){return["top","bottom"].includes(En(e))?"y":"x"}function om(e){return sm(ys(e))}function vP(e,t,r){r===void 0&&(r=!1);const n=To(e),s=om(e),i=im(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Zc(o)),[o,Zc(o)]}function yP(e){const t=Zc(e);return[Ch(e),t,Ch(t)]}function Ch(e){return e.replace(/start|end/g,t=>gP[t])}function wP(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function xP(e,t,r,n){const s=To(e);let i=wP(En(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Ch)))),i}function Zc(e){return e.replace(/left|right|bottom|top/g,t=>mP[t])}function bP(e){return{top:0,right:0,bottom:0,left:0,...e}}function ab(e){return typeof e!="number"?bP(e):{top:e,right:e,bottom:e,left:e}}function Qc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function pv(e,t,r){let{reference:n,floating:s}=e;const i=ys(t),o=om(t),a=im(o),l=En(t),c=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(To(t)){case"start":p[o]-=h*(r&&c?-1:1);break;case"end":p[o]+=h*(r&&c?-1:1);break}return p}const _P=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=pv(c,n,l),h=n,p={},b=0;for(let v=0;v<a.length;v++){const{name:x,fn:g}=a[v],{x:y,y:w,data:_,reset:S}=await g({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,p={...p,[x]:{...p[x],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=pv(c,h,l)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Ba(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=kn(t,e),b=ab(p),x=a[h?f==="floating"?"reference":"floating":f],g=Qc(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Qc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(g.top-S.top+b.top)/_.y,bottom:(S.bottom-g.bottom+b.bottom)/_.y,left:(g.left-S.left+b.left)/_.x,right:(S.right-g.right+b.right)/_.x}}const SP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=kn(e,t)||{};if(c==null)return{};const f=ab(d),h={x:r,y:n},p=om(s),b=im(p),v=await o.getDimensions(c),x=p==="y",g=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=i.reference[b]+i.reference[p]-h[p]-i.floating[b],S=h[p]-i.reference[p],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let j=E?E[w]:0;(!j||!await(o.isElement==null?void 0:o.isElement(E)))&&(j=a.floating[w]||i.floating[b]);const C=_/2-S/2,P=j/2-v[b]/2-1,M=vs(f[g],P),F=vs(f[y],P),R=M,D=j-v[b]-F,L=j/2-v[b]/2+C,W=Eh(R,L,D),Y=!l.arrow&&To(s)!=null&&L!==W&&i.reference[b]/2-(L<R?M:F)-v[b]/2<0,te=Y?L<R?L-R:L-D:0;return{[p]:h[p]+te,data:{[p]:W,centerOffset:L-W-te,...Y&&{alignmentOffset:te}},reset:Y}}}),kP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...x}=kn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=En(s),y=ys(a),w=En(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(w||!v?[Zc(a)]:yP(a)),E=b!=="none";!h&&E&&S.push(...xP(a,v,b,_));const j=[a,...S],C=await Ba(t,x),P=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(C[g]),f){const L=vP(s,o,_);P.push(C[L[0]],C[L[1]])}if(M=[...M,{placement:s,overflows:P}],!P.every(L=>L<=0)){var F,R;const L=(((F=i.flip)==null?void 0:F.index)||0)+1,W=j[L];if(W)return{data:{index:L,overflows:M},reset:{placement:W}};let Y=(R=M.filter(te=>te.overflows[0]<=0).sort((te,T)=>te.overflows[1]-T.overflows[1])[0])==null?void 0:R.placement;if(!Y)switch(p){case"bestFit":{var D;const te=(D=M.filter(T=>{if(E){const I=ys(T.placement);return I===y||I==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(I=>I>0).reduce((I,H)=>I+H,0)]).sort((T,I)=>T[1]-I[1])[0])==null?void 0:D[0];te&&(Y=te);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function mv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gv(e){return pP.some(t=>e[t]>=0)}const EP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=kn(e,t);switch(n){case"referenceHidden":{const i=await Ba(t,{...s,elementContext:"reference"}),o=mv(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gv(o)}}}case"escaped":{const i=await Ba(t,{...s,altBoundary:!0}),o=mv(i,r.floating);return{data:{escapedOffsets:o,escaped:gv(o)}}}default:return{}}}}};async function CP(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=En(r),a=To(r),l=ys(r)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=kn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(p=a==="end"?b*-1:b),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const jP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await CP(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},PP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:g,y}=x;return{x:g,y}}},...l}=kn(e,t),c={x:r,y:n},d=await Ba(t,l),f=ys(En(s)),h=sm(f);let p=c[h],b=c[f];if(i){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=p+d[x],w=p-d[g];p=Eh(y,p,w)}if(o){const x=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=b+d[x],w=b-d[g];b=Eh(y,b,w)}const v=a.fn({...t,[h]:p,[f]:b});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:i,[f]:o}}}}}},NP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=kn(e,t),d={x:r,y:n},f=ys(s),h=sm(f);let p=d[h],b=d[f];const v=kn(a,t),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+x.mainAxis,S=i.reference[h]+i.reference[w]-x.mainAxis;p<_?p=_:p>S&&(p=S)}if(c){var g,y;const w=h==="y"?"width":"height",_=["top","left"].includes(En(s)),S=i.reference[f]-i.floating[w]+(_&&((g=o.offset)==null?void 0:g[f])||0)+(_?0:x.crossAxis),E=i.reference[f]+i.reference[w]+(_?0:((y=o.offset)==null?void 0:y[f])||0)-(_?x.crossAxis:0);b<S?b=S:b>E&&(b=E)}return{[h]:p,[f]:b}}}},TP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=kn(e,t),d=await Ba(t,c),f=En(s),h=To(s),p=ys(s)==="y",{width:b,height:v}=i.floating;let x,g;f==="top"||f==="bottom"?(x=f,g=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=f,x=h==="end"?"top":"bottom");const y=v-d.top-d.bottom,w=b-d.left-d.right,_=vs(v-d[x],y),S=vs(b-d[g],w),E=!t.middlewareData.shift;let j=_,C=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=y),E&&!h){const M=Gt(d.left,0),F=Gt(d.right,0),R=Gt(d.top,0),D=Gt(d.bottom,0);p?C=b-2*(M!==0||F!==0?M+F:Gt(d.left,d.right)):j=v-2*(R!==0||D!==0?R+D:Gt(d.top,d.bottom))}await l({...t,availableWidth:C,availableHeight:j});const P=await o.getDimensions(a.floating);return b!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function qu(){return typeof window<"u"}function Ro(e){return lb(e)?(e.nodeName||"").toLowerCase():"#document"}function Yt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function tn(e){var t;return(t=(lb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lb(e){return qu()?e instanceof Node||e instanceof Yt(e).Node:!1}function Ar(e){return qu()?e instanceof Element||e instanceof Yt(e).Element:!1}function Qr(e){return qu()?e instanceof HTMLElement||e instanceof Yt(e).HTMLElement:!1}function vv(e){return!qu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yt(e).ShadowRoot}function dl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=$r(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function RP(e){return["table","td","th"].includes(Ro(e))}function Wu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function am(e){const t=lm(),r=Ar(e)?$r(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function AP(e){let t=ws(e);for(;Qr(t)&&!mo(t);){if(am(t))return t;if(Wu(t))return null;t=ws(t)}return null}function lm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mo(e){return["html","body","#document"].includes(Ro(e))}function $r(e){return Yt(e).getComputedStyle(e)}function Hu(e){return Ar(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ws(e){if(Ro(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vv(e)&&e.host||tn(e);return vv(t)?t.host:t}function cb(e){const t=ws(e);return mo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qr(t)&&dl(t)?t:cb(t)}function qa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=cb(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Yt(s);if(i){const a=jh(o);return t.concat(o,o.visualViewport||[],dl(s)?s:[],a&&r?qa(a):[])}return t.concat(s,qa(s,[],r))}function jh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ub(e){const t=$r(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Qr(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=Kc(r)!==i||Kc(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function cm(e){return Ar(e)?e:e.contextElement}function Hi(e){const t=cm(e);if(!Qr(t))return Kr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=ub(t);let o=(i?Kc(r.width):r.width)/n,a=(i?Kc(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const $P=Kr(0);function db(e){const t=Yt(e);return!lm()||!t.visualViewport?$P:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function OP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Yt(e)?!1:t}function ai(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=cm(e);let o=Kr(1);t&&(n?Ar(n)&&(o=Hi(n)):o=Hi(e));const a=OP(i,r,n)?db(i):Kr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Yt(i),p=n&&Ar(n)?Yt(n):n;let b=h,v=jh(b);for(;v&&n&&p!==b;){const x=Hi(v),g=v.getBoundingClientRect(),y=$r(v),w=g.left+(v.clientLeft+parseFloat(y.paddingLeft))*x.x,_=g.top+(v.clientTop+parseFloat(y.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=w,c+=_,b=Yt(v),v=jh(b)}}return Qc({width:d,height:f,x:l,y:c})}function um(e,t){const r=Hu(e).scrollLeft;return t?t.left+r:ai(tn(e)).left+r}function fb(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:um(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function LP(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=tn(n),a=t?Wu(t.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},c=Kr(1);const d=Kr(0),f=Qr(n);if((f||!f&&!i)&&((Ro(n)!=="body"||dl(o))&&(l=Hu(n)),Qr(n))){const p=ai(n);c=Hi(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?fb(o,l,!0):Kr(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}}function IP(e){return Array.from(e.getClientRects())}function MP(e){const t=tn(e),r=Hu(e),n=e.ownerDocument.body,s=Gt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Gt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+um(e);const a=-r.scrollTop;return $r(n).direction==="rtl"&&(o+=Gt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function DP(e,t){const r=Yt(e),n=tn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=lm();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function FP(e,t){const r=ai(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Qr(e)?Hi(e):Kr(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=n*i.y;return{width:o,height:a,x:l,y:c}}function yv(e,t,r){let n;if(t==="viewport")n=DP(e,r);else if(t==="document")n=MP(tn(e));else if(Ar(t))n=FP(t,r);else{const s=db(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Qc(n)}function hb(e,t){const r=ws(e);return r===t||!Ar(r)||mo(r)?!1:$r(r).position==="fixed"||hb(r,t)}function UP(e,t){const r=t.get(e);if(r)return r;let n=qa(e,[],!1).filter(a=>Ar(a)&&Ro(a)!=="body"),s=null;const i=$r(e).position==="fixed";let o=i?ws(e):e;for(;Ar(o)&&!mo(o);){const a=$r(o),l=am(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||dl(o)&&!l&&hb(e,o))?n=n.filter(d=>d!==o):s=a,o=ws(o)}return t.set(e,n),n}function zP(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Wu(t)?[]:UP(t,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,d)=>{const f=yv(t,d,s);return c.top=Gt(f.top,c.top),c.right=vs(f.right,c.right),c.bottom=vs(f.bottom,c.bottom),c.left=Gt(f.left,c.left),c},yv(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function VP(e){const{width:t,height:r}=ub(e);return{width:t,height:r}}function BP(e,t,r){const n=Qr(t),s=tn(t),i=r==="fixed",o=ai(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Kr(0);if(n||!n&&!i)if((Ro(t)!=="body"||dl(s))&&(a=Hu(t)),n){const h=ai(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&(l.x=um(s));const c=s&&!n&&!i?fb(s,a):Kr(0),d=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function rf(e){return $r(e).position==="static"}function wv(e,t){if(!Qr(e)||$r(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return tn(e)===r&&(r=r.ownerDocument.body),r}function pb(e,t){const r=Yt(e);if(Wu(e))return r;if(!Qr(e)){let s=ws(e);for(;s&&!mo(s);){if(Ar(s)&&!rf(s))return s;s=ws(s)}return r}let n=wv(e,t);for(;n&&RP(n)&&rf(n);)n=wv(n,t);return n&&mo(n)&&rf(n)&&!am(n)?r:n||AP(e)||r}const qP=async function(e){const t=this.getOffsetParent||pb,r=this.getDimensions,n=await r(e.floating);return{reference:BP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function WP(e){return $r(e).direction==="rtl"}const HP={convertOffsetParentRelativeRectToViewportRelativeRect:LP,getDocumentElement:tn,getClippingRect:zP,getOffsetParent:pb,getElementRects:qP,getClientRects:IP,getDimensions:VP,getScale:Hi,isElement:Ar,isRTL:WP};function mb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function GP(e,t){let r=null,n;const s=tn(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=c;if(a||t(),!h||!p)return;const b=ql(f),v=ql(s.clientWidth-(d+h)),x=ql(s.clientHeight-(f+p)),g=ql(d),w={rootMargin:-b+"px "+-v+"px "+-x+"px "+-g+"px",threshold:Gt(0,vs(1,l))||1};let _=!0;function S(E){const j=E[0].intersectionRatio;if(j!==l){if(!_)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!mb(c,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),i}function KP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=cm(e),d=s||i?[...c?qa(c):[],...qa(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=c&&a?GP(c,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let b,v=l?ai(e):null;l&&x();function x(){const g=ai(e);v&&!mb(v,g)&&r(),v=g,b=requestAnimationFrame(x)}return r(),()=>{var g;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,l&&cancelAnimationFrame(b)}}const ZP=jP,QP=PP,YP=kP,JP=TP,XP=EP,xv=SP,eN=NP,tN=(e,t,r)=>{const n=new Map,s={platform:HP,...r},i={...s.platform,_c:n};return _P(e,t,{...s,platform:i})};var vc=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Yc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Yc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Yc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function gb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bv(e,t){const r=gb(e);return Math.round(t*r)/r}function nf(e){const t=m.useRef(e);return vc(()=>{t.current=e}),t}function rN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);Yc(h,n)||p(n);const[b,v]=m.useState(null),[x,g]=m.useState(null),y=m.useCallback(T=>{T!==E.current&&(E.current=T,v(T))},[]),w=m.useCallback(T=>{T!==j.current&&(j.current=T,g(T))},[]),_=i||b,S=o||x,E=m.useRef(null),j=m.useRef(null),C=m.useRef(d),P=l!=null,M=nf(l),F=nf(s),R=nf(c),D=m.useCallback(()=>{if(!E.current||!j.current)return;const T={placement:t,strategy:r,middleware:h};F.current&&(T.platform=F.current),tN(E.current,j.current,T).then(I=>{const H={...I,isPositioned:R.current!==!1};L.current&&!Yc(C.current,H)&&(C.current=H,cl.flushSync(()=>{f(H)}))})},[h,t,r,F,R]);vc(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[c]);const L=m.useRef(!1);vc(()=>(L.current=!0,()=>{L.current=!1}),[]),vc(()=>{if(_&&(E.current=_),S&&(j.current=S),_&&S){if(M.current)return M.current(_,S,D);D()}},[_,S,D,M,P]);const W=m.useMemo(()=>({reference:E,floating:j,setReference:y,setFloating:w}),[y,w]),Y=m.useMemo(()=>({reference:_,floating:S}),[_,S]),te=m.useMemo(()=>{const T={position:r,left:0,top:0};if(!Y.floating)return T;const I=bv(Y.floating,d.x),H=bv(Y.floating,d.y);return a?{...T,transform:"translate("+I+"px, "+H+"px)",...gb(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:H}},[r,a,Y.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:D,refs:W,elements:Y,floatingStyles:te}),[d,D,W,Y,te])}const nN=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?xv({element:n.current,padding:s}).fn(r):{}:n?xv({element:n,padding:s}).fn(r):{}}}},sN=(e,t)=>({...ZP(e),options:[e,t]}),iN=(e,t)=>({...QP(e),options:[e,t]}),oN=(e,t)=>({...eN(e),options:[e,t]}),aN=(e,t)=>({...YP(e),options:[e,t]}),lN=(e,t)=>({...JP(e),options:[e,t]}),cN=(e,t)=>({...XP(e),options:[e,t]}),uN=(e,t)=>({...nN(e),options:[e,t]});var dN="Arrow",vb=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return u.jsx(Be.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});vb.displayName=dN;var fN=vb;function yb(e){const[t,r]=m.useState(void 0);return gs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var wb="Popper",[xb,bb]=Co(wb),[TI,_b]=xb(wb),Sb="PopperAnchor",kb=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=_b(Sb,r),o=m.useRef(null),a=bt(t,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:u.jsx(Be.div,{...s,ref:a})});kb.displayName=Sb;var dm="PopperContent",[hN,pN]=xb(dm),Eb=m.forwardRef((e,t)=>{var q,ie,we,Ge,pt,nt;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:b,...v}=e,x=_b(dm,r),[g,y]=m.useState(null),w=bt(t,Ke=>y(Ke)),[_,S]=m.useState(null),E=yb(_),j=(E==null?void 0:E.width)??0,C=(E==null?void 0:E.height)??0,P=n+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(c)?c:[c],R=F.length>0,D={padding:M,boundary:F.filter(gN),altBoundary:R},{refs:L,floatingStyles:W,placement:Y,isPositioned:te,middlewareData:T}=rN({strategy:"fixed",placement:P,whileElementsMounted:(...Ke)=>KP(...Ke,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[sN({mainAxis:s+C,alignmentAxis:o}),l&&iN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?oN():void 0,...D}),l&&aN({...D}),lN({...D,apply:({elements:Ke,rects:Ts,availableWidth:Mo,availableHeight:Rs})=>{const{width:gi,height:As}=Ts.reference,Tn=Ke.floating.style;Tn.setProperty("--radix-popper-available-width",`${Mo}px`),Tn.setProperty("--radix-popper-available-height",`${Rs}px`),Tn.setProperty("--radix-popper-anchor-width",`${gi}px`),Tn.setProperty("--radix-popper-anchor-height",`${As}px`)}}),_&&uN({element:_,padding:a}),vN({arrowWidth:j,arrowHeight:C}),h&&cN({strategy:"referenceHidden",...D})]}),[I,H]=Pb(Y),ae=dr(b);gs(()=>{te&&(ae==null||ae())},[te,ae]);const se=(q=T.arrow)==null?void 0:q.x,re=(ie=T.arrow)==null?void 0:ie.y,oe=((we=T.arrow)==null?void 0:we.centerOffset)!==0,[be,Z]=m.useState();return gs(()=>{g&&Z(window.getComputedStyle(g).zIndex)},[g]),u.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:te?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Ge=T.transformOrigin)==null?void 0:Ge.x,(pt=T.transformOrigin)==null?void 0:pt.y].join(" "),...((nt=T.hide)==null?void 0:nt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(hN,{scope:r,placedSide:I,onArrowChange:S,arrowX:se,arrowY:re,shouldHideArrow:oe,children:u.jsx(Be.div,{"data-side":I,"data-align":H,...v,ref:w,style:{...v.style,animation:te?void 0:"none"}})})})});Eb.displayName=dm;var Cb="PopperArrow",mN={top:"bottom",right:"left",bottom:"top",left:"right"},jb=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=pN(Cb,n),o=mN[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(fN,{...s,ref:r,style:{...s.style,display:"block"}})})});jb.displayName=Cb;function gN(e){return e!==null}var vN=e=>({name:"transformOrigin",options:e,fn(t){var x,g,y;const{placement:r,rects:n,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=Pb(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let b="",v="";return c==="bottom"?(b=o?f:`${h}px`,v=`${-l}px`):c==="top"?(b=o?f:`${h}px`,v=`${n.floating.height+l}px`):c==="right"?(b=`${-l}px`,v=o?f:`${p}px`):c==="left"&&(b=`${n.floating.width+l}px`,v=o?f:`${p}px`),{data:{x:b,y:v}}}});function Pb(e){const[t,r="center"]=e.split("-");return[t,r]}var yN=kb,wN=Eb,xN=jb,[Gu,RI]=Co("Tooltip",[bb]),fm=bb(),Nb="TooltipProvider",bN=700,_v="tooltip.open",[_N,Tb]=Gu(Nb),Rb=e=>{const{__scopeTooltip:t,delayDuration:r=bN,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(_N,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};Rb.displayName=Nb;var Ab="Tooltip",[AI,Ku]=Gu(Ab),Ph="TooltipTrigger",SN=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ku(Ph,r),i=Tb(Ph,r),o=fm(r),a=m.useRef(null),l=bt(t,a,s.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(yN,{asChild:!0,...o,children:u.jsx(Be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:Ie(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ie(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ie(e.onBlur,s.onClose),onClick:Ie(e.onClick,s.onClose)})})});SN.displayName=Ph;var kN="TooltipPortal",[$I,EN]=Gu(kN,{forceMount:void 0}),go="TooltipContent",$b=m.forwardRef((e,t)=>{const r=EN(go,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=Ku(go,e.__scopeTooltip);return u.jsx(jo,{present:n||o.open,children:o.disableHoverableContent?u.jsx(Ob,{side:s,...i,ref:t}):u.jsx(CN,{side:s,...i,ref:t})})}),CN=m.forwardRef((e,t)=>{const r=Ku(go,e.__scopeTooltip),n=Tb(go,e.__scopeTooltip),s=m.useRef(null),i=bt(t,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{a(null),f(!1)},[f]),p=m.useCallback((b,v)=>{const x=b.currentTarget,g={x:b.clientX,y:b.clientY},y=RN(g,x.getBoundingClientRect()),w=AN(g,y),_=$N(v.getBoundingClientRect()),S=LN([...w,..._]);a(S),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(l&&d){const b=x=>p(x,d),v=x=>p(x,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",v)}}},[l,d,p,h]),m.useEffect(()=>{if(o){const b=v=>{const x=v.target,g={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),w=!ON(g,o);y?h():w&&(h(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,c,h]),u.jsx(Ob,{...e,ref:i})}),[jN,PN]=Gu(Ab,{isInside:!1}),NN=HE("TooltipContent"),Ob=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=Ku(go,r),c=fm(r),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(_v,d),()=>document.removeEventListener(_v,d)),[d]),m.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Fu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(wN,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(NN,{children:n}),u.jsx(jN,{scope:r,isInside:!0,children:u.jsx(hC,{id:l.contentId,role:"tooltip",children:s||n})})]})})});$b.displayName=go;var Lb="TooltipArrow",TN=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=fm(r);return PN(Lb,r).isInside?null:u.jsx(xN,{...s,...n,ref:t})});TN.displayName=Lb;function RN(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function AN(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function $N(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function ON(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i].x,l=t[i].y,c=t[o].x,d=t[o].y;l>n!=d>n&&r<(c-a)*(n-l)/(d-l)+a&&(s=!s)}return s}function LN(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),IN(t)}function IN(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var MN=Rb,Ib=$b;const DN=MN,FN=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>u.jsx(Ib,{ref:n,sideOffset:t,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));FN.displayName=Ib.displayName;var Zu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qu=typeof window>"u"||"Deno"in globalThis;function wr(){}function UN(e,t){return typeof e=="function"?e(t):e}function zN(e){return typeof e=="number"&&e>=0&&e!==1/0}function VN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Sv(e,t){return typeof e=="function"?e(t):e}function BN(e,t){return typeof e=="function"?e(t):e}function kv(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==hm(o,t.options))return!1}else if(!Ha(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Ev(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Wa(t.options.mutationKey)!==Wa(i))return!1}else if(!Ha(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function hm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wa)(e)}function Wa(e){return JSON.stringify(e,(t,r)=>Nh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ha(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ha(e[r],t[r])):!1}function Mb(e,t){if(e===t)return e;const r=Cv(e)&&Cv(t);if(r||Nh(e)&&Nh(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,a=r?[]:{};let l=0;for(let c=0;c<o;c++){const d=r?c:i[c];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=Mb(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return s===o&&l===s?e:a}return t}function Cv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nh(e){if(!jv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jv(e){return Object.prototype.toString.call(e)==="[object Object]"}function qN(e){return new Promise(t=>{setTimeout(t,e)})}function WN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Mb(e,t):t}function HN(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function GN(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var pm=Symbol();function Db(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===pm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Gs,Yn,Yi,Ky,KN=(Ky=class extends Zu{constructor(){super();Ee(this,Gs);Ee(this,Yn);Ee(this,Yi);de(this,Yi,t=>{if(!Qu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){O(this,Yn)||this.setEventListener(O(this,Yi))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,Yn))==null||t.call(this),de(this,Yn,void 0))}setEventListener(t){var r;de(this,Yi,t),(r=O(this,Yn))==null||r.call(this),de(this,Yn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){O(this,Gs)!==t&&(de(this,Gs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof O(this,Gs)=="boolean"?O(this,Gs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gs=new WeakMap,Yn=new WeakMap,Yi=new WeakMap,Ky),Fb=new KN,Ji,Jn,Xi,Zy,ZN=(Zy=class extends Zu{constructor(){super();Ee(this,Ji,!0);Ee(this,Jn);Ee(this,Xi);de(this,Xi,t=>{if(!Qu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){O(this,Jn)||this.setEventListener(O(this,Xi))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,Jn))==null||t.call(this),de(this,Jn,void 0))}setEventListener(t){var r;de(this,Xi,t),(r=O(this,Jn))==null||r.call(this),de(this,Jn,t(this.setOnline.bind(this)))}setOnline(t){O(this,Ji)!==t&&(de(this,Ji,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return O(this,Ji)}},Ji=new WeakMap,Jn=new WeakMap,Xi=new WeakMap,Zy),Jc=new ZN;function QN(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function YN(e){return Math.min(1e3*2**e,3e4)}function Ub(e){return(e??"online")==="online"?Jc.isOnline():!0}var zb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sf(e){return e instanceof zb}function Vb(e){let t=!1,r=0,n=!1,s;const i=QN(),o=v=>{var x;n||(h(new zb(v)),(x=e.abort)==null||x.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>Fb.isFocused()&&(e.networkMode==="always"||Jc.isOnline())&&e.canRun(),d=()=>Ub(e.networkMode)&&e.canRun(),f=v=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,v),s==null||s(),i.resolve(v))},h=v=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var x;s=g=>{(n||c())&&v(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var v;s=void 0,n||(v=e.onContinue)==null||v.call(e)}),b=()=>{if(n)return;let v;const x=r===0?e.initialPromise:void 0;try{v=x??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(f).catch(g=>{var E;if(n)return;const y=e.retry??(Qu?0:3),w=e.retryDelay??YN,_=typeof w=="function"?w(r,g):w,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,g);if(t||!S){h(g);return}r++,(E=e.onFail)==null||E.call(e,r,g),qN(_).then(()=>c()?void 0:p()).then(()=>{t?h(g):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():p().then(b),i)}}var JN=e=>setTimeout(e,0);function XN(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=JN;const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var jt=XN(),Ks,Qy,Bb=(Qy=class{constructor(){Ee(this,Ks)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zN(this.gcTime)&&de(this,Ks,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qu?1/0:5*60*1e3))}clearGcTimeout(){O(this,Ks)&&(clearTimeout(O(this,Ks)),de(this,Ks,void 0))}},Ks=new WeakMap,Qy),eo,to,rr,Zs,yt,rl,Qs,xr,an,Yy,eT=(Yy=class extends Bb{constructor(t){super();Ee(this,xr);Ee(this,eo);Ee(this,to);Ee(this,rr);Ee(this,Zs);Ee(this,yt);Ee(this,rl);Ee(this,Qs);de(this,Qs,!1),de(this,rl,t.defaultOptions),this.setOptions(t.options),this.observers=[],de(this,Zs,t.client),de(this,rr,O(this,Zs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,de(this,eo,rT(this.options)),this.state=t.state??O(this,eo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=O(this,yt))==null?void 0:t.promise}setOptions(t){this.options={...O(this,rl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,rr).remove(this)}setData(t,r){const n=WN(this.state.data,t,this.options);return mt(this,xr,an).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){mt(this,xr,an).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=O(this,yt))==null?void 0:n.promise;return(s=O(this,yt))==null||s.cancel(t),r?r.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,eo))}isActive(){return this.observers.some(t=>BN(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!VN(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=O(this,yt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=O(this,yt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),O(this,rr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(O(this,yt)&&(O(this,Qs)?O(this,yt).cancel({revert:!0}):O(this,yt).cancelRetry()),this.scheduleGc()),O(this,rr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,xr,an).call(this,{type:"invalidate"})}fetch(t,r){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,yt))return O(this,yt).continueRetry(),O(this,yt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(de(this,Qs,!0),n.signal)})},i=()=>{const f=Db(this.options,r),h={client:O(this,Zs),queryKey:this.queryKey,meta:this.meta};return s(h),de(this,Qs,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:O(this,Zs),state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),de(this,to,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&mt(this,xr,an).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,p,b,v;sf(f)&&f.silent||mt(this,xr,an).call(this,{type:"error",error:f}),sf(f)||((p=(h=O(this,rr).config).onError)==null||p.call(h,f,this),(v=(b=O(this,rr).config).onSettled)==null||v.call(b,this.state.data,f,this)),this.scheduleGc()};return de(this,yt,Vb({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,b,v;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){a(x);return}(p=(h=O(this,rr).config).onSuccess)==null||p.call(h,f,this),(v=(b=O(this,rr).config).onSettled)==null||v.call(b,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{mt(this,xr,an).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{mt(this,xr,an).call(this,{type:"pause"})},onContinue:()=>{mt(this,xr,an).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),O(this,yt).start()}},eo=new WeakMap,to=new WeakMap,rr=new WeakMap,Zs=new WeakMap,yt=new WeakMap,rl=new WeakMap,Qs=new WeakMap,xr=new WeakSet,an=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tT(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return sf(s)&&s.revert&&O(this,to)?{...O(this,to),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),jt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),O(this,rr).notify({query:this,type:"updated",action:t})})},Yy);function tT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ub(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ur,Jy,nT=(Jy=class extends Zu{constructor(t={}){super();Ee(this,Ur);this.config=t,de(this,Ur,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??hm(s,r);let o=this.get(i);return o||(o=new eT({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){O(this,Ur).has(t.queryHash)||(O(this,Ur).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=O(this,Ur).get(t.queryHash);r&&(t.destroy(),r===t&&O(this,Ur).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return O(this,Ur).get(t)}getAll(){return[...O(this,Ur).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>kv(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>kv(t,n)):r}notify(t){jt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ur=new WeakMap,Jy),zr,St,Ys,Vr,Dn,Xy,sT=(Xy=class extends Bb{constructor(t){super();Ee(this,Vr);Ee(this,zr);Ee(this,St);Ee(this,Ys);this.mutationId=t.mutationId,de(this,St,t.mutationCache),de(this,zr,[]),this.state=t.state||iT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){O(this,zr).includes(t)||(O(this,zr).push(t),this.clearGcTimeout(),O(this,St).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){de(this,zr,O(this,zr).filter(r=>r!==t)),this.scheduleGc(),O(this,St).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){O(this,zr).length||(this.state.status==="pending"?this.scheduleGc():O(this,St).remove(this))}continue(){var t;return((t=O(this,Ys))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,l,c,d,f,h,p,b,v,x,g,y,w,_,S,E,j,C;const r=()=>{mt(this,Vr,Dn).call(this,{type:"continue"})};de(this,Ys,Vb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,M)=>{mt(this,Vr,Dn).call(this,{type:"failed",failureCount:P,error:M})},onPause:()=>{mt(this,Vr,Dn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,St).canRun(this)}));const n=this.state.status==="pending",s=!O(this,Ys).canStart();try{if(n)r();else{mt(this,Vr,Dn).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=O(this,St).config).onMutate)==null?void 0:o.call(i,t,this));const M=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));M!==this.state.context&&mt(this,Vr,Dn).call(this,{type:"pending",context:M,variables:t,isPaused:s})}const P=await O(this,Ys).start();return await((d=(c=O(this,St).config).onSuccess)==null?void 0:d.call(c,P,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,t,this.state.context)),await((b=(p=O(this,St).config).onSettled)==null?void 0:b.call(p,P,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,P,null,t,this.state.context)),mt(this,Vr,Dn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(g=O(this,St).config).onError)==null?void 0:y.call(g,P,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,P,t,this.state.context)),await((E=(S=O(this,St).config).onSettled)==null?void 0:E.call(S,void 0,P,this.state.variables,this.state.context,this)),await((C=(j=this.options).onSettled)==null?void 0:C.call(j,void 0,P,t,this.state.context)),P}finally{mt(this,Vr,Dn).call(this,{type:"error",error:P})}}finally{O(this,St).runNext(this)}}},zr=new WeakMap,St=new WeakMap,Ys=new WeakMap,Vr=new WeakSet,Dn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jt.batch(()=>{O(this,zr).forEach(n=>{n.onMutationUpdate(t)}),O(this,St).notify({mutation:this,type:"updated",action:t})})},Xy);function iT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fn,br,nl,e0,oT=(e0=class extends Zu{constructor(t={}){super();Ee(this,fn);Ee(this,br);Ee(this,nl);this.config=t,de(this,fn,new Set),de(this,br,new Map),de(this,nl,0)}build(t,r,n){const s=new sT({mutationCache:this,mutationId:++_l(this,nl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){O(this,fn).add(t);const r=Wl(t);if(typeof r=="string"){const n=O(this,br).get(r);n?n.push(t):O(this,br).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(O(this,fn).delete(t)){const r=Wl(t);if(typeof r=="string"){const n=O(this,br).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&O(this,br).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Wl(t);if(typeof r=="string"){const n=O(this,br).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Wl(t);if(typeof r=="string"){const s=(n=O(this,br).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jt.batch(()=>{O(this,fn).forEach(t=>{this.notify({type:"removed",mutation:t})}),O(this,fn).clear(),O(this,br).clear()})}getAll(){return Array.from(O(this,fn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ev(r,n))}findAll(t={}){return this.getAll().filter(r=>Ev(t,r))}notify(t){jt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return jt.batch(()=>Promise.all(t.map(r=>r.continue().catch(wr))))}},fn=new WeakMap,br=new WeakMap,nl=new WeakMap,e0);function Wl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Pv(e){return{onFetch:(t,r)=>{var d,f,h,p,b;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=Db(t.options,t.fetchOptions),y=async(w,_,S)=>{if(v)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const E={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};x(E);const j=await g(E),{maxPages:C}=t.options,P=S?GN:HN;return{pages:P(w.pages,j,C),pageParams:P(w.pageParams,_,C)}};if(s&&i.length){const w=s==="backward",_=w?aT:Nv,S={pages:i,pageParams:o},E=_(n,S);a=await y(S,E,w)}else{const w=e??i.length;do{const _=l===0?o[0]??n.initialPageParam:Nv(n,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<w)}return a};t.options.persister?t.fetchFn=()=>{var v,x;return(x=(v=t.options).persister)==null?void 0:x.call(v,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function Nv(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function aT(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var qe,Xn,es,ro,no,ts,so,io,t0,lT=(t0=class{constructor(e={}){Ee(this,qe);Ee(this,Xn);Ee(this,es);Ee(this,ro);Ee(this,no);Ee(this,ts);Ee(this,so);Ee(this,io);de(this,qe,e.queryCache||new nT),de(this,Xn,e.mutationCache||new oT),de(this,es,e.defaultOptions||{}),de(this,ro,new Map),de(this,no,new Map),de(this,ts,0)}mount(){_l(this,ts)._++,O(this,ts)===1&&(de(this,so,Fb.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,qe).onFocus())})),de(this,io,Jc.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,qe).onOnline())})))}unmount(){var e,t;_l(this,ts)._--,O(this,ts)===0&&((e=O(this,so))==null||e.call(this),de(this,so,void 0),(t=O(this,io))==null||t.call(this),de(this,io,void 0))}isFetching(e){return O(this,qe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return O(this,Xn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=O(this,qe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=O(this,qe).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Sv(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return O(this,qe).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=O(this,qe).get(n.queryHash),i=s==null?void 0:s.state.data,o=UN(t,i);if(o!==void 0)return O(this,qe).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return jt.batch(()=>O(this,qe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=O(this,qe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=O(this,qe);jt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=O(this,qe);return jt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=jt.batch(()=>O(this,qe).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(wr).catch(wr)}invalidateQueries(e,t={}){return jt.batch(()=>(O(this,qe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=jt.batch(()=>O(this,qe).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(wr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(wr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=O(this,qe).build(this,t);return r.isStaleByTime(Sv(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wr).catch(wr)}fetchInfiniteQuery(e){return e.behavior=Pv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wr).catch(wr)}ensureInfiniteQueryData(e){return e.behavior=Pv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Jc.isOnline()?O(this,Xn).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,qe)}getMutationCache(){return O(this,Xn)}getDefaultOptions(){return O(this,es)}setDefaultOptions(e){de(this,es,e)}setQueryDefaults(e,t){O(this,ro).set(Wa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...O(this,ro).values()],r={};return t.forEach(n=>{Ha(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){O(this,no).set(Wa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...O(this,no).values()],r={};return t.forEach(n=>{Ha(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...O(this,es).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===pm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...O(this,es).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){O(this,qe).clear(),O(this,Xn).clear()}},qe=new WeakMap,Xn=new WeakMap,es=new WeakMap,ro=new WeakMap,no=new WeakMap,ts=new WeakMap,so=new WeakMap,io=new WeakMap,t0),cT=m.createContext(void 0),uT=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(cT.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ga.apply(this,arguments)}var ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ss||(ss={}));const Tv="popstate";function dT(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return Th("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Wb(s)}return hT(t,r,null,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fT(){return Math.random().toString(36).substr(2,8)}function Rv(e,t){return{usr:e.state,key:e.key,idx:t}}function Th(e,t,r,n){return r===void 0&&(r=null),Ga({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ao(t):t,{state:r,key:t&&t.key||n||fT()})}function Wb(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ao(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hT(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=ss.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Ga({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ss.Pop;let x=d(),g=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:g})}function h(x,g){a=ss.Push;let y=Th(v.location,x,g);c=d()+1;let w=Rv(y,c),_=v.createHref(y);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:a,location:v.location,delta:1})}function p(x,g){a=ss.Replace;let y=Th(v.location,x,g);c=d();let w=Rv(y,c),_=v.createHref(y);o.replaceState(w,"",_),i&&l&&l({action:a,location:v.location,delta:0})}function b(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:Wb(x);return y=y.replace(/ $/,"%20"),Xe(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let v={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Tv,f),l=x,()=>{s.removeEventListener(Tv,f),l=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let g=b(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(x){return o.go(x)}};return v}var Av;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Av||(Av={}));function pT(e,t,r){return r===void 0&&(r="/"),mT(e,t,r)}function mT(e,t,r,n){let s=typeof t=="string"?Ao(t):t,i=Kb(s.pathname||"/",r);if(i==null)return null;let o=Hb(e);gT(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=PT(i);a=ET(o[l],c)}return a}function Hb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Xe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ei([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Hb(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:ST(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Gb(i.path))s(i,o,l)}),t}function Gb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Gb(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function gT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:kT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vT=/^:[\w-]+$/,yT=3,wT=2,xT=1,bT=10,_T=-2,$v=e=>e==="*";function ST(e,t){let r=e.split("/"),n=r.length;return r.some($v)&&(n+=_T),t&&(n+=wT),r.filter(s=>!$v(s)).reduce((s,i)=>s+(vT.test(i)?yT:i===""?xT:bT),n)}function kT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function ET(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=CT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ei([i,f.pathname]),pathnameBase:AT(ei([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ei([i,f.pathnameBase]))}return o}function CT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jT(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=a[f];return p&&!b?c[h]=void 0:c[h]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function jT(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function PT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function NT(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ao(e):e;return{pathname:r?r.startsWith("/")?r:TT(r,t):t,search:$T(n),hash:OT(s)}}function TT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function of(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Zb(e,t){let r=RT(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qb(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ao(e):(s=Ga({},e),Xe(!s.pathname||!s.pathname.includes("?"),of("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),of("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),of("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=NT(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ei=e=>e.join("/").replace(/\/\/+/g,"/"),AT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$T=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yb=["post","put","patch","delete"];new Set(Yb);const IT=["get",...Yb];new Set(IT);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ka.apply(this,arguments)}const mm=m.createContext(null),MT=m.createContext(null),fl=m.createContext(null),Yu=m.createContext(null),pi=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Jb=m.createContext(null);function hl(){return m.useContext(Yu)!=null}function pl(){return hl()||Xe(!1),m.useContext(Yu).location}function Xb(e){m.useContext(fl).static||m.useLayoutEffect(e)}function Ju(){let{isDataRoute:e}=m.useContext(pi);return e?QT():DT()}function DT(){hl()||Xe(!1);let e=m.useContext(mm),{basename:t,future:r,navigator:n}=m.useContext(fl),{matches:s}=m.useContext(pi),{pathname:i}=pl(),o=JSON.stringify(Zb(s,r.v7_relativeSplatPath)),a=m.useRef(!1);return Xb(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=Qb(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ei([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function FT(e,t){return UT(e,t)}function UT(e,t,r,n){hl()||Xe(!1);let{navigator:s,static:i}=m.useContext(fl),{matches:o}=m.useContext(pi),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=pl(),f;if(t){var h;let g=typeof t=="string"?Ao(t):t;c==="/"||(h=g.pathname)!=null&&h.startsWith(c)||Xe(!1),f=g}else f=d;let p=f.pathname||"/",b=p;if(c!=="/"){let g=c.replace(/^\//,"").split("/");b="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=pT(e,{pathname:b}),x=WT(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:ei([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:ei([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n);return t&&x?m.createElement(Yu.Provider,{value:{location:Ka({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ss.Pop}},x):x}function zT(){let e=ZT(),t=LT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const VT=m.createElement(zT,null);class BT extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(pi.Provider,{value:this.props.routeContext},m.createElement(Jb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qT(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(mm);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(pi.Provider,{value:t},n)}function WT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Xe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,b=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,b=!1,v=null,x=null;r&&(p=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||VT,l&&(c<0&&h===0?(YT("route-fallback"),b=!0,x=null):c===h&&(b=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),y=()=>{let w;return p?w=v:b?w=x:f.route.Component?w=m.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,m.createElement(qT,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(BT,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var e_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(e_||{}),t_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(t_||{});function HT(e){let t=m.useContext(mm);return t||Xe(!1),t}function GT(e){let t=m.useContext(MT);return t||Xe(!1),t}function KT(e){let t=m.useContext(pi);return t||Xe(!1),t}function r_(e){let t=KT(),r=t.matches[t.matches.length-1];return r.route.id||Xe(!1),r.route.id}function ZT(){var e;let t=m.useContext(Jb),r=GT(),n=r_();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function QT(){let{router:e}=HT(e_.UseNavigateStable),t=r_(t_.UseNavigateStable),r=m.useRef(!1);return Xb(()=>{r.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ka({fromRouteId:t},i)))},[e,t])}const Ov={};function YT(e,t,r){Ov[e]||(Ov[e]=!0)}function JT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function n_(e){let{to:t,replace:r,state:n,relative:s}=e;hl()||Xe(!1);let{future:i,static:o}=m.useContext(fl),{matches:a}=m.useContext(pi),{pathname:l}=pl(),c=Ju(),d=Qb(t,Zb(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function yc(e){Xe(!1)}function XT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ss.Pop,navigator:i,static:o=!1,future:a}=e;hl()&&Xe(!1);let l=t.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Ka({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Ao(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:b="default"}=n,v=m.useMemo(()=>{let x=Kb(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:b},navigationType:s}},[l,d,f,h,p,b,s]);return v==null?null:m.createElement(fl.Provider,{value:c},m.createElement(Yu.Provider,{children:r,value:v}))}function e2(e){let{children:t,location:r}=e;return FT(Rh(t),r)}new Promise(()=>{});function Rh(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let i=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Rh(n.props.children,i));return}n.type!==yc&&Xe(!1),!n.props.index||!n.props.children||Xe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Rh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const t2="6";try{window.__reactRouterVersion=t2}catch{}const r2="startTransition",Lv=h0[r2];function n2(e){let{basename:t,children:r,future:n,window:s}=e,i=m.useRef();i.current==null&&(i.current=dT({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=m.useCallback(f=>{c&&Lv?Lv(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>JT(n),[n]),m.createElement(XT,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var Iv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Iv||(Iv={}));var Mv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Mv||(Mv={}));const s2="modulepreload",i2=function(e){return"/"+e},Dv={},Kt=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=i2(l),l in Dv)return;Dv[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":s2,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},o2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kt(async()=>{const{default:n}=await Promise.resolve().then(()=>$o);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class gm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class a2 extends gm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class l2 extends gm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class c2 extends gm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ah;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ah||(Ah={}));var u2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class d2{constructor(t,{headers:r={},customFetch:n,region:s=Ah.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=o2(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return u2(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(b=>{throw new a2(b)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new l2(d);if(!d.ok)throw new c2(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var It={},vm={},Xu={},ml={},ed={},td={},f2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vo=f2();const h2=vo.fetch,s_=vo.fetch.bind(vo),i_=vo.Headers,p2=vo.Request,m2=vo.Response,$o=Object.freeze(Object.defineProperty({__proto__:null,Headers:i_,Request:p2,Response:m2,default:s_,fetch:h2},Symbol.toStringTag,{value:"Module"})),g2=hS($o);var rd={};Object.defineProperty(rd,"__esModule",{value:!0});let v2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};rd.default=v2;var o_=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(td,"__esModule",{value:!0});const y2=o_(g2),w2=o_(rd);let x2=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=y2.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{c=JSON.parse(v),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,p="OK")}catch{i.status===404&&v===""?(h=204,p="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new w2.default(c)}return{error:c,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};td.default=x2;var b2=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ed,"__esModule",{value:!0});const _2=b2(td);let S2=class extends _2.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ed.default=S2;var k2=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const E2=k2(ed);let C2=class extends E2.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ml.default=C2;var j2=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xu,"__esModule",{value:!0});const Ko=j2(ml);let P2=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ko.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ko.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ko.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ko.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ko.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xu.default=P2;var nd={},sd={};Object.defineProperty(sd,"__esModule",{value:!0});sd.version=void 0;sd.version="0.0.0-automated";Object.defineProperty(nd,"__esModule",{value:!0});nd.DEFAULT_HEADERS=void 0;const N2=sd;nd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${N2.version}`};var a_=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vm,"__esModule",{value:!0});const T2=a_(Xu),R2=a_(ml),A2=nd;let $2=class l_{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},A2.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new T2.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new l_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new R2.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};vm.default=$2;var Oo=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(It,"__esModule",{value:!0});It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const c_=Oo(vm);It.PostgrestClient=c_.default;const u_=Oo(Xu);It.PostgrestQueryBuilder=u_.default;const d_=Oo(ml);It.PostgrestFilterBuilder=d_.default;const f_=Oo(ed);It.PostgrestTransformBuilder=f_.default;const h_=Oo(td);It.PostgrestBuilder=h_.default;const p_=Oo(rd);It.PostgrestError=p_.default;var O2=It.default={PostgrestClient:c_.default,PostgrestQueryBuilder:u_.default,PostgrestFilterBuilder:d_.default,PostgrestTransformBuilder:f_.default,PostgrestBuilder:h_.default,PostgrestError:p_.default};const{PostgrestClient:L2,PostgrestQueryBuilder:FI,PostgrestFilterBuilder:UI,PostgrestTransformBuilder:zI,PostgrestBuilder:VI,PostgrestError:BI}=O2,I2="2.11.2",M2={"X-Client-Info":`realtime-js/${I2}`},D2="1.0.0",m_=1e4,F2=1e3;var Gi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gi||(Gi={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var Sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sr||(Sr={}));var $h;(function(e){e.websocket="websocket"})($h||($h={}));var Us;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Us||(Us={}));class U2{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class g_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Te||(Te={}));const Fv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=z2(o,e,t,s),i),{})},z2=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?v_(i,o):Oh(o)},v_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return W2(t,r)}switch(e){case Te.bool:return V2(t);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return B2(t);case Te.json:case Te.jsonb:return q2(t);case Te.timestamp:return H2(t);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return Oh(t);default:return Oh(t)}},Oh=e=>e,V2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},B2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},q2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},W2=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>v_(t,a))}return e},H2=e=>typeof e=="string"?e.replace(" ","T"):e,y_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class af{constructor(t,r,n={},s=m_){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Uv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Uv||(Uv={}));class ya{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ya.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ya.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ya.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),b=d.filter(x=>p.indexOf(x.presence_ref)<0),v=f.filter(x=>h.indexOf(x.presence_ref)<0);b.length>0&&(a[c]=b),v.length>0&&(l[c]=v)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zv||(zv={}));var Vv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vv||(Vv={}));var un;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(un||(un={}));class ym{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new af(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new g_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ya(this),this.broadcastEndpointURL=y_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(un.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(un.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(un.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,b=[];for(let v=0;v<p;v++){const x=h[v],{filter:{event:g,schema:y,table:w,filter:_}}=x,S=d&&d[v];if(S&&S.event===g&&S.schema===y&&S.table===w&&S.filter===_)b.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),t==null||t(un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(un.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new af(this,Sr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new af(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Sr;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,v,x;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(v=p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var b,v,x,g,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(b=p.filter)===null||b===void 0?void 0:b.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:v,table:x,commit_timestamp:g,type:y,errors:w}=b;h=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(b))}p.callback(h,n)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ym.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sr.close,{},t)}_onError(t){this._on(Sr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fv(t.columns,t.old_record)),r}}const G2=()=>{},K2=typeof WebSocket<"u",Z2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Q2{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=M2,this.params={},this.timeout=m_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=G2,this.conn=null,this.sendBuffer=[],this.serializer=new U2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Kt(async()=>{const{default:l}=await Promise.resolve().then(()=>$o);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${$h.websocket}`,this.httpEndpoint=y_(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new g_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(K2){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Y2(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Kt(async()=>{const{default:t}=await import("./browser-KtrRCvPC.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:D2}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gi.connecting:return Us.Connecting;case Gi.open:return Us.Open;case Gi.closing:return Us.Closing;default:return Us.Closed}}isConnected(){return this.connectionState()===Us.Open}channel(t,r={config:{}}){const n=new ym(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Sr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(F2,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Z2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Y2{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class wm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function it(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class J2 extends wm{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lh extends wm{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var X2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const w_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kt(async()=>{const{default:n}=await Promise.resolve().then(()=>$o);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},eR=()=>X2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kt(()=>Promise.resolve().then(()=>$o),void 0)).Response:Response}),Ih=e=>{if(Array.isArray(e))return e.map(r=>Ih(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ih(n)}),t};var mi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const lf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tR=(e,t,r)=>mi(void 0,void 0,void 0,function*(){const n=yield eR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new J2(lf(s),e.status||500))}).catch(s=>{t(new Lh(lf(s),s))}):t(new Lh(lf(e),e))}),rR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function gl(e,t,r,n,s,i){return mi(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,rR(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>tR(l,a,n))})})}function Xc(e,t,r,n){return mi(this,void 0,void 0,function*(){return gl(e,"GET",t,r,n)})}function qn(e,t,r,n,s){return mi(this,void 0,void 0,function*(){return gl(e,"POST",t,n,s,r)})}function nR(e,t,r,n,s){return mi(this,void 0,void 0,function*(){return gl(e,"PUT",t,n,s,r)})}function sR(e,t,r,n){return mi(this,void 0,void 0,function*(){return gl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function x_(e,t,r,n,s){return mi(this,void 0,void 0,function*(){return gl(e,"DELETE",t,n,s,r)})}var At=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const iR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oR{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=w_(s)}uploadOrUpdate(t,r,n,s){return At(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Bv),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(it(i))return{data:null,error:i};throw i}})}upload(t,r,n){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return At(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Bv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(it(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return At(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield qn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new wm("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}update(t,r,n){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return At(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(it(s))return{data:null,error:s};throw s}})}copy(t,r,n){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(it(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return At(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield qn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(it(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return At(this,void 0,void 0,function*(){try{const s=yield qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(it(s))return{data:null,error:s};throw s}})}download(t,r){return At(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Xc(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(it(a))return{data:null,error:a};throw a}})}info(t){return At(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Xc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ih(n),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}exists(t){return At(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield sR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(it(n)&&n instanceof Lh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return At(this,void 0,void 0,function*(){try{return{data:yield x_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}})}list(t,r,n){return At(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},iR),r),{prefix:t||""});return{data:yield qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(it(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const aR="2.7.1",lR={"X-Client-Info":`storage-js/${aR}`};var yi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class cR{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},lR),r),this.fetch=w_(n)}listBuckets(){return yi(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(it(t))return{data:null,error:t};throw t}})}getBucket(t){return yi(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return yi(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return yi(this,void 0,void 0,function*(){try{return{data:yield nR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}emptyBucket(t){return yi(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}})}deleteBucket(t){return yi(this,void 0,void 0,function*(){try{return{data:yield x_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}})}}class uR extends cR{constructor(t,r={},n){super(t,r,n)}from(t){return new oR(this.url,this.headers,t,this.fetch)}}const dR="2.49.4";let ta="";typeof Deno<"u"?ta="deno":typeof document<"u"?ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ta="react-native":ta="node";const fR={"X-Client-Info":`supabase-js-${ta}/${dR}`},hR={headers:fR},pR={schema:"public"},mR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gR={};var vR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const yR=e=>{let t;return e?t=e:typeof fetch>"u"?t=s_:t=fetch,(...r)=>t(...r)},wR=()=>typeof Headers>"u"?i_:Headers,xR=(e,t,r)=>{const n=yR(r),s=wR();return(i,o)=>vR(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var bR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function _R(e){return e.replace(/\/$/,"")}function SR(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>bR(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const b_="2.69.1",Ei=30*1e3,Mh=3,cf=Mh*Ei,kR="http://localhost:9999",ER="supabase.auth.token",CR={"X-Client-Info":`gotrue-js/${b_}`},Dh="X-Supabase-Api-Version",__={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,PR=6e5;class xm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class NR extends xm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function TR(e){return pe(e)&&e.name==="AuthApiError"}class S_ extends xm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ps extends xm{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Fn extends Ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RR(e){return pe(e)&&e.name==="AuthSessionMissingError"}class uf extends Ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hl extends Ps{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gl extends Ps{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AR(e){return pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class qv extends Ps{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fh extends Ps{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function df(e){return pe(e)&&e.name==="AuthRetryableFetchError"}class Wv extends Ps{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wa extends Ps{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gv=` 	
\r=`.split(""),$R=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gv.length;t+=1)e[Gv[t].charCodeAt(0)]=-2;for(let t=0;t<Hv.length;t+=1)e[Hv[t].charCodeAt(0)]=t;return e})();function k_(e,t,r){const n=$R[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Kv(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{IR(o,n,r)};for(let o=0;o<e.length;o+=1)k_(e.charCodeAt(o),s,i);return t.join("")}function OR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function LR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}OR(n,t)}}function IR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function MR(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)k_(e.charCodeAt(s),r,n);return new Uint8Array(t)}function DR(e){const t=[];return LR(e,r=>t.push(r)),new Uint8Array(t)}function FR(e){return Math.round(Date.now()/1e3)+e}function UR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dr=()=>typeof window<"u"&&typeof document<"u",Ls={tested:!1,writable:!1},xa=()=>{if(!Dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ls.tested)return Ls.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ls.tested=!0,Ls.writable=!0}catch{Ls.tested=!0,Ls.writable=!1}return Ls.writable};function zR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const E_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kt(async()=>{const{default:n}=await Promise.resolve().then(()=>$o);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},VR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",C_=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Kl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zl=async(e,t)=>{await e.removeItem(t)};class id{constructor(){this.promise=new id.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}id.promiseConstructor=Promise;function ff(e){const t=e.split(".");if(t.length!==3)throw new wa("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!jR.test(t[n]))throw new wa("JWT not in base64url format");return{header:JSON.parse(Kv(t[0])),payload:JSON.parse(Kv(t[1])),signature:MR(t[2]),raw:{header:t[0],payload:t[1]}}}async function BR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qR(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function WR(e){return("0"+e.toString(16)).substr(-2)}function HR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,WR).join("")}async function GR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function KR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wi(e,t,r=!1){const n=HR();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await C_(e,`${t}-code-verifier`,s);const i=await KR(n);return[i,n===i?"plain":"s256"]}const ZR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QR(e){const t=e.headers.get(Dh);if(!t||!t.match(ZR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var XR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ds=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eA=[502,503,504];async function Zv(e){var t;if(!VR(e))throw new Fh(Ds(e),0);if(eA.includes(e.status))throw new Fh(Ds(e),e.status);let r;try{r=await e.json()}catch(i){throw new S_(Ds(i),i)}let n;const s=QR(e);if(s&&s.getTime()>=__["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Wv(Ds(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Fn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Wv(Ds(r),e.status,r.weak_password.reasons);throw new NR(Ds(r),e.status||500,n)}const tA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ve(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Dh]||(i[Dh]=__["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await rA(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function rA(e,t,r,n,s,i){const o=tA(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Fh(Ds(l),0)}if(a.ok||await Zv(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Zv(l)}}function Un(e){var t;let r=null;oA(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=FR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Qv(e){const t=Un(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nA(e){return{data:e,error:null}}function sA(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=XR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function iA(e){return e}function oA(e){return e.access_token&&e.refresh_token&&e.expires_in}var aA=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class lA{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=E_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zn})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=aA(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sA,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zn})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:iA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(pe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zn})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Zn})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zn})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}}const cA={getItem:e=>xa()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{xa()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{xa()&&globalThis.localStorage.removeItem(e)}};function Yv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function uA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xi={debug:!!(globalThis&&xa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class j_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dA extends j_{}async function fA(e,t,r){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}uA();const hA={url:kR,storageKey:ER,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:CR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jv(e,t,r){return await r()}class Za{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Za.nextInstanceID,Za.nextInstanceID+=1,this.instanceID>0&&Dr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},hA),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new lA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=E_(s.fetch),this.lock=s.lock||Jv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Dr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=fA:this.lock=Jv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:xa()?this.storage=cA:(this.memoryStorage={},this.storage=Yv(this.memoryStorage)):(this.memoryStorage={},this.storage=Yv(this.memoryStorage)),Dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${b_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=zR(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Dr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),AR(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return pe(r)?{error:r}:{error:new S_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Un}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await wi(this.storage,this.storageKey)),i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:b},xform:Un})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Un})}else throw new Hl("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Qv})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Qv})}else throw new Hl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new uf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Kl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Un});if(await Zl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new uf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(pe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Un}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new uf}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await wi(this.storage,this.storageKey));const{error:f}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Hl("You must provide either an email or phone number.")}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Un});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await wi(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:nA})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Fn;const{error:s}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Hl("You must provide either an email or phone number and a type")}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Kl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<cf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zn}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fn}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Zn})})}catch(r){if(pe(r))return RR(r)&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Fn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await wi(this.storage,this.storageKey));const{data:c,error:d}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Zn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ff(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(pe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Fn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Dr())throw new Gl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qv("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Gl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(pe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Kl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(TR(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=UR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await wi(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Dr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(pe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qR(async s=>(s>0&&await BR(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Un})),(s,i)=>{const o=200*Math.pow(2,s);return i&&df(i)&&Date.now()+o-n<Ei})}catch(n){if(this._debug(r,"error",n),pe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Dr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Kl(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<cf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${cf}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),df(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new id;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Fn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),pe(i)){const o={session:null,error:i};return df(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await C_(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Zl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ei);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ei}ms, refresh threshold is ${Mh} ticks`),s<=Mh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof j_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await wi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(pe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(pe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ff(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+PR>Date.now()))return n;const{data:s,error:i}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new wa("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new wa("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=ff(n);if(YR(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=JR(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,DR(`${a}.${l}`)))throw new wa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}Za.nextInstanceID=0;const pA=Za;class mA extends pA{constructor(t){super(t)}}var gA=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class vA{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=_R(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:pR,realtime:gR,auth:Object.assign(Object.assign({},mR),{storageKey:l}),global:hR},d=SR(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=xR(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new L2(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new d2(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new uR(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return gA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mA({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Q2(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yA=(e,t,r)=>new vA(e,t,r),wA="https://edacjnnrjmnftlhdcjab.supabase.co",xA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVkYWNqbm5yam1uZnRsaGRjamFiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM1NjcxOTAsImV4cCI6MjA1OTE0MzE5MH0.2Bu7C2euTci7yigc-JDhq-QumH93oLS9g5Uk26yWQMU",Ce=yA(wA,xA),bA=Bu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ye=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?wx:"button";return u.jsx(o,{className:Ae(bA({variant:t,size:r,className:e})),ref:i,...s})});ye.displayName="Button";const Xv=({onSettingsClick:e,hasUnreadMessages:t,logoAura:r="none"})=>{const[n,s]=m.useState("0"),[i,o]=m.useState(null),[a,l]=m.useState(null),[c,d]=m.useState(!1),[f,h]=m.useState(0),[p,b]=m.useState(0),v=Ju();m.useEffect(()=>{if(f>0){const C=setTimeout(()=>{h(0)},3e3);return()=>clearTimeout(C)}},[f]);const x=async()=>{try{const{error:C}=await Ce.auth.signOut();C?(console.error("Error al cerrar sesión:",C),yh({variant:"destructive",title:"Error",description:"No se pudo cerrar la sesión"})):(yh({title:"Sesión cerrada",description:"Has cerrado sesión correctamente"}),v("/auth"))}catch(C){console.error("Error inesperado al cerrar sesión:",C)}},g=()=>{const C=Date.now();C-p>1500?h(1):h(P=>P+1),b(C),f===4&&(x(),h(0))},y=C=>{c===!0?(s(C),d(!1)):s(n==="0"?C:n+C)},w=C=>{n.includes(C)||s(n+C)},_=C=>{const P=parseFloat(n);if(i===null)o(P);else if(a){const M=S[a](i,P);s(String(M)),o(M)}d(!0),l(C)},S={"/":(C,P)=>C/P,"*":(C,P)=>C*P,"+":(C,P)=>C+P,"-":(C,P)=>C-P,"=":(C,P)=>P},E=()=>{s("0"),o(null),l(null),d(!1)},j=()=>{const C=parseFloat(n);if(a){const P=S[a](i||0,C);s(String(P)),o(P),d(!1),l(null)}};return u.jsxs("div",{className:"flex flex-col h-screen bg-gray-100 p-4 pt-12",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("div",{className:`relative cursor-pointer ${t?"animate-pulse":""}`,onClick:g,children:[u.jsx("img",{src:"/lovable-uploads/3f963389-b035-45c6-890b-824df3549300.png",alt:"App Logo",className:"h-12 w-12 rounded-lg"}),r!=="none"&&u.jsx("div",{className:`absolute -inset-1 rounded-xl opacity-70 ${r==="green"?"bg-green-500":"bg-red-500"}`,style:{zIndex:-1}}),f>0&&u.jsx("div",{className:"absolute -top-2 -right-2 bg-blue-500 text-white rounded-full h-5 w-5 flex items-center justify-center text-xs",children:f})]})}),u.jsx("div",{className:"text-right text-3xl text-gray-800 mb-4",children:n}),u.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[u.jsx(ye,{onClick:E,className:"col-span-3 bg-gray-300 text-gray-700 h-12",children:"AC"}),u.jsx(ye,{onClick:e,className:"bg-gray-300 text-gray-700 h-12",children:"⚙️"}),u.jsx(ye,{onClick:()=>y("7"),className:"bg-white text-gray-700 h-12",children:"7"}),u.jsx(ye,{onClick:()=>y("8"),className:"bg-white text-gray-700 h-12",children:"8"}),u.jsx(ye,{onClick:()=>y("9"),className:"bg-white text-gray-700 h-12",children:"9"}),u.jsx(ye,{onClick:()=>_("/"),className:"bg-orange-400 text-white h-12",children:"÷"}),u.jsx(ye,{onClick:()=>y("4"),className:"bg-white text-gray-700 h-12",children:"4"}),u.jsx(ye,{onClick:()=>y("5"),className:"bg-white text-gray-700 h-12",children:"5"}),u.jsx(ye,{onClick:()=>y("6"),className:"bg-white text-gray-700 h-12",children:"6"}),u.jsx(ye,{onClick:()=>_("*"),className:"bg-orange-400 text-white h-12",children:"x"}),u.jsx(ye,{onClick:()=>y("1"),className:"bg-white text-gray-700 h-12",children:"1"}),u.jsx(ye,{onClick:()=>y("2"),className:"bg-white text-gray-700 h-12",children:"2"}),u.jsx(ye,{onClick:()=>y("3"),className:"bg-white text-gray-700 h-12",children:"3"}),u.jsx(ye,{onClick:()=>_("-"),className:"bg-orange-400 text-white h-12",children:"-"}),u.jsx(ye,{onClick:()=>y("0"),className:"col-span-2 bg-white text-gray-700 h-12",children:"0"}),u.jsx(ye,{onClick:()=>w("."),className:"bg-white text-gray-700 h-12",children:"."}),u.jsx(ye,{onClick:()=>_("+"),className:"bg-orange-400 text-white h-12",children:"+"}),u.jsx(ye,{onClick:j,className:"col-span-4 bg-orange-500 text-white h-12",children:"="})]})]})},_A=Bu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Yr=m.forwardRef(({className:e,variant:t,...r},n)=>u.jsx("div",{ref:n,role:"alert",className:Ae(_A({variant:t}),e),...r}));Yr.displayName="Alert";const SA=m.forwardRef(({className:e,...t},r)=>u.jsx("h5",{ref:r,className:Ae("mb-1 font-medium leading-none tracking-tight",e),...t}));SA.displayName="AlertTitle";const Jr=m.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:Ae("text-sm [&_p]:leading-relaxed",e),...t}));Jr.displayName="AlertDescription";var hf="focusScope.autoFocusOnMount",pf="focusScope.autoFocusOnUnmount",ey={bubbles:!1,cancelable:!0},kA="FocusScope",P_=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=m.useState(null),c=dr(s),d=dr(i),f=m.useRef(null),h=bt(t,v=>l(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(w){if(p.paused||!a)return;const _=w.target;a.contains(_)?f.current=_:zn(f.current,{select:!0})},x=function(w){if(p.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||zn(f.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&zn(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const y=new MutationObserver(g);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),y.disconnect()}}},[n,a,p.paused]),m.useEffect(()=>{if(a){ry.add(p);const v=document.activeElement;if(!a.contains(v)){const g=new CustomEvent(hf,ey);a.addEventListener(hf,c),a.dispatchEvent(g),g.defaultPrevented||(EA(TA(N_(a)),{select:!0}),document.activeElement===v&&zn(a))}return()=>{a.removeEventListener(hf,c),setTimeout(()=>{const g=new CustomEvent(pf,ey);a.addEventListener(pf,d),a.dispatchEvent(g),g.defaultPrevented||zn(v??document.body,{select:!0}),a.removeEventListener(pf,d),ry.remove(p)},0)}}},[a,c,d,p]);const b=m.useCallback(v=>{if(!r&&!n||p.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(x&&g){const y=v.currentTarget,[w,_]=CA(y);w&&_?!v.shiftKey&&g===_?(v.preventDefault(),r&&zn(w,{select:!0})):v.shiftKey&&g===w&&(v.preventDefault(),r&&zn(_,{select:!0})):g===y&&v.preventDefault()}},[r,n,p.paused]);return u.jsx(Be.div,{tabIndex:-1,...o,ref:h,onKeyDown:b})});P_.displayName=kA;function EA(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(zn(n,{select:t}),document.activeElement!==r)return}function CA(e){const t=N_(e),r=ty(t,e),n=ty(t.reverse(),e);return[r,n]}function N_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ty(e,t){for(const r of e)if(!jA(r,{upTo:t}))return r}function jA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function PA(e){return e instanceof HTMLInputElement&&"select"in e}function zn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&PA(e)&&t&&e.select()}}var ry=NA();function NA(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=ny(e,t),e.unshift(t)},remove(t){var r;e=ny(e,t),(r=e[0])==null||r.resume()}}}function ny(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function TA(e){return e.filter(t=>t.tagName!=="A")}var mf=0;function RA(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sy()),document.body.insertAdjacentElement("beforeend",e[1]??sy()),mf++,()=>{mf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mf--}},[])}function sy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Uh=function(e,t){return Uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Uh(e,t)};function T_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Uh(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var qr=function(){return qr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qr.apply(this,arguments)};function R_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function iy(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zh(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function eu(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var wc="right-scroll-bar-position",xc="width-before-scroll-bar",AA="with-scroll-bars-hidden",$A="--removed-body-scroll-bar-size";function gf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function OA(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var LA=typeof window<"u"?m.useLayoutEffect:m.useEffect,oy=new WeakMap;function IA(e,t){var r=OA(null,function(n){return e.forEach(function(s){return gf(s,n)})});return LA(function(){var n=oy.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||gf(a,null)}),i.forEach(function(a){s.has(a)||gf(a,o)})}oy.set(r,e)},[e]),r}function MA(e){return e}function DA(e,t){t===void 0&&(t=MA);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),r}}}};return s}function FA(e){e===void 0&&(e={});var t=DA(null);return t.options=qr({async:!0,ssr:!1},e),t}var A_=function(e){var t=e.sideCar,r=R_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,qr({},r))};A_.isSideCarExport=!0;function UA(e,t){return e.useMedium(t),A_}var $_=FA(),vf=function(){},od=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:vf,onWheelCapture:vf,onTouchMoveCapture:vf}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,b=e.inert,v=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,y=e.gapMode,w=R_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=IA([r,t]),E=qr(qr({},w),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:$_,removeScrollBar:c,shards:f,noIsolation:p,inert:b,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:y}),o?m.cloneElement(m.Children.only(a),qr(qr({},E),{ref:S})):m.createElement(g,qr({},E,{className:l,ref:S}),a))});od.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};od.classNames={fullWidth:xc,zeroRight:wc};var zA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zA();return t&&e.setAttribute("nonce",t),e}function BA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WA=function(){var e=0,t=null;return{add:function(r){e==0&&(t=VA())&&(BA(t,r),qA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},HA=function(){var e=WA();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},O_=function(){var e=HA(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},GA={left:0,top:0,right:0,gap:0},yf=function(e){return parseInt(e||"",10)||0},KA=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[yf(r),yf(n),yf(s)]},ZA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GA;var t=KA(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},QA=O_(),Ki="data-scroll-locked",YA=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(AA,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Ki,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wc,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(xc,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(wc," .").concat(wc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(xc," .").concat(xc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ki,`] {
    `).concat($A,": ").concat(a,`px;
  }
`)},ay=function(){var e=parseInt(document.body.getAttribute(Ki)||"0",10);return isFinite(e)?e:0},JA=function(){m.useEffect(function(){return document.body.setAttribute(Ki,(ay()+1).toString()),function(){var e=ay()-1;e<=0?document.body.removeAttribute(Ki):document.body.setAttribute(Ki,e.toString())}},[])},XA=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;JA();var i=m.useMemo(function(){return ZA(s)},[s]);return m.createElement(QA,{styles:YA(i,!t,s,r?"":"!important")})},Vh=!1;if(typeof window<"u")try{var Ql=Object.defineProperty({},"passive",{get:function(){return Vh=!0,!0}});window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{Vh=!1}var bi=Vh?{passive:!1}:!1,e$=function(e){return e.tagName==="TEXTAREA"},L_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!e$(e)&&r[t]==="visible")},t$=function(e){return L_(e,"overflowY")},r$=function(e){return L_(e,"overflowX")},ly=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=I_(e,n);if(s){var i=M_(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},n$=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},s$=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},I_=function(e,t){return e==="v"?t$(t):r$(t)},M_=function(e,t){return e==="v"?n$(t):s$(t)},i$=function(e,t){return e==="h"&&t==="rtl"?-1:1},o$=function(e,t,r,n,s){var i=i$(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),c=!1,d=o>0,f=0,h=0;do{var p=M_(e,a),b=p[0],v=p[1],x=p[2],g=v-x-i*b;(b||g)&&I_(e,a)&&(f+=g,h+=b),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(c=!0),c},Yl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cy=function(e){return[e.deltaX,e.deltaY]},uy=function(e){return e&&"current"in e?e.current:e},a$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},l$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},c$=0,_i=[];function u$(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(c$++)[0],i=m.useState(O_)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=eu([e.lockRef.current],(e.shards||[]).map(uy),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var g=Yl(v),y=r.current,w="deltaX"in v?v.deltaX:y[0]-g[0],_="deltaY"in v?v.deltaY:y[1]-g[1],S,E=v.target,j=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in v&&j==="h"&&E.type==="range")return!1;var C=ly(j,E);if(!C)return!0;if(C?S=j:(S=j==="v"?"h":"v",C=ly(j,E)),!C)return!1;if(!n.current&&"changedTouches"in v&&(w||_)&&(n.current=S),!S)return!0;var P=n.current||S;return o$(P,x,v,P==="h"?w:_)},[]),l=m.useCallback(function(v){var x=v;if(!(!_i.length||_i[_i.length-1]!==i)){var g="deltaY"in x?cy(x):Yl(x),y=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&a$(S.delta,g)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(uy).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=w.length>0?a(x,w[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),c=m.useCallback(function(v,x,g,y){var w={name:v,delta:x,target:g,should:y,shadowParent:d$(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(v){r.current=Yl(v),n.current=void 0},[]),f=m.useCallback(function(v){c(v.type,cy(v),v.target,a(v,e.lockRef.current))},[]),h=m.useCallback(function(v){c(v.type,Yl(v),v.target,a(v,e.lockRef.current))},[]);m.useEffect(function(){return _i.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,bi),document.addEventListener("touchmove",l,bi),document.addEventListener("touchstart",d,bi),function(){_i=_i.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,bi),document.removeEventListener("touchmove",l,bi),document.removeEventListener("touchstart",d,bi)}},[]);var p=e.removeScrollBar,b=e.inert;return m.createElement(m.Fragment,null,b?m.createElement(i,{styles:l$(s)}):null,p?m.createElement(XA,{gapMode:e.gapMode}):null)}function d$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const f$=UA($_,u$);var D_=m.forwardRef(function(e,t){return m.createElement(od,qr({},e,{ref:t,sideCar:f$}))});D_.classNames=od.classNames;var h$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Si=new WeakMap,Jl=new WeakMap,Xl={},wf=0,F_=function(e){return e&&(e.host||F_(e.parentNode))},p$=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=F_(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},m$=function(e,t,r,n){var s=p$(t,Array.isArray(e)?e:[e]);Xl[r]||(Xl[r]=new WeakMap);var i=Xl[r],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var p=h.getAttribute(n),b=p!==null&&p!=="false",v=(Si.get(h)||0)+1,x=(i.get(h)||0)+1;Si.set(h,v),i.set(h,x),o.push(h),v===1&&b&&Jl.set(h,!0),x===1&&h.setAttribute(r,"true"),b||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),a.clear(),wf++,function(){o.forEach(function(f){var h=Si.get(f)-1,p=i.get(f)-1;Si.set(f,h),i.set(f,p),h||(Jl.has(f)||f.removeAttribute(n),Jl.delete(f)),p||f.removeAttribute(r)}),wf--,wf||(Si=new WeakMap,Si=new WeakMap,Jl=new WeakMap,Xl={})}},g$=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=h$(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),m$(n,s,r,"aria-hidden")):function(){return null}},bm="Dialog",[U_,qI]=Co(bm),[v$,Lr]=U_(bm),z_=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=m.useRef(null),l=m.useRef(null),[c=!1,d]=Jp({prop:n,defaultProp:s,onChange:i});return u.jsx(v$,{scope:t,triggerRef:a,contentRef:l,contentId:tf(),titleId:tf(),descriptionId:tf(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};z_.displayName=bm;var V_="DialogTrigger",y$=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Lr(V_,r),i=bt(t,s.triggerRef);return u.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":km(s.open),...n,ref:i,onClick:Ie(e.onClick,s.onOpenToggle)})});y$.displayName=V_;var _m="DialogPortal",[w$,B_]=U_(_m,{forceMount:void 0}),q_=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Lr(_m,t);return u.jsx(w$,{scope:t,forceMount:r,children:m.Children.map(n,o=>u.jsx(jo,{present:r||i.open,children:u.jsx(Yp,{asChild:!0,container:s,children:o})}))})};q_.displayName=_m;var tu="DialogOverlay",W_=m.forwardRef((e,t)=>{const r=B_(tu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Lr(tu,e.__scopeDialog);return i.modal?u.jsx(jo,{present:n||i.open,children:u.jsx(b$,{...s,ref:t})}):null});W_.displayName=tu;var x$=Va("DialogOverlay.RemoveScroll"),b$=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Lr(tu,r);return u.jsx(D_,{as:x$,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Be.div,{"data-state":km(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),li="DialogContent",H_=m.forwardRef((e,t)=>{const r=B_(li,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Lr(li,e.__scopeDialog);return u.jsx(jo,{present:n||i.open,children:i.modal?u.jsx(_$,{...s,ref:t}):u.jsx(S$,{...s,ref:t})})});H_.displayName=li;var _$=m.forwardRef((e,t)=>{const r=Lr(li,e.__scopeDialog),n=m.useRef(null),s=bt(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return g$(i)},[]),u.jsx(G_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,i=>i.preventDefault())})}),S$=m.forwardRef((e,t)=>{const r=Lr(li,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return u.jsx(G_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),G_=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Lr(li,r),l=m.useRef(null),c=bt(t,l);return RA(),u.jsxs(u.Fragment,{children:[u.jsx(P_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Fu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":km(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(k$,{titleId:a.titleId}),u.jsx(C$,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Sm="DialogTitle",K_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Lr(Sm,r);return u.jsx(Be.h2,{id:s.titleId,...n,ref:t})});K_.displayName=Sm;var Z_="DialogDescription",Q_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Lr(Z_,r);return u.jsx(Be.p,{id:s.descriptionId,...n,ref:t})});Q_.displayName=Z_;var Y_="DialogClose",J_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Lr(Y_,r);return u.jsx(Be.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,()=>s.onOpenChange(!1))})});J_.displayName=Y_;function km(e){return e?"open":"closed"}var X_="DialogTitleWarning",[WI,e1]=BE(X_,{contentName:li,titleName:Sm,docsSlug:"dialog"}),k$=({titleId:e})=>{const t=e1(X_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},E$="DialogDescriptionWarning",C$=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e1(E$).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},j$=z_,P$=q_,t1=W_,r1=H_,n1=K_,s1=Q_,N$=J_;const ru=j$,T$=P$,i1=m.forwardRef(({className:e,...t},r)=>u.jsx(t1,{ref:r,className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));i1.displayName=t1.displayName;const Qa=m.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(T$,{children:[u.jsx(i1,{}),u.jsxs(r1,{ref:n,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,u.jsxs(N$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Sn,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qa.displayName=r1.displayName;const Ya=({className:e,...t})=>u.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ya.displayName="DialogHeader";const o1=({className:e,...t})=>u.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});o1.displayName="DialogFooter";const Ja=m.forwardRef(({className:e,...t},r)=>u.jsx(n1,{ref:r,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...t}));Ja.displayName=n1.displayName;const nu=m.forwardRef(({className:e,...t},r)=>u.jsx(s1,{ref:r,className:Ae("text-sm text-muted-foreground",e),...t}));nu.displayName=s1.displayName;const Mt={savePattern:async(e,t)=>{if(console.log("savePattern called with userId:",e,"pattern:",t),!e)return console.error("savePattern: UserId es requerido"),{data:null,error:new Error("UserId es requerido")};if(!t||t.length<4)return console.error("savePattern: Patrón inválido, debe tener al menos 4 puntos"),{data:null,error:new Error("Patrón inválido")};const r=t.join(",");console.log(`Guardando patrón para usuario ${e}: ${r}`);try{const{data:n,error:s}=await Ce.from("unlock_patterns").select("*").eq("user_id",e).maybeSingle();if(s)return console.error("Error al verificar patrón existente:",s),{data:null,error:s};if(n){console.log("Actualizando patrón existente");const{data:i,error:o}=await Ce.from("unlock_patterns").update({pattern:r,updated_at:new Date().toISOString()}).eq("user_id",e).select();return o?console.error("Error al actualizar patrón:",o):console.log("Patrón actualizado correctamente:",i),{data:i,error:o}}else{console.log("Creando nuevo patrón");const{data:i,error:o}=await Ce.from("unlock_patterns").insert([{user_id:e,pattern:r}]).select();return o?console.error("Error al insertar nuevo patrón:",o):console.log("Nuevo patrón creado correctamente:",i),{data:i,error:o}}}catch(n){return console.error("Error inesperado al guardar patrón:",n),{data:null,error:n}}},getPattern:async e=>{if(console.log(`🔑 getPattern called for userId: ${e}`),!e)return console.error("getPattern: UserId es requerido"),{data:null,error:new Error("UserId es requerido")};try{const{data:t,error:r}=await Ce.from("unlock_patterns").select("pattern").eq("user_id",e).maybeSingle();if(r)return console.error("Error al obtener patrón:",r),{data:null,error:r};if(!t)return console.log("🔑 No se encontró patrón para el usuario, usando patrón por defecto"),{data:null,error:new Error("No pattern found")};const n=t.pattern.split(",").map(Number);return console.log(`🔑 Patrón recuperado: ${n.join(",")}`),{data:n,error:null}}catch(t){return console.error("Error inesperado al obtener patrón:",t),{data:null,error:t}}},verifyPattern:async(e,t)=>{if(console.log(`🔑 verifyPattern called for userId: ${e}, inputPattern: ${t.join(",")}`),!e||!t||t.length<4)return console.error("verifyPattern: Parámetros inválidos"),!1;try{const{data:r,error:n}=await Mt.getPattern(e);if(n||!r){console.error("Error verificando patrón:",n),console.log("🔑 Fallback to default pattern verification");const i=Mt.verifyDefaultPattern(t);return console.log("🔑 Default pattern verification result:",i),i}if(r.length!==t.length)return console.log(`🔑 Longitud de patrones diferente. Stored: ${r.length}, Input: ${t.length}`),!1;const s=r.every((i,o)=>i===t[o]);return console.log(`🔑 Patrones coinciden: ${s}. Stored: [${r}], Input: [${t}]`),s}catch(r){console.error("Error inesperado al verificar patrón:",r);const n=Mt.verifyDefaultPattern(t);return console.log("🔑 Fallback to default pattern after error:",n),n}},verifyDefaultPattern:e=>{console.log("🔑 verifyDefaultPattern called with:",e);const t=[1,5,9,6];if(t.length!==e.length)return console.log(`🔑 Longitud de patrones diferente. Default: ${t.length}, Input: ${e.length}`),!1;const r=t.every((n,s)=>n===e[s]);return console.log(`🔑 Patrones coinciden con default: ${r}`),r},saveContactPattern:async(e,t,r,n)=>{const s=r.join(","),{data:i,error:o}=await Ce.from("contact_unlock_patterns").select("*").eq("user_id",e).eq("contact_id",t).maybeSingle();if(o)return{data:null,error:o};if(i){const{data:a,error:l}=await Ce.from("contact_unlock_patterns").update({pattern:s,is_enabled:n,updated_at:new Date().toISOString()}).eq("user_id",e).eq("contact_id",t);return{data:a,error:l}}else{const{data:a,error:l}=await Ce.from("contact_unlock_patterns").insert([{user_id:e,contact_id:t,pattern:s,is_enabled:n}]);return{data:a,error:l}}},getContactPattern:async(e,t)=>{const{data:r,error:n}=await Ce.from("contact_unlock_patterns").select("*").eq("user_id",e).eq("contact_id",t).maybeSingle();return n||!r?{data:null,error:n||new Error("No pattern found for contact")}:{data:{id:r.id,user_id:r.user_id,contact_id:r.contact_id,pattern:r.pattern,is_enabled:r.is_enabled},error:null}},verifyContactPattern:async(e,t,r)=>{const{data:n,error:s}=await Mt.getContactPattern(e,t);if(s||!n)return console.error("Error verificando patrón de contacto:",s),!1;if(!n.is_enabled)return!0;const i=n.pattern.split(",").map(Number);return i.length!==r.length?!1:i.every((o,a)=>o===r[a])},contactHasActivePattern:async(e,t)=>{const{data:r,error:n}=await Mt.getContactPattern(e,t);return n||!r?!1:r.is_enabled}},R$=async(e,t,r,n)=>{try{const{data:s,error:i}=await Ce.from("profiles").select("username").ilike("username",r).limit(1);if(i)return console.error("Error al verificar nombre de usuario:",i),{data:null,error:{message:"Error al verificar la disponibilidad del nombre de usuario."}};if(s&&s.length>0)return{data:null,error:{message:"Este nombre de usuario ya está en uso. Por favor, elige otro."}};const{data:o,error:a}=await Ce.auth.signUp({email:e,password:t,options:{data:{username:r,email_confirmed:!0}}});if(a)return console.error("Error en registro:",a),{data:null,error:{message:a.message}};if(o.user){try{console.log("Llamando a función auto-signup para confirmar email automáticamente"),await Ce.functions.invoke("auto-signup",{body:{email:o.user.email,user_id:o.user.id}})}catch(c){console.error("Error al llamar función auto-signup:",c)}const{error:l}=await Ce.from("profiles").update({username:r,email:e}).eq("id",o.user.id);if(l)return console.error("Error al actualizar perfil:",l),{data:o,error:{message:`Cuenta creada pero hubo un error al guardar perfil: ${l.message}`}};sessionStorage.setItem("firstLogin","true"),console.log("Bandera de primer inicio de sesión establecida")}return{data:o,error:null}}catch(s){return console.error("Error en el registro de usuario:",s),{data:null,error:{message:s.message}}}},A$=async(e,t)=>{try{console.log("Iniciando sesión para:",e);const{data:r,error:n}=await Ce.auth.signInWithPassword({email:e,password:t});if(n){if(console.error("Error de autenticación:",n),n.message.includes("Email not confirmed")||n.message.includes("Email no confirmado")){console.log("Email no confirmado, invocando función auto-signup");try{const{data:s}=await Ce.auth.getUser();if(s!=null&&s.user){await Ce.functions.invoke("auto-signup",{body:{email:e,user_id:s.user.id}}),console.log("Reintentando inicio de sesión después de confirmar email");const i=await Ce.auth.signInWithPassword({email:e,password:t});if(!i.error)return console.log("Sesión iniciada después de confirmar email"),{data:i.data,error:null}}}catch(s){console.error("Error al confirmar email con función:",s)}}return{data:null,error:{message:n.message}}}return console.log("Inicio de sesión exitoso"),{data:r,error:null}}catch(r){return console.error("Error inesperado en inicio de sesión:",r),{data:null,error:{message:r.message}}}},$$=async()=>{try{const{error:e}=await Ce.auth.signOut();return e?{error:{message:e.message}}:{error:null}}catch(e){return{error:{message:e.message}}}},O$=async e=>{try{const{error:t}=await Ce.auth.resetPasswordForEmail(e);return t?{error:{message:t.message}}:{error:null}}catch(t){return{error:{message:t.message}}}},L$=async e=>(console.log("Funcionalidad de recuperación por correo deshabilitada"),{error:{message:"La recuperación de cuenta mediante correo de recuperación está temporalmente deshabilitada."},profile:null}),tr=()=>{const[e,t]=m.useState({session:null,user:null,loading:!0}),{toast:r}=_t();m.useEffect(()=>{console.log("Inicializando estado de autenticación...");const{data:{subscription:l}}=Ce.auth.onAuthStateChange((c,d)=>{console.log("Auth event:",c),c==="SIGNED_OUT"?(console.log("Usuario ha cerrado sesión"),t({session:null,user:null,loading:!1})):c==="SIGNED_IN"&&sessionStorage.getItem("firstLogin")==="true"?(console.log("Primera sesión después del registro - activando modo de creación de patrón"),t({session:d,user:(d==null?void 0:d.user)??null,loading:!1}),sessionStorage.setItem("firstLoginAfterConfirmation","true")):(console.log("Actualización del estado de autenticación:",c),t({session:d,user:(d==null?void 0:d.user)??null,loading:!1}))});return Ce.auth.getSession().then(({data:{session:c}})=>{console.log("Initial session check:",c?"Session found":"No session"),t({session:c,user:(c==null?void 0:c.user)??null,loading:!1})}),()=>l.unsubscribe()},[]);const n=async(l,c,d,f)=>{var p,b,v;console.log("Iniciando registro:",{email:l,username:d,recoveryEmail:f?"Provided":"Not provided"});const h=await R$(l,c,d);return h.error?(console.error("Error de registro:",h.error),r({variant:"destructive",title:"Error de registro",description:h.error.message})):(console.log("Registro exitoso:",(b=(p=h.data)==null?void 0:p.user)==null?void 0:b.id),r({title:"Registro exitoso",description:"Tu cuenta ha sido creada correctamente"}),sessionStorage.setItem("firstLogin","true"),(v=h.data)!=null&&v.user&&(console.log("Auto-iniciando sesión después del registro"),await s(l,c))),h},s=async(l,c)=>{var f,h;const d=await A$(l,c);return d.error?(console.error("Error de inicio de sesión:",d.error),d.error.message.includes("Email not confirmed")||d.error.message.includes("Email no confirmado")?(console.log("Email no confirmado, se intentará confirmar automáticamente"),r({variant:"destructive",title:"Email no confirmado",description:"Tu email no ha sido confirmado. Contacta al administrador."})):r({variant:"destructive",title:"Error de inicio de sesión",description:d.error.message})):(console.log("Inicio de sesión exitoso:",(h=(f=d.data)==null?void 0:f.user)==null?void 0:h.id),sessionStorage.getItem("firstLogin")==="true"&&console.log("Primera sesión detectada - se iniciará creación de patrón")),d};return{...e,signUp:n,signIn:s,signOut:async()=>{const l=await $$();return l.error?(console.error("Error al cerrar sesión:",l.error),r({variant:"destructive",title:"Error al cerrar sesión",description:l.error.message})):console.log("Sesión cerrada correctamente"),l},sendPasswordResetEmail:async l=>{const c=await O$(l);return c.error?(console.error("Error al enviar correo de restablecimiento de contraseña:",c.error),r({variant:"destructive",title:"Error",description:c.error.message})):(console.log("Correo de restablecimiento de contraseña enviado"),r({title:"Correo enviado",description:"Revisa tu bandeja de entrada para restablecer tu contraseña"})),c},recoverAccount:async l=>{var d;console.log("Iniciando recuperación de cuenta para:",l);const c=await L$();return c.error?(console.error("Error de recuperación:",c.error),r({variant:"destructive",title:"Error de recuperación",description:c.error.message})):(console.log("Recuperación iniciada para perfil:",(d=c.profile)==null?void 0:d.id),r({title:"Correo enviado",description:"Revisa tu bandeja de entrada para restablecer tu acceso"})),c}}},ad=({onPatternComplete:e,isCreationMode:t=!1})=>{const[r,n]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState(null),[l,c]=m.useState(!1),[d,f]=m.useState(0),[h,p]=m.useState(!1),[b,v]=m.useState(null),[x,g]=m.useState(!1),[y,w]=m.useState(!1),[_,S]=m.useState(""),[E,j]=m.useState(!1),C=m.useRef(null),P=m.useRef(null),{toast:M}=_t(),{user:F}=tr(),R=(F==null?void 0:F.email)||"usuario@ejemplo.com";m.useEffect(()=>{if(C.current){const Z=C.current.clientWidth;C.current.clientHeight;const q=Z*.15,ie=(Z-q*2)/2,we=[{id:1,x:q,y:q,selected:!1},{id:2,x:q+ie,y:q,selected:!1},{id:3,x:q+ie*2,y:q,selected:!1},{id:4,x:q,y:q+ie,selected:!1},{id:5,x:q+ie,y:q+ie,selected:!1},{id:6,x:q+ie*2,y:q+ie,selected:!1},{id:7,x:q,y:q+ie*2,selected:!1},{id:8,x:q+ie,y:q+ie*2,selected:!1},{id:9,x:q+ie*2,y:q+ie*2,selected:!1}];n(we)}},[]),m.useEffect(()=>{if(h&&b){const Z=setInterval(()=>{const q=new Date;if(q>=b)p(!1),v(null),clearInterval(Z);else{const ie=Math.floor((b.getTime()-q.getTime())/1e3),we=Math.floor(ie/60),Ge=ie%60;S(`${we}:${Ge<10?"0":""}${Ge}`)}},1e3);return()=>clearInterval(Z)}},[h,b]);const D=Z=>{s.includes(Z)||h||E||(c(!0),a(Z),i([...s,Z]),n(q=>q.map(ie=>ie.id===Z?{...ie,selected:!0}:ie)))},L=Z=>{D(Z)},W=Z=>{D(Z)},Y=Z=>{if(!l||!C.current||h||E)return;const q=C.current.getBoundingClientRect(),ie=Z.touches[0],we=ie.clientX-q.left,Ge=ie.clientY-q.top;T(we,Ge),I(we,Ge)},te=Z=>{if(!l||!C.current||h||E)return;const q=C.current.getBoundingClientRect(),ie=Z.clientX-q.left,we=Z.clientY-q.top;T(ie,we),I(ie,we)},T=(Z,q)=>{r.forEach(ie=>{Math.sqrt(Math.pow(Z-ie.x,2)+Math.pow(q-ie.y,2))<20&&!s.includes(ie.id)&&D(ie.id)})},I=(Z,q)=>{if(P.current&&o!==null){const ie=r.find(we=>we.id===o);ie&&oe(ie.x,ie.y,Z,q)}},H=async()=>{if(F)try{await Mt.savePattern(F.id,[1,2,3,4]),M({title:"Patrón restablecido",description:"Se ha enviado un correo con instrucciones para restablecer tu patrón",variant:"default"})}catch{M({variant:"destructive",title:"Error",description:"No se pudo restablecer el patrón"})}else M({title:"Código de recuperación enviado",description:`Se ha enviado un código a ${R}`,variant:"default"});w(!1)},ae=async()=>{if(h||E){console.log("🔒 Pattern processing skipped - locked or already processing");return}if(s.length>=4){let Z=!1;try{if(console.log("🔑 Processing pattern submission:",s),j(!0),t)console.log("🔑 Creation mode - calling onPatternComplete"),Z=await Promise.resolve(e(s)),console.log("🔑 Pattern creation result:",Z);else if(F){if(console.log("🔑 Verifying pattern for user:",F.id),Z=await Mt.verifyPattern(F.id,s),console.log("🔑 Pattern verification result:",Z),Z){console.log("🔑 Pattern correct, calling onPatternComplete for transition");try{const q=await Promise.resolve(e(s));console.log("🔑 Transition result from onPatternComplete:",q),q||(console.error("Pattern was correct but transition failed"),M({variant:"destructive",title:"Error de transición",description:"El patrón es correcto pero hubo un error al acceder al chat"}))}catch(q){console.error("Error during transition:",q)}}}else console.log("🔑 No user found, calling onPatternComplete directly"),Z=await Promise.resolve(e(s)),console.log("🔑 Pattern completion result:",Z);if(Z)console.log("🔑 Pattern correct, resetting attempts"),f(0);else{const q=d+1;if(f(q),q>=3&&!t)if(q>=6)w(!0);else{const ie=new Date;ie.setMinutes(ie.getMinutes()+5),v(ie),p(!0),g(!0)}M({variant:"destructive",title:"Patrón incorrecto",description:"Por favor, inténtalo de nuevo"})}}catch(q){console.error("Error during pattern verification:",q),M({variant:"destructive",title:"Error de verificación",description:"Ha ocurrido un error al verificar el patrón"})}finally{console.log("🔑 Pattern processing complete"),setTimeout(()=>{j(!1)},500)}}else s.length>0&&M({variant:"destructive",title:"Patrón demasiado corto",description:"Por favor, conecta al menos 4 puntos"});setTimeout(()=>{c(!1),a(null),i([]),n(Z=>Z.map(q=>({...q,selected:!1}))),P.current&&(P.current.innerHTML="")},500)},se=()=>{ae()},re=()=>{ae()},oe=(Z,q,ie,we)=>{if(!P.current)return;const Ge=P.current.querySelector(".temp-line");Ge&&Ge.remove();const pt=Math.sqrt(Math.pow(ie-Z,2)+Math.pow(we-q,2)),nt=Math.atan2(we-q,ie-Z)*(180/Math.PI),Ke=document.createElement("div");Ke.className="pattern-line temp-line",Ke.style.width=`${pt}px`,Ke.style.transform=`rotate(${nt}deg)`,Ke.style.left=`${Z}px`,Ke.style.top=`${q}px`,P.current.appendChild(Ke)},be=(Z,q)=>{if(!P.current)return;const ie=r.find(Ke=>Ke.id===Z),we=r.find(Ke=>Ke.id===q);if(!ie||!we)return;const Ge=Math.sqrt(Math.pow(we.x-ie.x,2)+Math.pow(we.y-ie.y,2)),pt=Math.atan2(we.y-ie.y,we.x-ie.x)*(180/Math.PI),nt=document.createElement("div");nt.className="pattern-line",nt.style.width=`${Ge}px`,nt.style.transform=`rotate(${pt}deg)`,nt.style.left=`${ie.x}px`,nt.style.top=`${ie.y}px`,P.current.appendChild(nt)};return m.useEffect(()=>{if(P.current){P.current.innerHTML="";for(let Z=0;Z<s.length-1;Z++)be(s[Z],s[Z+1])}},[s]),u.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gray-100",children:[u.jsx("h2",{className:"text-xl font-medium mb-4",children:t?"Crear patrón":"Desbloquear App"}),!t&&h&&u.jsx(Yr,{className:"mb-4 max-w-md",children:u.jsxs(Jr,{children:["La entrada está bloqueada por demasiados intentos fallidos. Tiempo restante: ",_]})}),t&&u.jsx(Yr,{className:"mb-4 max-w-md",children:u.jsx(Jr,{children:"Dibuja un patrón conectando al menos 4 puntos en la pantalla. Asegúrate de que sea un patrón que puedas recordar fácilmente."})}),u.jsxs("div",{ref:C,className:`relative w-[280px] h-[280px] touch-none cursor-pointer ${h||E?"opacity-50 pointer-events-none":""}`,onTouchMove:Y,onTouchEnd:se,onMouseMove:te,onMouseUp:re,onMouseLeave:re,children:[u.jsx("div",{ref:P,className:"absolute inset-0 pointer-events-none"}),r.map(Z=>u.jsx("div",{className:`pattern-point absolute transition-all ${Z.selected?"selected":""}`,style:{left:Z.x-8,top:Z.y-8},onTouchStart:()=>W(Z.id),onMouseDown:()=>L(Z.id)},Z.id))]}),u.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:t?"Dibuja tu patrón conectando al menos 4 puntos":"Dibuja tu patrón para acceder"}),u.jsx(ru,{open:x,onOpenChange:g,children:u.jsxs(Qa,{children:[u.jsxs(Ya,{children:[u.jsx(Ja,{children:"Cuenta temporalmente bloqueada"}),u.jsx(nu,{children:"Has excedido el número máximo de intentos fallidos. Por seguridad, la autenticación se ha bloqueado durante 5 minutos."})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx(ye,{onClick:()=>g(!1),children:"Entendido"})})]})}),u.jsx(ru,{open:y,onOpenChange:w,children:u.jsxs(Qa,{children:[u.jsxs(Ya,{children:[u.jsx(Ja,{children:"Envío de patrón de recuperación"}),u.jsxs(nu,{children:["Has excedido el número máximo de intentos permitidos. Enviaremos un código de recuperación a tu correo electrónico registrado:",u.jsx("p",{className:"font-medium mt-2",children:R})]})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(ye,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),u.jsx(ye,{onClick:H,children:"Enviar código"})]})]})})]})},dy="en-US",a1=m.createContext(void 0),qs={"es-ES":{welcome:"Bienvenido a dScrt",app_description:"La aplicación para comunicaciones discretas",pending_requests:"Solicitudes pendientes",no_pending_requests:"No tienes solicitudes pendientes",requests_expire:"Las solicitudes caducan automáticamente después de 24 horas si no son respondidas.",accept:"Aceptar",reject:"Rechazar",block:"Bloquear",new_message:"Nuevo mensaje",continue:"Continuar",back:"Atrás",save:"Guardar",phone_number:"Número de teléfono",contact_name:"Nombre de contacto",phone_placeholder:"Introduce el número",name_placeholder:"Introduce un nombre",no_conversations:"No tienes conversaciones",share_username:"Comparte tu nombre de usuario con personas de confianza para iniciar conversaciones",click_scan:"Haga clic para escanear un documento",tap_scan:"Pulse para escanear",scanning:"Escaneando...",scan_now:"Escanear ahora",supported_formats:"Formatos soportados: PDF, JPG, PNG",browse_files:"Explorar archivos",empty:"Vacío",media_privacy_notice:"Para garantizar tu privacidad y seguridad, dScrt no accede a tus fotos, vídeos o archivos de audio existentes en tu dispositivo. Cuando eliges enviar contenido multimedia (imagen, audio o vídeo) a través de dScrt, lo crearás directamente dentro de la aplicación usando tu cámara o micrófono. Esto te permite controlar exactamente lo que compartes. Este mensaje solo aparecerá la primera vez que utilices estas funciones.",understand:"Entendido"},"en-US":{welcome:"Welcome to dScrt",app_description:"The app for discreet communications",pending_requests:"Pending requests",no_pending_requests:"You have no pending requests",requests_expire:"Requests automatically expire after 24 hours if not answered.",accept:"Accept",reject:"Reject",block:"Block",new_message:"New message",continue:"Continue",back:"Back",save:"Save",phone_number:"Phone number",contact_name:"Contact name",phone_placeholder:"Enter the number",name_placeholder:"Enter a name",no_conversations:"You have no conversations",share_username:"Share your username with trusted people to start conversations",click_scan:"Click to scan a document",tap_scan:"Tap to scan",scanning:"Scanning...",scan_now:"Scan now",supported_formats:"Supported formats: PDF, JPG, PNG",browse_files:"Browse files",empty:"Empty",media_privacy_notice:"To ensure your privacy and security, dScrt does not access your existing photos, videos, or audio files on your device. When you choose to send media (image, audio, or video) through dScrt, you'll create it directly within the app using your camera or microphone. This allows you to control exactly what you share. This message will only appear the first time you use these features.",understand:"I understand"},"en-GB":{welcome:"Welcome to dScrt",app_description:"The app for discreet communications",pending_requests:"Pending requests",no_pending_requests:"You have no pending requests",requests_expire:"Requests automatically expire after 24 hours if not answered.",accept:"Accept",reject:"Reject",block:"Block",new_message:"New message",continue:"Continue",back:"Back",save:"Save",phone_number:"Phone number",contact_name:"Contact name",phone_placeholder:"Enter the number",name_placeholder:"Enter a name",no_conversations:"You have no conversations",share_username:"Share your username with trusted people to start conversations",click_scan:"Click to scan a document",tap_scan:"Tap to scan",scanning:"Scanning...",scan_now:"Scan now",supported_formats:"Supported formats: PDF, JPG, PNG",browse_files:"Browse files",empty:"Empty",media_privacy_notice:"To ensure your privacy and security, dScrt does not access your existing photos, videos, or audio files on your device. When you choose to send media (image, audio, or video) through dScrt, you'll create it directly within the app using your camera or microphone. This allows you to control exactly what you share. This message will only appear the first time you use these features.",understand:"I understand"},fr:{},it:{},de:{},"es-419":{},"es-MX":{},nl:{},fi:{},ar:{},zh:{},hi:{}};for(const e in qs)e!=="es-ES"&&e!=="en-US"&&e!=="en-GB"&&(qs[e]={...qs["en-US"]});const I$=({children:e})=>{const[t,r]=m.useState(dy);m.useEffect(()=>{(()=>{const a=navigator.language;if(a in qs)r(a);else{const l=a.split("-")[0],c=Object.keys(qs).find(d=>d.startsWith(l));r(c||"en-US")}})()},[]);const i={language:t,setLanguage:o=>{r(o),localStorage.setItem("dscrt-language",o)},t:o=>(qs[t]||qs[dy])[o]||o};return u.jsx(a1.Provider,{value:i,children:e})},fr=()=>{const e=m.useContext(a1);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e};/*! Capacitor: https://capacitorjs.com/ - MIT License */var yo;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(yo||(yo={}));class Zi extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const M$=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},D$=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},s=()=>t!==null?t.name:M$(e),i=()=>s()!=="web",o=f=>{const h=c.get(f);return!!(h!=null&&h.platforms.has(s())||a(f))},a=f=>{var h;return(h=r.PluginHeaders)===null||h===void 0?void 0:h.find(p=>p.name===f)},l=f=>e.console.error(f),c=new Map,d=(f,h={})=>{const p=c.get(f);if(p)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),p.proxy;const b=s(),v=a(f);let x;const g=async()=>(!x&&b in h?x=typeof h[b]=="function"?x=await h[b]():x=h[b]:t!==null&&!x&&"web"in h&&(x=typeof h.web=="function"?x=await h.web():x=h.web),x),y=(C,P)=>{var M,F;if(v){const R=v==null?void 0:v.methods.find(D=>P===D.name);if(R)return R.rtype==="promise"?D=>r.nativePromise(f,P.toString(),D):(D,L)=>r.nativeCallback(f,P.toString(),D,L);if(C)return(M=C[P])===null||M===void 0?void 0:M.bind(C)}else{if(C)return(F=C[P])===null||F===void 0?void 0:F.bind(C);throw new Zi(`"${f}" plugin is not implemented on ${b}`,yo.Unimplemented)}},w=C=>{let P;const M=(...F)=>{const R=g().then(D=>{const L=y(D,C);if(L){const W=L(...F);return P=W==null?void 0:W.remove,W}else throw new Zi(`"${f}.${C}()" is not implemented on ${b}`,yo.Unimplemented)});return C==="addListener"&&(R.remove=async()=>P()),R};return M.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:C,writable:!1,configurable:!1}),M},_=w("addListener"),S=w("removeListener"),E=(C,P)=>{const M=_({eventName:C},P),F=async()=>{const D=await M;S({eventName:C,callbackId:D},P)},R=new Promise(D=>M.then(()=>D({remove:F})));return R.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await F()},R},j=new Proxy({},{get(C,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?E:_;case"removeListener":return S;default:return w(P)}}});return n[f]=j,c.set(f,{name:f,proxy:j,platforms:new Set([...Object.keys(h),...v?[b]:[]])}),j};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=s,r.handleError=l,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=d,r.Exception=Zi,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},F$=e=>e.Capacitor=D$(e),Xr=F$(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ld=Xr.registerPlugin;class Em{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const s=this.listeners[t];if(!s){if(n){let i=this.retainedEventArguments[t];i||(i=[]),i.push(r),this.retainedEventArguments[t]=i}return}s.forEach(i=>i(r))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new Xr.Exception(t,yo.Unimplemented)}unavailable(t="not available"){return new Xr.Exception(t,yo.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const s=n.indexOf(r);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const fy=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),hy=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class U$ extends Em{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=hy(s).trim(),i=hy(i).trim(),r[s]=i}),r}async setCookie(t){try{const r=fy(t.key),n=fy(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}ld("CapacitorCookies",{web:()=>new U$});const z$=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(e)}),V$=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=e[t[o]],s),{})},B$=(e,t=!0)=>e?Object.entries(e).reduce((n,s)=>{const[i,o]=s;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=t?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=t?encodeURIComponent(o):o,l=`${i}=${a}`),`${n}&${l}`},"").substr(1):null,q$=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),s=V$(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(e.data||{}))i.set(o,a);r.body=i.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(e.data))i.append(a,e.data[a]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class W$ extends Em{async request(t){const r=q$(t,t.webFetchExtra),n=B$(t.params,t.shouldEncodeUrlParams),s=n?`${t.url}?${n}`:t.url,i=await fetch(s,r),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?t:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await z$(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const d={};return i.headers.forEach((f,h)=>{d[h]=f}),{data:l,headers:d,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}ld("CapacitorHttp",{web:()=>new W$});const H$=({username:e,contacts:t,onSelectContact:r,onNewChat:n,onShowRequests:s,onShowDirectory:i,hasPendingRequests:o,onBack:a})=>{const{t:l}=fr(),{toast:c}=_t();tr();const d=()=>{navigator.clipboard.writeText(e),c({title:"Username copiado",description:"Nombre de usuario copiado al portapapeles"})};return u.jsxs("div",{className:"flex flex-col h-full bg-messenger-background",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:a,className:"mr-3 p-2 rounded-full hover:bg-gray-200 transition-colors","aria-label":"Cerrar sesión",children:u.jsx(VC,{size:20})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-bold",children:"dScrt"}),u.jsxs("div",{className:"flex items-center",children:[u.jsxs("p",{className:"text-xs text-gray-500 mr-2",children:["@",e]}),u.jsx("button",{onClick:d,className:"text-xs text-blue-500",children:"Copiar"})]})]})]}),u.jsxs("div",{className:"flex",children:[u.jsxs("button",{onClick:s,className:"p-2 mr-2 rounded-full hover:bg-gray-200 transition-colors relative",children:[u.jsx(IC,{size:20}),o&&u.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:"!"})]}),u.jsx("button",{onClick:i,className:"p-2 mr-2 rounded-full hover:bg-gray-200 transition-colors",children:u.jsx(MC,{size:20})}),u.jsx("button",{onClick:n,className:"p-2 rounded-full bg-messenger-primary text-white hover:bg-messenger-secondary transition-colors",children:u.jsx(Kx,{size:20})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-6",children:[u.jsx(ZC,{size:48,className:"mb-4 text-gray-400"}),u.jsx("p",{className:"text-center",children:l("no_conversations")}),u.jsx("p",{className:"text-sm text-center text-gray-400 mt-2",children:l("share_username")}),u.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-messenger-primary text-white rounded-lg hover:bg-messenger-secondary transition-colors",children:l("new_message")})]}):t.map(f=>u.jsxs("div",{onClick:()=>r(f.id),className:"flex items-center p-4 hover:bg-gray-100 cursor-pointer border-b",children:[u.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-300 flex items-center justify-center text-lg font-medium mr-3",children:f.name.charAt(0)}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"font-medium",children:f.name}),u.jsx("span",{className:"text-xs text-gray-500",children:f.timestamp})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-500 truncate max-w-[200px]",children:f.lastMessage}),f.unread&&u.jsx("div",{className:"h-5 w-5 rounded-full bg-messenger-primary flex items-center justify-center text-xs text-white",children:"!"})]})]})]},f.id))})]})},G$=({contactName:e,contactId:t,onBack:r,onOpenContactSettings:n,onOpenContactLock:s,hasCustomLock:i=!1})=>{const{t:o}=fr();return u.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-white",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:r,className:"mr-3 p-2 rounded-full hover:bg-gray-200 transition-colors","aria-label":o("back"),children:u.jsx(ul,{size:20})}),u.jsx("div",{children:u.jsx("h2",{className:"font-medium",children:e})})]}),u.jsxs("div",{className:"flex space-x-1",children:[s&&u.jsx("button",{onClick:()=>s(t),className:`p-2 rounded-full ${i?"text-messenger-primary":"text-gray-500"} hover:bg-gray-100`,title:o("contactLock.title")||"Patrón de desbloqueo",children:u.jsx(zC,{size:20})}),n&&u.jsx("button",{onClick:()=>n(t),className:"p-2 rounded-full text-gray-500 hover:bg-gray-100",title:o("contactSettings.title")||"Ajustes de contacto",children:u.jsx(po,{size:20})})]})]})},K$=({message:e})=>{const t=n=>{if(!n)return null;switch(n){case"sent":return u.jsx(Fs,{size:14,className:"text-gray-400"});case"delivered":return u.jsxs("div",{className:"flex",children:[u.jsx(Fs,{size:14,className:"text-gray-400"}),u.jsx(Fs,{size:14,className:"text-gray-400 -ml-1"})]});case"read":return u.jsxs("div",{className:"flex",children:[u.jsx(Fs,{size:14,className:"text-blue-500"}),u.jsx(Fs,{size:14,className:"text-blue-500 -ml-1"})]});default:return null}},r=n=>{const s=Math.floor(n/60),i=n%60;return`${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`};return u.jsx("div",{className:`flex mb-3 ${e.sent?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[80%] rounded-lg px-3 py-2 ${e.sent?"bg-messenger-primary text-white rounded-tr-none":"bg-white text-gray-800 rounded-tl-none"}`,children:[e.type==="image"&&e.mediaUrl&&u.jsx("div",{className:"mb-1",children:u.jsx("img",{src:e.mediaUrl,alt:"Imagen compartida",className:"rounded-md max-h-48 w-auto",onError:n=>{const s=n.target;s.src="placeholder.svg"}})}),e.type==="video"&&e.mediaUrl&&u.jsx("div",{className:"mb-1",children:u.jsx("video",{src:e.mediaUrl,controls:!0,className:"rounded-md max-h-48 w-auto",onError:n=>{console.error("Error loading video:",n)},children:"Tu navegador no soporta videos."})}),e.type==="audio"&&u.jsxs("div",{className:"flex items-center mb-1 bg-black/5 rounded-full px-3 py-2",children:[u.jsx("div",{className:"w-32 h-4 mx-2 bg-black/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full w-2/3 bg-black/20 rounded-full"})}),u.jsx("span",{className:"text-xs",children:e.duration?r(e.duration):"00:15"})]}),u.jsx("div",{children:e.text}),u.jsxs("div",{className:"text-xs mt-1 flex items-center justify-end space-x-1",children:[u.jsx("span",{className:e.sent?"text-white/70":"text-gray-500",children:e.timestamp}),e.sent&&t(e.status)]})]})})},Z$=({messages:e})=>{const t=m.useRef(null);return m.useEffect(()=>{var r;(r=t.current)==null||r.scrollIntoView({behavior:"smooth"})},[e]),u.jsxs("div",{className:"flex-1 p-4 overflow-y-auto bg-messenger-background",children:[e.map(r=>u.jsx(K$,{message:r},r.id)),u.jsx("div",{ref:t})]})},py=[{name:"Smileys",emojis:["😀","😃","😄","😁","😆","😅","🤣","😂","🙂","🙃","😉","😊","😇","😍","🥰","😘"]},{name:"Gestures",emojis:["👍","👎","👌","👋","🤝","👏","🙌","🙏","🤲","👐","🤟","🤘","👉","👈","👆","👇"]},{name:"Animals",emojis:["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐨","🐯","🦁","🐮","🐷","🐸","🐵","🐔"]},{name:"Food",emojis:["🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🥑"]},{name:"Travel",emojis:["🚗","✈️","🚢","🚂","🚲","⛵","🛴","🏍️","🚁","🚀","🛸","🏝️","🗻","🏙️","🌋","🏠"]}],Q$=({onSelectEmoji:e,onClose:t})=>{const{t:r}=fr(),[n,s]=$.useState(0);return u.jsxs("div",{className:"absolute bottom-16 left-0 right-0 bg-white border shadow-lg rounded-t-lg z-10 animate-slide-up",children:[u.jsxs("div",{className:"flex items-center justify-between border-b p-2",children:[u.jsx("h3",{className:"text-sm font-medium",children:r("emoji.title")||"Emojis"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 p-1",children:"✕"})]}),u.jsx("div",{className:"max-h-64 overflow-y-auto p-2",children:u.jsx("div",{className:"grid grid-cols-8 gap-2",children:py[n].emojis.map((i,o)=>u.jsx("button",{onClick:()=>e(i),className:"text-2xl hover:bg-gray-100 p-2 rounded-lg",children:i},o))})}),u.jsx("div",{className:"flex justify-between bg-gray-50 p-2 border-t",children:py.map((i,o)=>u.jsx("button",{onClick:()=>s(o),className:`p-2 rounded-full ${n===o?"bg-messenger-primary text-white":"text-gray-500"}`,title:i.name,children:i.emojis[0]},o))})]})},vl=({children:e,onClose:t,className:r="",variant:n="default"})=>u.jsx(Yr,{className:`shadow-lg ${r}`,variant:n,children:u.jsxs(Jr,{className:"flex justify-between items-center",children:[u.jsx("span",{children:e}),u.jsxs("button",{onClick:t,className:"ml-2 text-sm font-medium underline flex items-center","aria-label":"Cerrar",children:[u.jsx(Sn,{size:16,className:"mr-1"})," Cerrar"]})]})});var is;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(is||(is={}));var ba;(function(e){e.Rear="REAR",e.Front="FRONT"})(ba||(ba={}));var su;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(su||(su={}));class Y$ extends Em{async getPhoto(t){return new Promise(async(r,n)=>{if(t.webUseInput||t.source===is.Photos)this.fileInputExperience(t,r,n);else if(t.source===is.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=t.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",async i=>{i.detail===0?this.fileInputExperience(t,r,n):this.cameraExperience(t,r,n)})}else this.cameraExperience(t,r,n)})}async pickImages(t){return new Promise(async(r,n)=>{this.multipleFileInputExperience(r,n)})}async cameraExperience(t,r,n){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=t.direction===ba.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async i=>{const o=i.detail;o===null?n(new Zi("User cancelled photos app")):o instanceof Error?n(o):r(await this._getCameraPhoto(o,t)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch{this.fileInputExperience(t,r,n)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,r,n)}fileInputExperience(t,r,n){let s=document.querySelector("#_capacitor-camera-input");const i=()=>{var o;(o=s.parentNode)===null||o===void 0||o.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",o=>{const a=s.files[0];let l="jpeg";if(a.type==="image/png"?l="png":a.type==="image/gif"&&(l="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const c=new FileReader;c.addEventListener("load",()=>{if(t.resultType==="dataUrl")r({dataUrl:c.result,format:l});else if(t.resultType==="base64"){const d=c.result.split(",")[1];r({base64String:d,format:l})}i()}),c.readAsDataURL(a)}else r({webPath:URL.createObjectURL(a),format:l}),i()}),s.addEventListener("cancel",o=>{n(new Zi("User cancelled photos app")),i()})),s.accept="image/*",s.capture=!0,t.source===is.Photos||t.source===is.Prompt?s.removeAttribute("capture"):t.direction===ba.Front?s.capture="user":t.direction===ba.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(t,r){let n=document.querySelector("#_capacitor-camera-input-multiple");const s=()=>{var i;(i=n.parentNode)===null||i===void 0||i.removeChild(n)};n||(n=document.createElement("input"),n.id="_capacitor-camera-input-multiple",n.type="file",n.hidden=!0,n.multiple=!0,document.body.appendChild(n),n.addEventListener("change",i=>{const o=[];for(let a=0;a<n.files.length;a++){const l=n.files[a];let c="jpeg";l.type==="image/png"?c="png":l.type==="image/gif"&&(c="gif"),o.push({webPath:URL.createObjectURL(l),format:c})}t({photos:o}),s()}),n.addEventListener("cancel",i=>{r(new Zi("User cancelled photos app")),s()})),n.accept="image/*",n.click()}_getCameraPhoto(t,r){return new Promise((n,s)=>{const i=new FileReader,o=t.type.split("/")[1];r.resultType==="uri"?n({webPath:URL.createObjectURL(t),format:o,saved:!1}):(i.readAsDataURL(t),i.onloadend=()=>{const a=i.result;r.resultType==="dataUrl"?n({dataUrl:a,format:o,saved:!1}):n({base64String:a.split(",")[1],format:o,saved:!1})},i.onerror=a=>{s(a)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const Lo=ld("Camera",{web:()=>new Y$}),Ws=()=>Xr.isNativePlatform(),Cm=async()=>{try{if(!Ws())return console.log("Not on native platform, assuming we have permissions"),!0;const e=await Lo.checkPermissions();return console.log("Camera permissions status:",e),e.camera==="granted"}catch(e){return console.error("Error checking camera permissions:",e),!1}},J$=async()=>{try{if(!Ws())return console.log("Not on native platform, assuming we have permissions"),!0;const e=await Lo.requestPermissions();return console.log("Camera permissions after request:",e),e.camera==="granted"}catch(e){return console.error("Error requesting camera permissions:",e),!1}},cd=({onRequestComplete:e,permissionType:t})=>{const[r,n]=m.useState(!1),[s,i]=m.useState(null),[o,a]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const f=await Cm();console.log("¿Tiene permisos ya concedidos?",f),f&&(console.log("Ya tenemos permisos, completando solicitud..."),setTimeout(()=>{e(!0)},500))}catch(f){console.error("Error al verificar permisos existentes:",f)}})()},[e]);const l=async()=>{n(!0),i(null),console.log("Botón de solicitud de permisos presionado");try{await new Promise(f=>setTimeout(f,500));let d=!1;if(t==="camera"||t==="both")d=await J$();else if(t==="microphone")try{const f=await navigator.mediaDevices.getUserMedia({audio:!0});f&&(f.getTracks().forEach(h=>h.stop()),d=!0)}catch(f){console.error("Error al solicitar permisos de micrófono:",f)}console.log("Resultado de solicitud de permisos:",d),setTimeout(()=>{d?e(!0):(i("No se pudieron obtener los permisos necesarios. Por favor, inténtalo de nuevo o verifica la configuración de tu dispositivo."),a(!0)),n(!1)},1e3)}catch(d){console.error("Error al solicitar permisos:",d),i(`Error: ${d instanceof Error?d.message:"Error desconocido"}`),n(!1),a(!0)}},c=()=>{e(!1)};return u.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:u.jsx(Zx,{className:"h-6 w-6 text-blue-500"})})}),u.jsx("h2",{className:"text-xl font-semibold text-center mb-4",children:"Permisos necesarios"}),u.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["Esta aplicación necesita acceso a ",t==="camera"?"tu cámara":t==="microphone"?"tu micrófono":"tu cámara y micrófono"," para funcionar correctamente."]}),u.jsxs("div",{className:"space-y-4 mb-6",children:[(t==="camera"||t==="both")&&u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"bg-gray-100 p-2 rounded-full mr-3",children:u.jsx(rm,{className:"h-5 w-5 text-gray-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Cámara"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Para enviar fotos y videos"})]})]}),(t==="microphone"||t==="both")&&u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"bg-gray-100 p-2 rounded-full mr-3",children:u.jsx(Gx,{className:"h-5 w-5 text-gray-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Micrófono"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Para enviar mensajes de audio y videos con sonido"})]})]})]}),s&&u.jsx(vl,{variant:"destructive",onClose:()=>i(null),className:"mb-4",children:s}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[r?u.jsx(ye,{disabled:!0,className:"w-full",children:"Solicitando permisos..."}):u.jsx(ye,{onClick:l,className:"w-full",children:o?"Intentar de nuevo":"Conceder permisos"}),u.jsx(ye,{variant:"outline",onClick:c,className:"w-full",children:"Cancelar"})]})]})})};function X$(){if(typeof process>"u"){var e=typeof window<"u"?window:{},t=5e3,r=Date.now(),n=!1;e.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-r)+" ms"),n=!0}),setTimeout(function(){!n&&e.cordova&&console.warn("Ionic Native: deviceready did not fire within "+t+"ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},t)}}function vn(e){return typeof e=="function"}function eO(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var xf=eO(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function my(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var jm=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,s,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=iy(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(v){t={error:v}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}else o.remove(this);var d=this.initialTeardown;if(vn(d))try{d()}catch(v){i=v instanceof xf?v.errors:[v]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=iy(f),p=h.next();!p.done;p=h.next()){var b=p.value;try{gy(b)}catch(v){i=i??[],v instanceof xf?i=eu(eu([],zh(i)),zh(v.errors)):i.push(v)}}}catch(v){n={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(n)throw n.error}}}if(i)throw new xf(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)gy(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&my(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&my(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();jm.EMPTY;function l1(e){return e instanceof jm||e&&"closed"in e&&vn(e.remove)&&vn(e.add)&&vn(e.unsubscribe)}function gy(e){vn(e)?e():e.unsubscribe()}var tO={Promise:void 0},rO={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,eu([e,t],zh(r)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function nO(e){rO.setTimeout(function(){throw e})}function vy(){}function sO(e){e()}var c1=function(e){T_(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,l1(r)&&r.add(n)):n.destination=aO,n}return t.create=function(r,n,s){return new Bh(r,n,s)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(jm),iO=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){ec(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){ec(n)}else ec(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){ec(r)}},e}(),Bh=function(e){T_(t,e);function t(r,n,s){var i=e.call(this)||this,o;return vn(r)||!r?o={next:r??void 0,error:n??void 0,complete:s??void 0}:o=r,i.destination=new iO(o),i}return t}(c1);function ec(e){nO(e)}function oO(e){throw e}var aO={closed:!0,next:vy,error:oO,complete:vy},lO=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function cO(e){return e}function uO(e){return e.length===0?cO:e.length===1?e[0]:function(r){return e.reduce(function(n,s){return s(n)},r)}}var bc=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var s=this,i=fO(t)?t:new Bh(t,r,n);return sO(function(){var o=s,a=o.operator,l=o.source;i.add(a?a.call(i,l):l?s._subscribe(i):s._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=yy(r),new r(function(s,i){var o=new Bh({next:function(a){try{t(a)}catch(l){i(l),o.unsubscribe()}},error:i,complete:s});n.subscribe(o)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[lO]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return uO(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=yy(t),new t(function(n,s){var i;r.subscribe(function(o){return i=o},function(o){return s(o)},function(){return n(i)})})},e.create=function(t){return new e(t)},e}();function yy(e){var t;return(t=e??tO.Promise)!==null&&t!==void 0?t:Promise}function dO(e){return e&&vn(e.next)&&vn(e.error)&&vn(e.complete)}function fO(e){return e&&e instanceof c1||dO(e)&&l1(e)}var hO={error:"cordova_not_available"},pO={error:"plugin_not_installed"};function wy(e){var t=function(){if(Promise)return new Promise(function(i,o){e(i,o)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")};if(typeof window<"u"&&window.angular){var r=window.document,n=window.angular.element(r.querySelector("[ng-app]")||r.body).injector();if(n){var s=n.get("$q");return s(function(i,o){e(i,o)})}console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return t()}function u1(e,t,r){var n,s;typeof e=="string"?n=e:(n=e.constructor.getPluginRef(),r=e.constructor.getPluginName(),s=e.constructor.getPluginInstallName());var i=vO(n);return!i||t&&typeof i[t]>"u"?typeof window>"u"||!window.cordova?(xO(r,t),hO):(wO(r,s,t),pO):!0}function mO(e,t){return e._objectInstance&&(!t||typeof e._objectInstance[t]<"u")}function gO(e,t,r,n){if(t===void 0&&(t={}),t.sync)return e;if(t.callbackOrder==="reverse")e.unshift(n),e.unshift(r);else if(t.callbackStyle==="node")e.push(function(a,l){a?n(a):r(l)});else if(t.callbackStyle==="object"&&t.successName&&t.errorName){var s={};s[t.successName]=r,s[t.errorName]=n,e.push(s)}else if(typeof t.successIndex<"u"||typeof t.errorIndex<"u"){var i=function(){t.successIndex>e.length?e[t.successIndex]=r:e.splice(t.successIndex,0,r)},o=function(){t.errorIndex>e.length?e[t.errorIndex]=n:e.splice(t.errorIndex,0,n)};t.successIndex>t.errorIndex?(o(),i()):(i(),o())}else e.push(r),e.push(n);return e}function sn(e,t,r,n,s,i){if(n===void 0&&(n={}),r=gO(r,n,s,i),mO(e,t))return e._objectInstance[t].apply(e._objectInstance,r)}function vO(e){return typeof window<"u"?yO(window,e):null}function yO(e,t){for(var r=t.split("."),n=e,s=0;s<r.length;s++){if(!n)return null;n=n[r[s]]}return n}function wO(e,t,r){console.warn(r?"Native: tried calling "+e+"."+r+", but the "+e+" plugin is not installed.":"Native: tried accessing the "+e+" plugin but it's not installed."),t&&console.warn("Install the "+e+" plugin: 'ionic cordova plugin add "+t+"'")}function xO(e,t){typeof process>"u"&&console.warn(t?"Native: tried calling "+e+"."+t+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+e+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}function bO(e,t,r){return r===void 0&&(r={}),function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(r.sync)return sn(e,t,n,r);if(r.observable)return new bc(function(l){var c;return r.destruct?c=sn(e,t,n,r,function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return l.next(d)},function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return l.error(d)}):c=sn(e,t,n,r,l.next.bind(l),l.error.bind(l)),c&&c.error&&l.error(c.error),function(){try{return r.clearWithArgs?sn(e,r.clearFunction,n,r,l.next.bind(l),l.error.bind(l)):sn(e,r.clearFunction,[])}catch(d){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),t),console.warn(d)}}});if(r.otherPromise)return wy(function(l,c){var d;r.destruct?d=sn(e,t,n,r,function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];return l(f)},function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];return c(f)}):d=sn(e,t,n,r,l,c),d&&d.then?d.then(l,c):c()});var i,o,a=wy(function(l,c){r.destruct?i=sn(e,t,n,r,function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return l(d)},function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return c(d)}):i=sn(e,t,n,r,l,c),o=c});return i&&i.error&&(a.catch(function(){}),typeof o=="function"&&o(i.error)),a}}function _O(e,t){for(var r=t.split("."),n=e,s=0;s<r.length;s++){if(!n)return null;n=n[r[s]]}return n}var SO=function(){function e(){}return e.installed=function(){var t=u1(this.pluginRef)===!0;return t},e.getPlugin=function(){return typeof window<"u"?_O(window,this.pluginRef):null},e.getPluginName=function(){var t=this.pluginName;return t},e.getPluginRef=function(){var t=this.pluginRef;return t},e.getPluginInstallName=function(){var t=this.plugin;return t},e.getSupportedPlatforms=function(){var t=this.platforms;return t},e.pluginName="",e.pluginRef="",e.plugin="",e.repo="",e.platforms=[],e.install="",e}();function $t(e,t,r,n){return n=Array.from(n),bO(e,t,r).apply(this,n)}function bf(e,t){return e._objectInstance&&e._objectInstance[t]?e._objectInstance[t]:null}function _f(e,t,r){e._objectInstance&&(e._objectInstance[t]=r)}X$();var kO=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),EO=function(){function e(t){var r=this;this._objectInstance=t,this.onSuccess=new bc(function(n){return r.successCallback=n.next.bind(n),function(){return r.successCallback=function(){}}}),this.onError=new bc(function(n){return r.errorCallback=n.next.bind(n),function(){return r.errorCallback=function(){}}}),this.onStatusUpdate=new bc(function(n){return r.statusCallback=n.next.bind(n),function(){return r.statusCallback=function(){}}})}return e.prototype.getCurrentAmplitude=function(){return $t(this,"getCurrentAmplitude",{},arguments)},e.prototype.getCurrentPosition=function(){return $t(this,"getCurrentPosition",{},arguments)},e.prototype.getDuration=function(){return $t(this,"getDuration",{sync:!0},arguments)},e.prototype.play=function(t){return $t(this,"play",{sync:!0},arguments)},e.prototype.pause=function(){return $t(this,"pause",{sync:!0},arguments)},e.prototype.release=function(){return $t(this,"release",{sync:!0},arguments)},e.prototype.seekTo=function(t){return $t(this,"seekTo",{sync:!0},arguments)},e.prototype.setVolume=function(t){return $t(this,"setVolume",{sync:!0},arguments)},e.prototype.setRate=function(t){return $t(this,"setRate",{sync:!0},arguments)},e.prototype.startRecord=function(){return $t(this,"startRecord",{sync:!0},arguments)},e.prototype.stopRecord=function(){return $t(this,"stopRecord",{sync:!0},arguments)},e.prototype.pauseRecord=function(){return $t(this,"pauseRecord",{sync:!0},arguments)},e.prototype.resumeRecord=function(){return $t(this,"resumeRecord",{sync:!0},arguments)},e.prototype.stop=function(){return $t(this,"stop",{sync:!0},arguments)},Object.defineProperty(e.prototype,"successCallback",{get:function(){return bf(this,"successCallback")},set:function(t){_f(this,"successCallback",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errorCallback",{get:function(){return bf(this,"errorCallback")},set:function(t){_f(this,"errorCallback",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statusCallback",{get:function(){return bf(this,"statusCallback")},set:function(t){_f(this,"statusCallback",t)},enumerable:!1,configurable:!0}),e}(),xy;(function(e){e[e.NONE=0]="NONE",e[e.STARTING=1]="STARTING",e[e.RUNNING=2]="RUNNING",e[e.PAUSED=3]="PAUSED",e[e.STOPPED=4]="STOPPED"})(xy||(xy={}));var by;(function(e){e[e.ABORTED=1]="ABORTED",e[e.NETWORK=2]="NETWORK",e[e.DECODE=3]="DECODE",e[e.SUPPORTED=4]="SUPPORTED"})(by||(by={}));var CO=function(e){kO(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MEDIA_NONE=0,r.MEDIA_STARTING=1,r.MEDIA_RUNNING=2,r.MEDIA_PAUSED=3,r.MEDIA_STOPPED=4,r.MEDIA_ERR_ABORTED=1,r.MEDIA_ERR_NETWORK=2,r.MEDIA_ERR_DECODE=3,r.MEDIA_ERR_NONE_SUPPORTED=4,r}return t.prototype.create=function(r){var n;return u1(t.getPluginRef(),null,t.getPluginName())===!0&&(n=new(t.getPlugin())(r)),new EO(n)},t.pluginName="Media",t.repo="https://github.com/apache/cordova-plugin-media",t.plugin="cordova-plugin-media",t.pluginRef="Media",t.platforms=["Android","Browser","iOS","Windows"],t}(SO),jO=new CO;const PO=ld("Device",{web:()=>Kt(()=>import("./web-i38Zade-.js"),[]).then(e=>new e.DeviceWeb)});async function Pm(){if(!Xr.isNativePlatform())return;if((await PO.getInfo()).platform==="android"&&typeof navigator<"u"&&navigator.permissions)try{const r=await navigator.permissions.query({name:"camera"}),n=await navigator.permissions.query({name:"microphone"});console.log("Permisos cámara:",r.state),console.log("Permisos micrófono:",n.state)}catch(r){console.warn("Error al consultar permisos:",r)}try{const r=await Promise.all([navigator.mediaDevices.getUserMedia({video:!0}),navigator.mediaDevices.getUserMedia({audio:!0})]);console.log("Permisos concedidos:",r)}catch(r){console.warn("Permisos denegados:",r)}}async function NO(){await Pm();try{const e=await Lo.getPhoto({quality:90,allowEditing:!1,resultType:su.Uri,source:is.Camera});if(e!=null&&e.webPath){const r=await(await fetch(e.webPath)).blob();return new File([r],`photo_${Date.now()}.jpg`,{type:"image/jpeg"})}return null}catch(e){return console.error("Error al capturar foto:",e),null}}async function TO(){await Pm();try{const e=await Lo.getPhoto({quality:90,allowEditing:!1,resultType:su.Uri,source:is.Camera});if(e!=null&&e.webPath){const r=await(await fetch(e.webPath)).blob();return new File([r],`video_${Date.now()}.mp4`,{type:"video/mp4"})}return null}catch(e){return console.error("Error al grabar video:",e),null}}let Wn=null,ra=null;async function RO(){await Pm();const e=`audio_${Date.now()}.m4a`;ra=e,Wn=jO.create(e),Wn.startRecord()}async function AO(){return new Promise((e,t)=>{if(!Wn||!ra){t("No hay grabación activa");return}Wn.stopRecord(),setTimeout(async()=>{try{const n=await(await fetch(ra)).blob(),s=new File([n],ra,{type:"audio/m4a"});e(s)}catch(r){console.error("Error al leer grabación:",r),t(r)}finally{Wn==null||Wn.release(),Wn=null,ra=null}},1e3)})}const $O=({onCaptureImage:e,onCancel:t})=>{const[r,n]=m.useState(null),[s,i]=m.useState(!1),[o,a]=m.useState(!1);$.useEffect(()=>{const d=async()=>{try{await Cm()?l():(console.log("Necesitamos solicitar permisos..."),i(!0))}catch(f){console.error("Error en verificación de permisos:",f),n("Error al verificar permisos. Por favor, inténtalo de nuevo.")}};setTimeout(()=>{d()},500)},[]);const l=async()=>{a(!0);try{console.log("Tomando foto...");const d=await NO();if(d){console.log("Foto tomada correctamente");const f=URL.createObjectURL(d);e(f)}else console.error("No se pudo obtener la foto"),n("No se pudo capturar la imagen. Intenta de nuevo."),a(!1)}catch(d){console.error("Error al tomar foto:",d),n("Error al tomar la foto: "+(d instanceof Error?d.message:"Error desconocido")),a(!1)}},c=d=>{console.log("Respuesta de permisos recibida:",d),i(!1),d?(console.log("Permisos concedidos, tomando foto..."),setTimeout(()=>{l()},1e3)):n("Para usar la cámara, es necesario conceder los permisos.")};return u.jsx("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:s?u.jsx(cd,{onRequestComplete:c,permissionType:"camera"}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-black p-3 flex justify-between items-center",children:[u.jsx("div",{className:"text-white",children:"Cámara"}),u.jsx("button",{onClick:t,className:"p-2 rounded-full bg-gray-800 text-white",children:u.jsx(Sn,{size:24})})]}),u.jsx("div",{className:"flex-1 relative flex items-center justify-center bg-black",children:r?u.jsx(vl,{onClose:t,variant:"destructive",className:"m-4",children:r}):o?u.jsxs("div",{className:"text-white text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),u.jsx("p",{children:"Capturando imagen..."})]}):u.jsx("div",{className:"text-white text-center p-4",children:u.jsx("p",{children:"Preparando cámara..."})})}),!r&&!o&&u.jsx("div",{className:"bg-black p-4 flex justify-center",children:u.jsx("button",{onClick:l,className:"w-16 h-16 rounded-full bg-white flex items-center justify-center",children:u.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-black"})})})]})})},OO=async()=>{try{console.log("Solicitando permisos de cámara y micrófono...");const e=await Lo.requestPermissions();console.log("Permisos de cámara:",e);let t=!1;try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(s=>s.stop()),t=!0,console.log("Permisos de micrófono concedidos")}catch(n){console.error("Error al solicitar permisos de micrófono:",n)}const r=e.camera==="granted"&&t;return r||(console.warn("Permisos denegados. Cámara:",e.camera,"Micrófono:",t),Xr.isNativePlatform()&&alert("Debes habilitar los permisos de cámara y micrófono para continuar.")),r}catch(e){return console.error("Error al solicitar permisos:",e),!1}},LO=async()=>{try{const e=await Lo.checkPermissions();let t=!1;try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(n=>n.stop()),t=!0}catch{console.log("No tenemos permisos de micrófono")}return e.camera==="granted"&&t}catch(e){return console.error("Error al verificar permisos:",e),!1}},_y=e=>{const t=Math.floor(e/60),r=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},IO=e=>{if(e)try{e.getTracks().forEach(r=>r.stop()),console.log("Stream detenido correctamente")}catch(t){console.error("Error al detener stream de medios:",t)}},d1=async(e,t)=>{try{console.log(`Verificando permisos de ${e}...`);let r=!1;return e==="camera"?r=await Cm():e==="microphone"?r=await MO():r=await LO(),r?(console.log("Ya tenemos permisos necesarios"),!0):(console.log("No tenemos permisos, mostrando diálogo..."),t(!0),!1)}catch(r){return console.error("Error al verificar permisos:",r),!1}},MO=async()=>{try{if(DO())return!0;try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});if(e)return IO(e),!0}catch(e){return console.log("No tenemos permisos de micrófono",e),!1}return!1}catch(e){return console.error("Error al verificar permisos de micrófono:",e),!1}},DO=()=>{try{return window.Capacitor&&window.Capacitor.isNativePlatform()}catch{return!1}},FO=({onCaptureAudio:e,onCancel:t})=>{const[r,n]=m.useState(!1),[s,i]=m.useState(null),[o,a]=m.useState(null),[l,c]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState(0),[b,v]=m.useState(!1),[x,g]=m.useState(!1);m.useEffect(()=>{let S=null;return r&&d?S=setInterval(()=>{const j=Date.now()-d;p(Math.floor(j/1e3))},1e3):p(0),()=>{S!==null&&clearInterval(S)}},[r,d]),m.useEffect(()=>{(async()=>{const E=await d1("microphone",v);g(E)})()},[]);const y=async()=>{try{if(n(!0),f(Date.now()),Ws())RO(),setTimeout(async()=>{const S=await AO();if(S){const E=URL.createObjectURL(S);e(E,10)}else c("No se pudo grabar el audio."),n(!1)},5e3);else{const S=await navigator.mediaDevices.getUserMedia({audio:!0}),E=new MediaRecorder(S);i(E);const j=[];E.ondataavailable=C=>{j.push(C.data)},E.onstop=()=>{const C=new Blob(j,{type:"audio/webm"}),P=URL.createObjectURL(C);a(P),n(!1),e(P,h),S.getTracks().forEach(F=>F.stop())},E.start()}}catch(S){console.error("Error al grabar audio:",S),c("Error al grabar audio: "+(S instanceof Error?S.message:"Error desconocido")),n(!1)}},w=()=>{s&&s.stop(),n(!1)},_=S=>{v(!1),g(S)};return u.jsx("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:b?u.jsx(cd,{onRequestComplete:_,permissionType:"microphone"}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-black p-3 flex justify-between items-center",children:[u.jsx("div",{className:"text-white",children:"Audio Capture"}),u.jsx("button",{onClick:t,className:"p-2 rounded-full bg-gray-800 text-white",children:u.jsx(Sn,{size:24})})]}),u.jsx("div",{className:"flex-1 relative flex items-center justify-center bg-black",children:l?u.jsx(vl,{onClose:t,variant:"destructive",className:"m-4",children:l}):u.jsx("div",{className:"text-white text-center",children:r?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-pulse text-red-500 text-6xl",children:"●"}),u.jsxs("p",{className:"text-lg",children:["Recording... ",h,"s"]}),u.jsx("button",{onClick:w,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded",children:"Stop"})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"Press the button to start recording audio."}),u.jsx("button",{onClick:y,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded",disabled:!x,children:x?"Record Audio":"Waiting for Permissions"})]})})})]})})},UO=({onCaptureVideo:e,onCancel:t})=>{const[r,n]=m.useState(!1),[s,i]=m.useState(null),[o,a]=m.useState(null),[l,c]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState(!1),[b,v]=m.useState(null),x=m.useRef(null);m.useEffect(()=>{let _;return r&&b&&(_=setInterval(()=>{(Date.now()-b)/1e3>=10&&g()},100)),()=>clearInterval(_)},[r,b]),m.useEffect(()=>{const _=async()=>{if(await d1("both",p))try{const E=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!0});i(E);const j=new MediaRecorder(E,{mimeType:"video/webm;codecs=vp8,opus"});a(j),x.current&&(x.current.srcObject=E)}catch(E){console.error("Error al acceder a la cámara:",E),f("Error al acceder a la cámara: "+(E instanceof Error?E.message:"Error desconocido"))}};return Ws()||_(),()=>{s==null||s.getTracks().forEach(S=>S.stop()),i(null)}},[p]);const g=()=>{Ws()||o&&o.state==="recording"&&(o.stop(),s==null||s.getTracks().forEach(_=>_.stop()),n(!1))},y=({data:_})=>{const S=URL.createObjectURL(_);c(S),e(S,10)},w=async()=>{try{if(n(!0),v(Date.now()),Ws()){const _=await TO();if(_){const S=URL.createObjectURL(_);e(S,10)}else f("No se pudo grabar el video.");n(!1)}else{if(!s||!o){f("Cámara no inicializada correctamente."),n(!1);return}o.ondataavailable=y,o.start()}}catch(_){console.error("Error al grabar video:",_),f("Error al grabar video: "+(_ instanceof Error?_.message:"Error desconocido")),n(!1)}};return u.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[h&&u.jsx(cd,{onRequestComplete:_=>{p(!1),_||f("Se requieren permisos de cámara y micrófono para grabar video.")},permissionType:"both"}),u.jsxs("div",{className:"bg-black p-3 flex justify-between items-center",children:[u.jsx("div",{className:"text-white",children:"Video"}),u.jsx("button",{onClick:t,className:"p-2 rounded-full bg-gray-800 text-white",children:u.jsx(Sn,{size:24})})]}),u.jsx("div",{className:"flex-1 relative flex items-center justify-center bg-black",children:d?u.jsx(vl,{onClose:t,variant:"destructive",className:"m-4",children:d}):u.jsxs(u.Fragment,{children:[s&&u.jsx("video",{ref:x,className:"max-w-full max-h-full",autoPlay:!0,muted:!0,style:{transform:"scaleX(-1)"}}),!s&&!Ws()&&u.jsxs("div",{className:"text-white text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),u.jsx("p",{children:"Iniciando cámara..."})]})]})}),u.jsx("div",{className:"bg-black p-4 flex justify-center",children:u.jsx("button",{onClick:w,className:`w-16 h-16 rounded-full ${r?"bg-red-500 animate-pulse":"bg-white"} flex items-center justify-center`,children:u.jsx("div",{className:`w-14 h-14 rounded-full border-4 ${r?"border-red-700":"border-black"}`})})})]})},zO=({onSendMessage:e})=>{const[t,r]=m.useState(""),[n,s]=m.useState(!1),[i,o]=m.useState(null),a=p=>{p.preventDefault(),t.trim()&&(e(t),r(""))},l=p=>{e("📷 Image","image",p),o(null)},c=(p,b)=>{e(`Audio message (${_y(b)})`,"audio",p),o(null)},d=(p,b)=>{e(`🎥 Video (${_y(b)})`,"video",p),o(null)},f=p=>{r(b=>b+p),s(!1)},h=()=>{o(null)};return u.jsxs("div",{children:[i==="image"&&u.jsx($O,{onCaptureImage:l,onCancel:h}),i==="audio"&&u.jsx(FO,{onCaptureAudio:c,onCancel:h}),i==="video"&&u.jsx(UO,{onCaptureVideo:d,onCancel:h}),u.jsxs("form",{onSubmit:a,className:"p-3 bg-white border-t flex items-center",children:[u.jsx("button",{type:"button",onClick:()=>o("image"),className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 mr-1",children:u.jsx(rm,{size:22})}),u.jsx("button",{type:"button",onClick:()=>o("video"),className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 mr-1",children:u.jsx(YC,{size:22})}),u.jsx("div",{className:"flex-1 relative",children:u.jsx("input",{type:"text",value:t,onChange:p=>r(p.target.value),placeholder:"Type a message...",className:"w-full py-2 px-4 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-messenger-primary focus:border-transparent"})}),u.jsx("button",{type:"button",onClick:()=>s(!n),className:"ml-2 p-2 rounded-full text-gray-500 hover:bg-gray-100",children:u.jsx(HC,{size:22})}),t.trim()?u.jsx("button",{type:"submit",className:"ml-2 p-2 bg-messenger-primary text-white rounded-full hover:bg-messenger-secondary transition-colors",children:u.jsx(WC,{size:22})}):u.jsx("button",{type:"button",onClick:()=>o("audio"),className:"ml-2 p-2 bg-messenger-primary text-white rounded-full hover:bg-messenger-secondary transition-colors",children:u.jsx(Gx,{size:22})}),n&&u.jsx(Q$,{onSelectEmoji:f,onClose:()=>s(!1)})]})]})},VO=({contactName:e,contactId:t,messages:r,onSendMessage:n,onBack:s,onOpenContactSettings:i,onOpenContactLock:o,hasCustomLock:a=!1})=>u.jsxs("div",{className:"flex flex-col h-full bg-messenger-background",children:[u.jsx(G$,{contactName:e,contactId:t,onBack:s,onOpenContactSettings:i,onOpenContactLock:o,hasCustomLock:a}),u.jsx(Z$,{messages:r}),u.jsx(zO,{onSendMessage:n})]}),BO=({onCreateChat:e,onCancel:t,onBack:r})=>{const[n,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),[c,d]=m.useState(""),{t:f}=fr(),{toast:h}=_t(),p=()=>{r?r():t()},b=async x=>{if(!x.trim())return!1;l(!0),d("");try{const{data:g,error:y}=await Ce.from("profiles").select("id, username").ilike("username",x).limit(1);return y?(console.error("Error al verificar usuario:",y),d(f("username_not_found")||"Usuario no encontrado"),l(!1),!1):g&&g.length>0?(l(!1),!0):(d(f("username_not_found")||"Usuario no encontrado"),l(!1),!1)}catch(g){return console.error("Error inesperado:",g),d(f("error_checking_username")||"Error al verificar el usuario"),l(!1),!1}},v=async x=>{if(x.preventDefault(),!n.trim()||!i.trim()){h({variant:"destructive",title:"Campos requeridos",description:"Por favor, completa todos los campos"});return}if(!await b(n)){h({variant:"destructive",title:"Usuario no encontrado",description:"El nombre de usuario no existe en el sistema"});return}e(n,i)};return u.jsxs("div",{className:"flex flex-col h-full bg-messenger-background",children:[u.jsxs("div",{className:"flex items-center p-4 border-b bg-white",children:[u.jsx("button",{onClick:p,className:"mr-3 p-2 rounded-full hover:bg-gray-200 transition-colors",children:u.jsx(ul,{size:20})}),u.jsx("div",{className:"flex-1",children:u.jsx("h2",{className:"font-medium",children:f("new_message")})})]}),u.jsx("div",{className:"flex-1 p-6",children:u.jsxs("form",{onSubmit:v,className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-center mb-8",children:u.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-200 flex items-center justify-center",children:u.jsx(QC,{size:40,className:"text-gray-500"})})}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[f("username")," ",u.jsx("span",{className:"text-gray-500 text-xs",children:"(proporcionado por tu contacto dScrt)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:n,onChange:x=>{s(x.target.value),d("")},placeholder:f("username_placeholder")||"@usuario",className:`w-full px-4 py-2 border ${c?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-messenger-primary focus:border-transparent`,required:!0}),c&&u.jsxs("div",{className:"flex items-center text-red-500 text-xs mt-1",children:[u.jsx(UC,{size:12,className:"mr-1"}),c]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f("contact_alias")||"Alias del contacto"}),u.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),placeholder:f("alias_placeholder")||"¿Cómo quieres llamar a este contacto?",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-messenger-primary focus:border-transparent",required:!0}),u.jsx("p",{className:"text-xs text-gray-500",children:f("alias_description")||"Este nombre será visible solo para ti en tus conversaciones"})]}),u.jsx(ye,{type:"submit",className:"w-full bg-messenger-primary hover:bg-messenger-secondary",disabled:a||!n.trim()||!i.trim(),children:a?f("checking")||"Verificando...":f("save")||"Guardar"})]})})]})},qO=({requests:e,onAccept:t,onReject:r,onBlock:n,onBack:s})=>{const{t:i}=fr(),o=a=>{if(!a.expirationDate)return"";const l=new Date,c=new Date(a.expirationDate),d=Math.floor((c.getTime()-l.getTime())/(1e3*60*60));return d<1?`${Math.floor((c.getTime()-l.getTime())/6e4)} min`:`${d} h`};return m.useEffect(()=>{const a=new CustomEvent("unreadRequestsUpdate",{detail:{hasUnreadRequests:e.length>0}});return window.dispatchEvent(a),()=>{const l=new CustomEvent("unreadRequestsUpdate",{detail:{hasUnreadRequests:!1}});window.dispatchEvent(l)}},[e.length]),u.jsxs("div",{className:"flex flex-col h-full bg-messenger-background",children:[u.jsxs("div",{className:"flex items-center p-4 border-b",children:[u.jsx("button",{onClick:s,className:"mr-3 p-2 rounded-full hover:bg-gray-200 transition-colors","aria-label":i("back"),children:u.jsx(ul,{size:20})}),u.jsx("h1",{className:"text-lg font-bold",children:i("pending_requests")})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?u.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-4",children:u.jsx("p",{children:i("no_pending_requests")})}):u.jsxs("div",{className:"p-4",children:[u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:i("requests_expire")}),e.map(a=>u.jsxs("div",{className:"mb-4 rounded-lg border bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:a.username}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"text-xs text-gray-500 mr-2",children:a.timestamp}),a.expirationDate&&u.jsxs("div",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full",children:[i("expires_in"),": ",o(a)]})]})]}),u.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-lg font-medium",children:a.username.charAt(0).toUpperCase()})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:()=>t(a.id),className:"flex-1 bg-green-500 text-white py-2 rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[u.jsx(Fs,{size:16,className:"mr-1"}),i("accept")]}),u.jsxs("button",{onClick:()=>r(a.id),className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-md hover:bg-gray-300 transition-colors flex items-center justify-center",children:[u.jsx(Sn,{size:16,className:"mr-1"}),i("reject")]}),u.jsxs("button",{onClick:()=>n(a.id),className:"flex-1 bg-red-500 text-white py-2 rounded-md hover:bg-red-600 transition-colors flex items-center justify-center",children:[u.jsx(Zx,{size:16,className:"mr-1"}),i("block")]})]})]},a.id))]})})]})};function WO(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Nm="Switch",[HO,HI]=Co(Nm),[GO,KO]=HO(Nm),f1=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...f}=e,[h,p]=m.useState(null),b=bt(t,w=>p(w)),v=m.useRef(!1),x=h?d||!!h.closest("form"):!0,[g=!1,y]=Jp({prop:s,defaultProp:i,onChange:c});return u.jsxs(GO,{scope:r,checked:g,disabled:a,children:[u.jsx(Be.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":m1(g),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:b,onClick:Ie(e.onClick,w=>{y(_=>!_),x&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),x&&u.jsx(ZO,{control:h,bubbles:!v.current,name:n,value:l,checked:g,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});f1.displayName=Nm;var h1="SwitchThumb",p1=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=KO(h1,r);return u.jsx(Be.span,{"data-state":m1(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});p1.displayName=h1;var ZO=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=m.useRef(null),o=WO(r),a=yb(t);return m.useEffect(()=>{const l=i.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function m1(e){return e?"checked":"unchecked"}var g1=f1,QO=p1;const v1=m.forwardRef(({className:e,...t},r)=>u.jsx(g1,{className:Ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:u.jsx(QO,{className:Ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));v1.displayName=g1.displayName;const YO=({contactId:e,contactName:t,onSavePattern:r,onBack:n,currentPattern:s,isEnabled:i=!1})=>{const{t:o}=fr(),{toast:a}=_t(),[l,c]=m.useState(1),[d,f]=m.useState([]),[h,p]=m.useState(i),[b,v]=m.useState(!s);m.useEffect(()=>{p(i)},[i]);const x=w=>{p(w),s&&r(e,s,w).then(_=>{_&&a({title:w?o("contactLock.enabled")||"Patrón de desbloqueo activado":o("contactLock.disabled")||"Patrón de desbloqueo desactivado",description:w?o("contactLock.needPatternDesc")||"Ahora necesitarás introducir el patrón para acceder a este chat":o("contactLock.noPatternDesc")||"Ya no necesitarás introducir el patrón para acceder a este chat"})})},g=()=>{v(!0),c(1),f([])},y=async w=>w.length<4?(a({variant:"destructive",title:o("contactLock.tooShort")||"Patrón demasiado corto",description:o("contactLock.needMinPoints")||"El patrón debe tener al menos 4 puntos"}),!1):l===1?(f(w),c(2),a({title:o("contactLock.patternCreated")||"Patrón registrado",description:o("contactLock.confirmPattern")||"Por favor, confirma tu patrón"}),!0):w.length===d.length&&w.every((S,E)=>S===d[E])?await r(e,w,h)?(a({title:o("contactLock.patternSaved")||"Patrón guardado",description:o("contactLock.patternSavedDesc")||"El patrón de desbloqueo ha sido guardado"}),v(!1),!0):(a({variant:"destructive",title:o("contactLock.error")||"Error",description:o("contactLock.errorSaving")||"No se pudo guardar el patrón"}),!1):(a({variant:"destructive",title:o("contactLock.mismatch")||"Los patrones no coinciden",description:o("contactLock.tryAgain")||"Por favor, intenta nuevamente"}),c(1),!1);return u.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[u.jsxs("div",{className:"flex items-center p-4 bg-white border-b shadow-sm",children:[u.jsx("button",{onClick:n,className:"mr-3 p-2 rounded-full hover:bg-gray-100","aria-label":o("back"),children:u.jsx(ul,{size:20})}),u.jsxs("h1",{className:"text-lg font-medium",children:[o("contactLock.title")||"Patrón de desbloqueo para"," ",t]})]}),b?u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[u.jsx("h2",{className:"text-xl font-medium mb-8",children:l===1?o("contactLock.create")||"Crear patrón de desbloqueo":o("contactLock.confirm")||"Confirmar patrón"}),u.jsx(ad,{onPatternComplete:y,isCreationMode:!0}),u.jsx("p",{className:"mt-8 text-sm text-gray-500 text-center max-w-xs",children:o("contactLock.description")||"Este patrón será requerido para acceder a las conversaciones con este contacto"})]}):u.jsxs("div",{className:"flex-1 p-4",children:[u.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:o("contactLock.requirePattern")||"Requerir patrón de desbloqueo"}),u.jsx("p",{className:"text-sm text-gray-500",children:o("contactLock.toggleDesc")||"Activa esta opción para proteger este chat con un patrón"})]}),u.jsx(v1,{checked:h,onCheckedChange:x})]})}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[u.jsx("h3",{className:"font-medium mb-2",children:o("contactLock.changePattern")||"Cambiar patrón de desbloqueo"}),u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:o("contactLock.changeDesc")||"Puedes cambiar el patrón de desbloqueo para este contacto en cualquier momento"}),u.jsx("button",{onClick:g,className:"w-full py-2 px-4 bg-messenger-primary text-white rounded-md hover:bg-messenger-secondary transition-colors",children:o("contactLock.edit")||"Editar patrón"})]})]})]})},JO=({onBack:e})=>{const{t}=fr();return u.jsxs("div",{className:"flex items-center p-4 bg-white border-b shadow-sm",children:[u.jsx("button",{onClick:e,className:"mr-3 p-2 rounded-full hover:bg-gray-100","aria-label":t("back"),children:u.jsx(ul,{size:20})}),u.jsx("h1",{className:"text-lg font-medium",children:t("contacts.directory")||"Agenda dScrt"})]})},Or=m.forwardRef(({className:e,type:t,...r},n)=>u.jsx("input",{type:t,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Or.displayName="Input";const XO=({searchTerm:e,onSearchChange:t})=>{const{t:r}=fr();return u.jsx("div",{className:"p-3 bg-white border-b",children:u.jsxs("div",{className:"relative",children:[u.jsx(qC,{size:18,className:"absolute left-3 top-3 text-gray-400"}),u.jsx(Or,{type:"text",placeholder:r("contacts.search")||"Buscar contactos...",value:e,onChange:n=>t(n.target.value),className:"pl-10 w-full"})]})})},eL=({contact:e,onEdit:t,onDelete:r})=>u.jsxs("div",{className:"flex justify-between items-center p-4 bg-white hover:bg-gray-50",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-messenger-primary text-white flex items-center justify-center mr-3",children:u.jsx(Qx,{size:20})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:e.name}),e.fullName&&u.jsx("p",{className:"text-sm text-gray-500",children:e.fullName})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full","aria-label":"Edit contact",children:u.jsx(BC,{size:18})}),u.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-full","aria-label":"Delete contact",children:u.jsx(GC,{size:18})})]})]}),tL=({contacts:e,searchTerm:t,onEdit:r,onDelete:n})=>{const{t:s}=fr(),i=e.filter(o=>o.name.toLowerCase().includes(t.toLowerCase())||o.fullName&&o.fullName.toLowerCase().includes(t.toLowerCase()));return i.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-4",children:[u.jsx(Qx,{size:48,strokeWidth:1}),u.jsx("p",{className:"mt-2 text-center",children:t?s("contacts.noResults")||"No se encontraron contactos":s("contacts.empty")||"No hay contactos en tu agenda"})]}):u.jsx("div",{className:"divide-y",children:i.map(o=>u.jsx(eL,{contact:o,onEdit:r,onDelete:n},o.id))})},y1=m.forwardRef(({className:e,...t},r)=>u.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));y1.displayName="Textarea";const rL=({isOpen:e,onClose:t,editForm:r,onEditFormChange:n,onSave:s})=>{const{t:i}=fr();return u.jsx(ru,{open:e,onOpenChange:o=>!o&&t(),children:u.jsxs(Qa,{children:[u.jsx(Ya,{children:u.jsx(Ja,{children:i("contacts.edit")||"Editar contacto"})}),u.jsxs("div",{className:"space-y-4 py-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:i("contacts.username")||"Nombre de usuario"}),u.jsx(Or,{value:r.name,onChange:o=>n("name",o.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:i("contacts.fullName")||"Nombre completo"}),u.jsx(Or,{value:r.fullName,onChange:o=>n("fullName",o.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:i("contacts.notes")||"Notas"}),u.jsx(y1,{value:r.notes,onChange:o=>n("notes",o.target.value),rows:3})]})]}),u.jsxs(o1,{children:[u.jsx(ye,{variant:"outline",onClick:t,children:i("cancel")||"Cancelar"}),u.jsx(ye,{onClick:s,children:i("save")||"Guardar"})]})]})})},nL=({contacts:e,onBack:t,onEditContact:r,onDeleteContact:n})=>{const{t:s}=fr(),[i,o]=m.useState(""),[a,l]=m.useState(null),[c,d]=m.useState(!1),[f,h]=m.useState({name:"",fullName:"",notes:""}),p=g=>{l(g),h({name:g.name,fullName:g.fullName||"",notes:g.notes||""}),d(!0)},b=(g,y)=>{h({...f,[g]:y})},v=()=>{a&&(r(a.id,{name:f.name,fullName:f.fullName||null,notes:f.notes||null}),d(!1),l(null))},x=g=>{confirm(s("contacts.confirmDelete")||"¿Estás seguro de que quieres eliminar este contacto?")&&n(g)};return u.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[u.jsx(JO,{onBack:t}),u.jsx(XO,{searchTerm:i,onSearchChange:o}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsx(tL,{contacts:e,searchTerm:i,onEdit:p,onDelete:x})}),u.jsx(rL,{isOpen:c,onClose:()=>d(!1),editForm:f,onEditFormChange:b,onSave:v})]})},sL=()=>{const[e,t]=m.useState([{id:"1",name:"John Doe",phone:"+1234567890",lastMessage:"Hola, ¿cómo estás?",timestamp:"10:45",unread:!0},{id:"2",name:"María García",phone:"+34612345678",lastMessage:"¿Te llegaron los archivos que envié?",timestamp:"Ayer",unread:!1},{id:"3",name:"Alex Smith",phone:"+44712345678",lastMessage:"Ok, nos vemos mañana entonces.",timestamp:"Lun",unread:!1}]),[r,n]=m.useState([]),{user:s}=tr(),{toast:i}=_t();return m.useEffect(()=>{(async()=>{if(!s)return;const h=[];for(const p of e)try{await Mt.contactHasActivePattern(s.id,p.id)&&h.push(p.id)}catch(b){console.error("Error checking contact lock status:",b)}n(h),t(e.map(p=>({...p,hasCustomLock:h.includes(p.id)})))})()},[s]),{contacts:e,setContacts:t,contactsWithActiveLock:r,setContactsWithActiveLock:n,handleCreateChat:async(f,h)=>{if(s)try{const{data:p,error:b}=await Ce.from("profiles").select("id").eq("username",f).single();if(b||!p){console.error("Error al buscar el perfil del contacto:",b),i({variant:"destructive",title:"Error",description:"No se pudo encontrar el contacto especificado"});return}const{data:v,error:x}=await Ce.from("contacts").insert({user_id:s.id,contact_id:p.id,name:h,full_name:f}).select().single();if(x||!v){console.error("Error al crear contacto:",x),i({variant:"destructive",title:"Error",description:"No se pudo crear el contacto"});return}const g=new Date,y=`${g.getHours()}:${g.getMinutes().toString().padStart(2,"0")}`,w={id:v.id,name:h,phone:"",lastMessage:"Nuevo contacto",timestamp:y,unread:!1,fullName:f};return t([w,...e]),i({title:"Contacto creado",description:`Has añadido a ${h} como contacto`}),w.id}catch(p){return console.error("Error inesperado al crear contacto:",p),i({variant:"destructive",title:"Error",description:"No se pudo crear el contacto"}),null}},handleEditContact:(f,h)=>{t(e.map(p=>p.id===f?{...p,...h}:p)),i({title:"Contacto actualizado",description:"La información del contacto ha sido actualizada"})},handleDeleteContact:f=>(t(e.filter(h=>h.id!==f)),i({title:"Contacto eliminado",description:"El contacto ha sido eliminado de tu agenda"}),e.filter(h=>h.id!==f)),updateContactMessage:(f,h,p,b=!1)=>{t(v=>v.map(x=>x.id===f?{...x,lastMessage:h,timestamp:p,unread:b}:x))},markContactAsRead:f=>{t(e.map(h=>h.id===f?{...h,unread:!1}:h))}}};let tc;const iL=new Uint8Array(16);function oL(){if(!tc&&(tc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tc(iL)}const ct=[];for(let e=0;e<256;++e)ct.push((e+256).toString(16).slice(1));function aL(e,t=0){return ct[e[t+0]]+ct[e[t+1]]+ct[e[t+2]]+ct[e[t+3]]+"-"+ct[e[t+4]]+ct[e[t+5]]+"-"+ct[e[t+6]]+ct[e[t+7]]+"-"+ct[e[t+8]]+ct[e[t+9]]+"-"+ct[e[t+10]]+ct[e[t+11]]+ct[e[t+12]]+ct[e[t+13]]+ct[e[t+14]]+ct[e[t+15]]}const lL=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Sy={randomUUID:lL};function w1(e,t,r){if(Sy.randomUUID&&!e)return Sy.randomUUID();e=e||{};const n=e.random||(e.rng||oL)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,aL(n)}const na={sendMessage:async(e,t,r,n="text",s)=>{console.log(`📨 Enviando mensaje de ${e} a ${t}: ${r} (tipo: ${n})`);const i=new Date().toISOString(),o=w1();try{const{data:a,error:l}=await Ce.from("messages").insert([{id:o,sender_id:e,receiver_id:t,text:r,type:n,media_url:s,created_at:i,status:"sent"}]);if(l)return console.error("Error al enviar mensaje:",l),{data:null,error:l};const c={id:o,contactId:t,text:r,sent:!0,timestamp:new Date(i).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),status:"sent",type:n,mediaUrl:s};return console.log(`📨 Mensaje enviado correctamente: ${o} (tipo: ${n})`),{data:c,error:null}}catch(a){return console.error("Error inesperado al enviar mensaje:",a),{data:null,error:a}}},getMessages:async(e,t)=>{console.log(`📬 Obteniendo mensajes entre ${e} y ${t}`);try{const{data:r,error:n}=await Ce.from("messages").select("*").or(`sender_id.eq.${e},receiver_id.eq.${e}`).or(`sender_id.eq.${t},receiver_id.eq.${t}`).order("created_at",{ascending:!0});if(n)return console.error("Error al obtener mensajes:",n),{data:null,error:n};if(!r||r.length===0)return console.log(`📭 No se encontraron mensajes entre ${e} y ${t}`),{data:[],error:null};const i=r.filter(o=>o.sender_id===e&&o.receiver_id===t||o.sender_id===t&&o.receiver_id===e).map(o=>({id:o.id,contactId:o.sender_id===e?o.receiver_id:o.sender_id,text:o.text||"",sent:o.sender_id===e,timestamp:new Date(o.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),status:o.status,type:o.type,mediaUrl:o.media_url}));return console.log(`📬 Recuperados ${i.length} mensajes para la conversación`),{data:i,error:null}}catch(r){return console.error("Error inesperado al obtener mensajes:",r),{data:null,error:r}}},updateMessageStatus:async(e,t)=>{console.log(`🔄 Actualizando estado del mensaje ${e} a ${t}`);try{const{data:r,error:n}=await Ce.from("messages").update({status:t}).eq("id",e);return n?console.error("Error al actualizar estado del mensaje:",n):console.log(`🔄 Estado del mensaje actualizado correctamente: ${e} -> ${t}`),{data:r,error:n}}catch(r){return console.error("Error inesperado al actualizar estado del mensaje:",r),{data:null,error:r}}},subscribeToNewMessages:(e,t)=>{console.log(`🔔 Suscribiéndose a nuevos mensajes para ${e}`);const r=Ce.channel("public:messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${e}`},n=>{console.log("🔔 Nuevo mensaje recibido:",n);const s=n.new,i={id:s.id,contactId:s.sender_id,text:s.text||"",sent:!1,timestamp:new Date(s.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),status:s.status,type:s.type,mediaUrl:s.media_url};t(i),na.updateMessageStatus(s.id,"delivered")}).subscribe();return{unsubscribe:()=>{console.log(`🔕 Cancelando suscripción a mensajes para ${e}`),Ce.removeChannel(r)}}}},cL=e=>{const[t,r]=m.useState([]),{user:n}=tr(),{toast:s}=_t();return m.useEffect(()=>{if(!n)return;console.log("Configurando suscripción a mensajes entrantes para usuario:",n.id);const{unsubscribe:a}=na.subscribeToNewMessages(n.id,l=>{console.log("Mensaje nuevo recibido:",l),r(h=>[...h,l]);const c=new Date,d=`${c.getHours()}:${c.getMinutes().toString().padStart(2,"0")}`,f=l.type==="text"?l.text:l.type==="image"?"📷 Imagen":l.type==="video"?"🎥 Video":"🎤 Audio";e(l.contactId,f,d,!0)});return()=>{a()}},[n,e]),{messages:t,setMessages:r,loadMessages:async(a,l)=>{if(!(!a||!l))try{const{data:c,error:d}=await na.getMessages(a,l);if(d){console.error("Error al cargar mensajes:",d),s({variant:"destructive",title:"Error",description:"No se pudieron cargar los mensajes"});return}c&&(console.log(`Cargados ${c.length} mensajes para la conversación`),r(c),c.forEach(f=>{!f.sent&&f.status!=="read"&&na.updateMessageStatus(f.id,"read")}))}catch(c){console.error("Error inesperado al cargar mensajes:",c)}},handleSendMessage:async(a,l,c,d="text",f)=>{if(!(!l||!a))try{const{data:h,error:p}=await na.sendMessage(a,l,c,d,f);if(p){console.error("Error al enviar mensaje:",p),s({variant:"destructive",title:"Error",description:"No se pudo enviar el mensaje"});return}if(h){console.log("Mensaje enviado correctamente:",h),r(g=>[...g,h]);const b=new Date,v=`${b.getHours()}:${b.getMinutes().toString().padStart(2,"0")}`;e(l,d==="text"?c:d==="image"?"📷 Imagen":d==="video"?"🎥 Video":"🎤 Audio",v,!1)}}catch(h){console.error("Error inesperado al enviar mensaje:",h),s({variant:"destructive",title:"Error",description:"No se pudo enviar el mensaje"})}}}},uL=()=>{const[e,t]=m.useState([{id:"1",username:"carlos92",timestamp:"Hace 2h",status:"pending"},{id:"2",username:"laura.martinez",timestamp:"Hace 1d",status:"pending"}]),{toast:r}=_t();return{pendingRequests:e,setPendingRequests:t,handleAcceptRequest:o=>{const a=e.find(l=>l.id===o);return a?(t(e.filter(l=>l.id!==o)),r({title:"Solicitud aceptada",description:`Has aceptado la solicitud de ${a.username}`}),a):null},handleRejectRequest:o=>{t(e.filter(a=>a.id!==o)),r({title:"Solicitud rechazada",description:"La solicitud ha sido rechazada"})},handleBlockRequest:o=>{t(e.filter(a=>a.id!==o)),r({variant:"destructive",title:"Usuario bloqueado",description:"El usuario ha sido bloqueado y no podrá enviarte más solicitudes"})}}},dL=()=>{const[e,t]=m.useState(!1),{user:r}=tr(),{toast:n}=_t();return{showPatternLock:e,setShowPatternLock:t,handlePatternComplete:async(o,a)=>{if(!r||!o)return!1;try{return await Mt.verifyContactPattern(r.id,o,a)?(t(!1),!0):(n({variant:"destructive",title:"Patrón incorrecto",description:"El patrón introducido no es válido"}),!1)}catch(l){return console.error("Error verifying pattern:",l),!1}},handleSaveContactPattern:async(o,a,l)=>{if(!r)return!1;try{const{error:c}=await Mt.saveContactPattern(r.id,o,a,l);return c?(console.error("Error saving contact pattern:",c),!1):!0}catch(c){return console.error("Error saving contact pattern:",c),!1}}}},fL=()=>{const[e,t]=m.useState(""),{user:r}=tr();return m.useEffect(()=>{var n;if(r&&r.email){const s=((n=r.user_metadata)==null?void 0:n.username)||r.email.split("@")[0]||`usuario_${r.id.substring(0,8)}`;t(s),console.log("Username actualizado:",s)}},[r]),{username:e}},hL=e=>{const[t,r]=m.useState("list"),[n,s]=m.useState(null),{user:i}=tr(),{username:o}=fL(),{contacts:a,contactsWithActiveLock:l,handleCreateChat:c,handleEditContact:d,handleDeleteContact:f,updateContactMessage:h,markContactAsRead:p}=sL(),{messages:b,setMessages:v,loadMessages:x,handleSendMessage:g}=cL(h),{pendingRequests:y,handleAcceptRequest:w,handleRejectRequest:_,handleBlockRequest:S}=uL(),{showPatternLock:E,setShowPatternLock:j,handlePatternComplete:C,handleSaveContactPattern:P}=dL();return m.useEffect(()=>{const F=a.some(D=>D.unread);e&&e(F);const R=new CustomEvent("unreadMessagesUpdate",{detail:{hasUnreadMessages:F}});window.dispatchEvent(R)},[a,e]),m.useEffect(()=>{!i||!n||t!=="conversation"||x(i.id,n)},[i,n,t,x]),{contacts:a,messages:b,pendingRequests:y,view:t,setView:r,selectedContactId:n,setSelectedContactId:s,username:o,showPatternLock:E,handleSelectContact:async F=>{i&&l.includes(F)?(s(F),j(!0)):(s(F),r("conversation"),p(F))},handlePatternComplete:F=>n?C(n,F):Promise.resolve(!1),handleSendMessage:(F,R="text",D)=>g(i==null?void 0:i.id,n,F,R,D),handleCreateChat:c,handleAcceptRequest:F=>{const R=w(F);if(R){const D=new Date;`${D.getHours()}${D.getMinutes().toString().padStart(2,"0")}`,w1(),R.username,c(R.username,R.username),r("list")}},handleRejectRequest:_,handleBlockRequest:S,handleEditContact:d,handleDeleteContact:F=>{f(F),v(b.filter(R=>R.contactId!==F))},handleSaveContactPattern:P}},pL=({onClose:e})=>{const{t}=fr();return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:u.jsx(Yr,{className:"max-w-md mx-auto bg-white shadow-lg rounded-md p-6",children:u.jsxs("div",{className:"flex flex-col space-y-4",children:[u.jsx(Jr,{className:"text-base leading-relaxed",children:t("media_privacy_notice")}),u.jsx(ye,{onClick:e,className:"w-full bg-messenger-primary hover:bg-messenger-secondary text-white",children:t("understand")})]})})})},mL=({onLogout:e,onUnreadMessagesChange:t,onViewChange:r})=>{const[n,s]=m.useState({hasSeenMediaPrivacyNotice:localStorage.getItem("dscrt-media-privacy-notice-seen")==="true",showMediaPrivacyNotice:!1}),{contacts:i,messages:o,pendingRequests:a,view:l,setView:c,selectedContactId:d,setSelectedContactId:f,username:h,showPatternLock:p,handleSelectContact:b,handlePatternComplete:v,handleSendMessage:x,handleCreateChat:g,handleAcceptRequest:y,handleRejectRequest:w,handleBlockRequest:_,handleEditContact:S,handleDeleteContact:E,handleSaveContactPattern:j}=hL(t);m.useEffect(()=>{r&&r(l)},[l,r]);const C=()=>{l==="conversation"||l==="new"||l==="requests"||l==="directory"||l==="contactLock"?(c("list"),f(null)):e()},P=i.find(W=>W.id===d),M=o.filter(W=>W.contactId===d),F=a.some(W=>W.status==="pending"),R=()=>{n.hasSeenMediaPrivacyNotice||s({...n,showMediaPrivacyNotice:!0})},D=()=>{localStorage.setItem("dscrt-media-privacy-notice-seen","true"),s({hasSeenMediaPrivacyNotice:!0,showMediaPrivacyNotice:!1})},L=(W,Y,te)=>{Y&&Y!=="text"&&!n.hasSeenMediaPrivacyNotice?(R(),sessionStorage.setItem("pending-message",JSON.stringify({text:W,type:Y,mediaUrl:te}))):x(W,Y,te)};return m.useEffect(()=>{if(n.hasSeenMediaPrivacyNotice){const W=sessionStorage.getItem("pending-message");if(W){const{text:Y,type:te,mediaUrl:T}=JSON.parse(W);x(Y,te,T),sessionStorage.removeItem("pending-message")}}},[n.hasSeenMediaPrivacyNotice]),u.jsxs("div",{className:"h-screen bg-gray-100",children:[l==="list"&&u.jsx(H$,{username:h,contacts:i,onSelectContact:b,onNewChat:()=>c("new"),onShowRequests:()=>c("requests"),onShowDirectory:()=>c("directory"),hasPendingRequests:F,onBack:e}),l==="conversation"&&P&&u.jsx(VO,{contactName:P.name,contactId:P.id,messages:M,onSendMessage:L,onBack:C,onOpenContactSettings:W=>{f(W),c("directory")},onOpenContactLock:W=>{f(W),c("contactLock")},hasCustomLock:P.hasCustomLock}),l==="new"&&u.jsx(BO,{onCreateChat:g,onCancel:C,onBack:C}),l==="requests"&&u.jsx(qO,{requests:a.filter(W=>W.status==="pending"),onAccept:y,onReject:w,onBlock:_,onBack:C}),l==="directory"&&u.jsx(nL,{contacts:i,onBack:C,onEditContact:S,onDeleteContact:E}),l==="contactLock"&&P&&u.jsx(YO,{contactId:P.id,contactName:P.name,onSavePattern:j,onBack:C,isEnabled:P.hasCustomLock}),n.showMediaPrivacyNotice&&u.jsx(pL,{onClose:D}),p&&u.jsx("div",{className:"fixed inset-0 bg-white z-10",children:u.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[u.jsxs("h2",{className:"text-xl font-medium mb-8",children:["Introduce el patrón para desbloquear el chat con ",P==null?void 0:P.name]}),u.jsx(ad,{onPatternComplete:v,isCreationMode:!1})]})})]})},gL=({currentTheme:e,onSelectTheme:t,onClose:r})=>{const n=[{id:"calculator",name:"Calculadora",icon:"🧮",description:"Disfrazada como una calculadora funcional"},{id:"weather",name:"Tiempo",icon:"🌤️",description:"Aplicación del clima con información real"},{id:"radar",name:"Radares",icon:"🚗",description:"Información sobre radares de tráfico"},{id:"browser",name:"Navegador",icon:"🌐",description:"Un navegador web simple"},{id:"notes",name:"Notas",icon:"📝",description:"Una aplicación de notas funcional"},{id:"fitness",name:"Fitness",icon:"🏃",description:"Seguimiento de actividad física"},{id:"scanner",name:"Scanner",icon:"📄",description:"Herramienta de escaneo de documentos"},{id:"converter",name:"Conversor",icon:"🔄",description:"Conversor de unidades y divisas"},{id:"flashlight",name:"Linterna",icon:"🔦",description:"Control de la linterna del dispositivo"},{id:"calendar",name:"Calendario",icon:"📅",description:"Un calendario interactivo"}];return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-xl w-[90%] max-w-md",children:[u.jsxs("div",{className:"p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-medium",children:"Seleccionar tema de camuflaje"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cada tema es una aplicación funcional para mayor discreción"})]}),u.jsx("div",{className:"p-2 max-h-[60vh] overflow-y-auto",children:u.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(s=>u.jsxs("button",{onClick:()=>t(s.id),className:`flex flex-col items-start p-3 rounded-lg border ${e===s.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[u.jsxs("div",{className:"flex items-center w-full mb-2",children:[u.jsx("div",{className:"h-8 w-8 flex items-center justify-center text-2xl mr-3",children:s.icon}),u.jsx("div",{className:"flex-1 text-left",children:s.name}),e===s.id&&u.jsx(Fs,{size:18,className:"text-blue-500"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:s.description})]},s.id))})}),u.jsx("div",{className:"p-4 border-t",children:u.jsx("button",{onClick:r,className:"w-full py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cerrar"})})]})})},x1=({userId:e,step:t,setStep:r,newPattern:n,setNewPattern:s,onComplete:i})=>{const{toast:o}=_t(),[a,l]=m.useState(!1),c=async d=>{if(d.length<4)return o({variant:"destructive",title:"Patrón demasiado corto",description:"El patrón debe conectar al menos 4 puntos"}),!1;if(t===1)return console.log("Patrón registrado en paso 1:",d),s(d),r(2),o({title:"Patrón registrado",description:"Por favor, confirma tu patrón"}),!0;{const f=d.length===n.length&&d.every((h,p)=>h===n[p]);if(console.log("Confirmando patrón:",d),console.log("Comparando con patrón guardado:",n),console.log("¿Coinciden?",f),f)try{return console.log("Guardando patrón para el usuario:",e),await Mt.savePattern(e,d),o({title:"Patrón establecido",description:"Tu patrón de desbloqueo ha sido guardado"}),l(!1),i(),!0}catch(h){return console.error("Error al guardar el patrón:",h),o({variant:"destructive",title:"Error al guardar",description:"No se pudo guardar el patrón. Por favor, inténtalo de nuevo."}),!1}else return o({variant:"destructive",title:"Los patrones no coinciden",description:"Por favor, intenta nuevamente"}),r(1),!1}};return u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 p-4",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("img",{src:"/lovable-uploads/3f963389-b035-45c6-890b-824df3549300.png",alt:"dScrt Logo",className:"h-20 w-20 rounded-lg"})}),u.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Configuración de dScrt"}),u.jsx(Yr,{className:"mb-6 max-w-md",children:u.jsx(Jr,{children:"El logo de la aplicación ha cambiado a dScrt. Necesitas crear un patrón de desbloqueo para acceder a tu chat seguro."})}),u.jsx(Yr,{className:"mb-6 max-w-md",children:u.jsxs(Jr,{children:[u.jsx("strong",{children:"Importante:"})," Tu patrón debe conectar al menos 4 puntos. Dibuja un patrón sencillo que puedas recordar fácilmente."]})}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx(ye,{onClick:()=>{r(1),l(!0)},size:"lg",className:"mb-4",children:"Crear Patrón de Acceso al Chat dScrt"}),u.jsx("p",{className:"text-sm text-gray-600 mt-4 text-center max-w-md",children:"Después de crear tu patrón, podrás acceder al chat dScrt pulsando el icono de configuración en la app camuflada."})]}),u.jsx(ru,{open:a,onOpenChange:d=>{d||t!==2&&l(!1)},children:u.jsxs(Qa,{className:"sm:max-w-md h-[90vh] flex flex-col",children:[u.jsxs(Ya,{children:[u.jsx(Ja,{children:t===1?"Crear patrón de desbloqueo":"Confirmar patrón"}),u.jsx(nu,{children:t===1?"Dibuja un patrón que usarás para desbloquear la aplicación. Recuérdalo bien.":"Dibuja nuevamente el mismo patrón para confirmarlo."})]}),u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:u.jsx(ad,{onPatternComplete:c,isCreationMode:!0})})]})})]})},vL=({onSettingsClick:e,hasUnreadMessages:t=!1,logoAura:r="none"})=>{const[n,s]=m.useState({location:"Madrid",temperature:23,condition:"sunny",humidity:45,wind:10}),[i,o]=m.useState([{day:"Lun",temp:22,condition:"sunny"},{day:"Mar",temp:24,condition:"partly-cloudy"},{day:"Mié",temp:25,condition:"partly-cloudy"},{day:"Jue",temp:21,condition:"rainy"},{day:"Vie",temp:20,condition:"cloudy"}]),a=c=>{switch(c){case"sunny":return u.jsx(Xd,{size:24,className:"text-yellow-500"});case"cloudy":return u.jsx(Vl,{size:24,className:"text-gray-500"});case"rainy":return u.jsx(iv,{size:24,className:"text-blue-500"});case"partly-cloudy":return u.jsx(ov,{size:24,className:"text-yellow-400"});default:return u.jsx(Xd,{size:24,className:"text-yellow-500"})}},l=()=>{const c=["sunny","cloudy","rainy","partly-cloudy"],d=c[Math.floor(Math.random()*c.length)],f=Math.floor(Math.random()*10)+18;s({...n,temperature:f,condition:d})};return m.useEffect(()=>{const c=setInterval(l,3e4);return()=>clearInterval(c)},[]),u.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-b from-blue-400 to-blue-600 text-white",children:[u.jsxs("div",{className:"flex justify-between items-center p-4",children:[u.jsx("h1",{className:"text-xl font-semibold",children:"El Tiempo"}),u.jsxs("button",{onClick:e,className:"p-2 rounded-full hover:bg-white/10 transition-colors relative",children:[u.jsx(po,{size:24}),t&&u.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full"}),r!=="none"&&u.jsx("span",{className:`absolute -top-1 -right-1 w-5 h-5 rounded-full ${r==="green"?"bg-green-400":"bg-red-400"} opacity-75 animate-pulse`})]})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center p-6",children:[u.jsx("h2",{className:"text-2xl",children:n.location}),u.jsxs("div",{className:"flex items-center mt-4",children:[n.condition==="sunny"&&u.jsx(Xd,{size:80,className:"text-yellow-300"}),n.condition==="cloudy"&&u.jsx(Vl,{size:80,className:"text-gray-200"}),n.condition==="rainy"&&u.jsx(iv,{size:80,className:"text-blue-200"}),n.condition==="partly-cloudy"&&u.jsx(ov,{size:80,className:"text-yellow-200"}),u.jsxs("span",{className:"text-6xl ml-4",children:[n.temperature,"°"]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-white/10 rounded-lg mx-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Vl,{className:"mr-2"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",children:"Humedad"}),u.jsxs("p",{className:"font-medium",children:[n.humidity,"%"]})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(av,{className:"mr-2"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",children:"Viento"}),u.jsxs("p",{className:"font-medium",children:[n.wind," km/h"]})]})]})]}),u.jsxs("div",{className:"flex-1 mt-4",children:[u.jsx("h3",{className:"text-lg font-medium px-4 mb-2",children:"Próximos días"}),u.jsx("div",{className:"flex justify-between px-4",children:i.map((c,d)=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("p",{className:"text-sm",children:c.day}),a(c.condition),u.jsxs("p",{className:"mt-1",children:[c.temp,"°"]})]},d))})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-1 p-4 bg-white/10 mt-auto",children:[u.jsxs("button",{className:"p-3 rounded-lg flex flex-col items-center",children:[u.jsx(Vl,{size:24}),u.jsx("span",{className:"text-xs mt-1",children:"Pronóstico"})]}),u.jsxs("button",{className:"p-3 rounded-lg flex flex-col items-center",children:[u.jsx(av,{size:24}),u.jsx("span",{className:"text-xs mt-1",children:"Mapa"})]}),u.jsxs("button",{className:"p-3 rounded-lg flex flex-col items-center",children:[u.jsx(po,{size:24}),u.jsx("span",{className:"text-xs mt-1",children:"Ajustes"})]})]})]})},Io=({onSettingsClick:e,hasUnreadMessages:t=!1,title:r,icon:n,color:s,logoAura:i="none"})=>u.jsxs("div",{className:`flex flex-col h-full ${s}`,children:[u.jsxs("div",{className:"flex justify-between items-center p-4",children:[u.jsx("h1",{className:"text-xl font-semibold",children:r}),u.jsxs("button",{onClick:e,className:"p-2 rounded-full hover:bg-white/10 transition-colors relative",children:[u.jsx(po,{size:24}),t&&u.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full"}),i!=="none"&&u.jsx("span",{className:`absolute -top-1 -right-1 w-5 h-5 rounded-full ${i==="green"?"bg-green-400":"bg-red-400"} opacity-75 animate-pulse`})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:n}),u.jsx("h2",{className:"text-2xl font-medium mb-4",children:r}),u.jsx("p",{className:"text-lg opacity-80 max-w-xs",children:"Esta aplicación está funcional como camuflaje. Toca el icono de configuración para acceder a la mensajería."})]})]}),yL=({onSettingsClick:e,hasUnreadMessages:t=!1,logoAura:r="none"})=>u.jsx(Io,{title:"Radar",icon:"📡",color:"bg-gradient-to-b from-gray-700 to-gray-900 text-white",onSettingsClick:e,hasUnreadMessages:t,logoAura:r}),wL=({onSettingsClick:e,hasUnreadMessages:t=!1,logoAura:r="none"})=>u.jsx(Io,{title:"Navegador",icon:"🌐",color:"bg-gradient-to-b from-indigo-400 to-indigo-600 text-white",onSettingsClick:e,hasUnreadMessages:t,logoAura:r}),xL=({onSettingsClick:e,hasUnreadMessages:t=!1,logoAura:r="none"})=>u.jsx(Io,{title:"Notas",icon:"📝",color:"bg-gradient-to-b from-yellow-200 to-yellow-400 text-gray-800",onSettingsClick:e,hasUnreadMessages:t,logoAura:r}),bL=({onSettingsClick:e,hasUnreadMessages:t=!1,logoAura:r="none"})=>u.jsx(Io,{title:"Fitness",icon:"🏃",color:"bg-gradient-to-b from-green-400 to-green-600 text-white",onSettingsClick:e,hasUnreadMessages:t,logoAura:r}),_L=({onSettingsClick:e,hasUnreadMessages:t=!1,logoAura:r="none"})=>{const[n,s]=m.useState(!1),[i,o]=m.useState(null),a=async()=>{await OO()?setTimeout(()=>{alert("Escaneo completado")},500):s(!0)},l=c=>{s(!1),c?setTimeout(()=>{alert("Escaneo completado")},500):o("Para usar el escáner, es necesario conceder permisos de cámara.")};return u.jsxs("div",{className:"h-full relative",children:[u.jsx(Io,{title:"Escáner",icon:"📷",color:"bg-gradient-to-b from-red-400 to-red-600 text-white",onSettingsClick:e,hasUnreadMessages:t,logoAura:r}),u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pt-16 p-4",children:u.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-center",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-red-100 flex items-center justify-center mb-6 cursor-pointer",onClick:a,children:u.jsx(rm,{className:"h-12 w-12 text-red-500"})}),u.jsx("h2",{className:"text-xl font-semibold mb-2 text-center",children:"Toca para escanear"}),u.jsx("p",{className:"text-gray-500 text-center",children:"Puedes escanear documentos, códigos QR o códigos de barras"}),i&&u.jsx("div",{className:"mt-6 w-full max-w-md",children:u.jsx(vl,{variant:"destructive",onClose:()=>o(null),children:i})})]})}),n&&u.jsx(cd,{onRequestComplete:l,permissionType:"camera"})]})},SL=({onSettingsClick:e,hasUnreadMessages:t=!1,logoAura:r="none"})=>{const[n,s]=m.useState("currency"),[i,o]=m.useState("1"),[a,l]=m.useState("eur"),[c,d]=m.useState("usd"),[f,h]=m.useState(""),p={currency:[{id:"eur",name:"Euro",symbol:"€",rate:1},{id:"usd",name:"Dólar US",symbol:"$",rate:1.09},{id:"gbp",name:"Libra",symbol:"£",rate:.85},{id:"jpy",name:"Yen",symbol:"¥",rate:157.3}],length:[{id:"m",name:"Metro",symbol:"m",rate:1},{id:"km",name:"Kilómetro",symbol:"km",rate:.001},{id:"cm",name:"Centímetro",symbol:"cm",rate:100},{id:"mi",name:"Milla",symbol:"mi",rate:621371e-9}],weight:[{id:"kg",name:"Kilogramo",symbol:"kg",rate:1},{id:"g",name:"Gramo",symbol:"g",rate:1e3},{id:"lb",name:"Libra",symbol:"lb",rate:2.20462},{id:"oz",name:"Onza",symbol:"oz",rate:35.274}],temperature:[{id:"c",name:"Celsius",symbol:"°C",rate:1},{id:"f",name:"Fahrenheit",symbol:"°F",rate:1},{id:"k",name:"Kelvin",symbol:"K",rate:1}]},b=()=>{const g=p[n],y=g.find(S=>S.id===a),w=g.find(S=>S.id===c);if(!y||!w)return"0";const _=parseFloat(i);return isNaN(_)?"0":n==="temperature"?a==="c"&&c==="f"?(_*9/5+32).toFixed(2):a==="c"&&c==="k"?(_+273.15).toFixed(2):a==="f"&&c==="c"?((_-32)*5/9).toFixed(2):a==="f"&&c==="k"?((_-32)*5/9+273.15).toFixed(2):a==="k"&&c==="c"?(_-273.15).toFixed(2):a==="k"&&c==="f"?((_-273.15)*9/5+32).toFixed(2):_.toString():(_/y.rate*w.rate).toFixed(6)},v=g=>{o(g.target.value)},x=()=>{const g=a;l(c),d(g)};return m.useEffect(()=>{const g=b();h(g)},[i,a,c,n]),u.jsxs("div",{className:"flex flex-col h-full bg-gray-100",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 bg-white border-b",children:[u.jsx("h1",{className:"text-xl font-semibold",children:"Conversor"}),u.jsxs("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 transition-colors relative",children:[u.jsx(po,{size:24}),t&&u.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full"}),r!=="none"&&u.jsx("span",{className:`absolute -top-1 -right-1 w-5 h-5 rounded-full ${r==="green"?"bg-green-400":"bg-red-400"} opacity-75 animate-pulse`})]})]}),u.jsx("div",{className:"p-4 bg-white",children:u.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[u.jsx("button",{className:`p-2 text-center rounded-lg ${n==="currency"?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>s("currency"),children:"Divisas"}),u.jsx("button",{className:`p-2 text-center rounded-lg ${n==="length"?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>s("length"),children:"Longitud"}),u.jsx("button",{className:`p-2 text-center rounded-lg ${n==="weight"?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>s("weight"),children:"Peso"}),u.jsx("button",{className:`p-2 text-center rounded-lg ${n==="temperature"?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>s("temperature"),children:"Temp."})]})}),u.jsx("div",{className:"flex-1 p-4",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"De"}),u.jsxs("div",{className:"flex",children:[u.jsx("select",{className:"flex-1 p-3 border rounded-l-lg outline-none",value:a,onChange:g=>l(g.target.value),children:p[n].map(g=>u.jsxs("option",{value:g.id,children:[g.name," (",g.symbol,")"]},g.id))}),u.jsx("input",{type:"number",className:"flex-1 p-3 border-t border-r border-b rounded-r-lg outline-none text-right",value:i,onChange:v})]})]}),u.jsx("div",{className:"flex justify-center my-2",children:u.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",onClick:x,children:u.jsx(LC,{size:20})})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"A"}),u.jsxs("div",{className:"flex",children:[u.jsx("select",{className:"flex-1 p-3 border rounded-l-lg outline-none",value:c,onChange:g=>d(g.target.value),children:p[n].map(g=>u.jsxs("option",{value:g.id,children:[g.name," (",g.symbol,")"]},g.id))}),u.jsx("input",{type:"text",className:"flex-1 p-3 border-t border-r border-b rounded-r-lg outline-none bg-gray-50 text-right",value:f,readOnly:!0})]})]})]})}),u.jsxs("div",{className:"p-4 bg-white border-t",children:[u.jsx("h3",{className:"font-medium mb-2",children:"Conversiones recientes"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"p-2 bg-gray-100 rounded-lg flex justify-between",children:[u.jsx("span",{children:"€100 = $109"}),u.jsx("button",{className:"text-blue-500",children:u.jsx(lv,{size:16})})]}),u.jsxs("div",{className:"p-2 bg-gray-100 rounded-lg flex justify-between",children:[u.jsx("span",{children:"1kg = 2.20lb"}),u.jsx("button",{className:"text-blue-500",children:u.jsx(lv,{size:16})})]})]})]})]})},kL=({onSettingsClick:e,hasUnreadMessages:t=!1,logoAura:r="none"})=>u.jsx(Io,{title:"Linterna",icon:"🔦",color:"bg-gradient-to-b from-yellow-400 to-yellow-600 text-white",onSettingsClick:e,hasUnreadMessages:t,logoAura:r}),EL=({onSettingsClick:e,hasUnreadMessages:t=!1,logoAura:r="none"})=>{const[n,s]=m.useState(new Date().getMonth()),[i,o]=m.useState(new Date().getFullYear()),[a,l]=m.useState(new Date().getDate()),[c,d]=m.useState([{id:1,title:"Reunión de trabajo",time:"09:30",color:"bg-blue-500"},{id:2,title:"Almuerzo con Juan",time:"13:00",color:"bg-green-500"},{id:3,title:"Consulta médica",time:"16:30",color:"bg-red-500"}]),f=(w,_)=>new Date(_,w+1,0).getDate(),h=(w,_)=>new Date(_,w,1).getDay(),p=()=>{n===0?(s(11),o(i-1)):s(n-1)},b=()=>{n===11?(s(0),o(i+1)):s(n+1)},v=new Date(i,n).toLocaleString("es",{month:"long"}),x=[],g=f(n,i),y=h(n,i);for(let w=0;w<y;w++)x.push(u.jsx("div",{className:"h-10"},`empty-${w}`));for(let w=1;w<=g;w++)x.push(u.jsx("div",{className:`h-10 flex items-center justify-center rounded-full cursor-pointer
          ${a===w?"bg-blue-500 text-white":"hover:bg-gray-100"}`,onClick:()=>l(w),children:w},`day-${w}`));return u.jsxs("div",{className:"flex flex-col h-full bg-white",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[u.jsx("h1",{className:"text-xl font-semibold",children:"Calendario"}),u.jsxs("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 transition-colors relative",children:[u.jsx(po,{size:24}),t&&u.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full"}),r!=="none"&&u.jsx("span",{className:`absolute -top-1 -right-1 w-5 h-5 rounded-full ${r==="green"?"bg-green-400":"bg-red-400"} opacity-75 animate-pulse`})]})]}),u.jsxs("div",{className:"flex justify-between items-center p-4",children:[u.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(DC,{size:24})}),u.jsxs("h2",{className:"text-lg font-medium capitalize",children:[v," ",i]}),u.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-full",children:u.jsx(FC,{size:24})})]}),u.jsxs("div",{className:"px-4 mb-4",children:[u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["L","M","X","J","V","S","D"].map((w,_)=>u.jsx("div",{className:"text-center text-gray-500 text-sm py-2",children:w},_))}),u.jsx("div",{className:"grid grid-cols-7 gap-1",children:x})]}),u.jsxs("div",{className:"flex-1 p-4 bg-gray-50",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"font-medium",children:["Eventos para el día ",a]}),u.jsx("button",{className:"p-2 bg-blue-500 text-white rounded-full",children:u.jsx(Kx,{size:20})})]}),u.jsx("div",{className:"space-y-3",children:c.map(w=>u.jsxs("div",{className:"flex items-center p-3 bg-white rounded-lg shadow",children:[u.jsx("div",{className:`${w.color} w-4 h-4 rounded-full mr-3`}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:w.title}),u.jsx("p",{className:"text-sm text-gray-500",children:w.time})]})]},w.id))})]}),u.jsxs("div",{className:"grid grid-cols-4 border-t",children:[u.jsxs("button",{className:"p-4 flex flex-col items-center",children:[u.jsx("div",{className:"h-2 w-6 bg-blue-500 rounded-full mb-1"}),u.jsx("span",{className:"text-xs",children:"Día"})]}),u.jsxs("button",{className:"p-4 flex flex-col items-center bg-gray-100",children:[u.jsx("div",{className:"h-6 w-6 border border-blue-500 rounded-full mb-1"}),u.jsx("span",{className:"text-xs text-blue-500",children:"Mes"})]}),u.jsxs("button",{className:"p-4 flex flex-col items-center",children:[u.jsxs("div",{className:"h-6 w-6 flex flex-col justify-center items-center mb-1",children:[u.jsx("div",{className:"h-1 w-4 bg-gray-400 rounded-full mb-1"}),u.jsx("div",{className:"h-1 w-4 bg-gray-400 rounded-full"})]}),u.jsx("span",{className:"text-xs",children:"Lista"})]}),u.jsxs("button",{className:"p-4 flex flex-col items-center",children:[u.jsx("div",{className:"h-6 w-6 flex justify-center items-center rounded-full mb-1 border border-gray-300",children:u.jsx("span",{className:"text-xs",children:"30"})}),u.jsx("span",{className:"text-xs",children:"Año"})]})]})]})},CL=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[s,i]=m.useState(!0),[o,a]=m.useState("calculator"),[l,c]=m.useState(!1),[d,f]=m.useState("es-ES"),[h,p]=m.useState("none"),[b,v]=m.useState(!1),[x,g]=m.useState(!1),[y,w]=m.useState(!1),[_,S]=m.useState([]),[E,j]=m.useState(1),[C,P]=m.useState(!1),[M,F]=m.useState("list"),{toast:R}=_t(),{user:D}=tr();Ju(),m.useEffect(()=>{const re=navigator.language;["es-ES","en-US","en-GB","fr","it","de","es-419","es-MX","nl","fi","ar","zh","hi"].includes(re)?f(re):f("en-US")},[]),m.useEffect(()=>{p(e?"none":s?"red":"green")},[e,s]),m.useEffect(()=>{const re=be=>{i(be.detail.hasUnreadMessages)},oe=be=>{be.detail.hasUnreadRequests&&i(!0)};if(window.addEventListener("unreadMessagesUpdate",re),window.addEventListener("unreadRequestsUpdate",oe),!e){const be=setTimeout(()=>{i(!0)},3e4);return()=>{clearTimeout(be),window.removeEventListener("unreadMessagesUpdate",re),window.removeEventListener("unreadRequestsUpdate",oe)}}return()=>{window.removeEventListener("unreadMessagesUpdate",re),window.removeEventListener("unreadRequestsUpdate",oe)}},[e]),m.useEffect(()=>{C&&(console.log("🔑 Pattern verified flag activated - setting authenticated to true"),t(!0),P(!1),n(!1))},[C]),m.useEffect(()=>{D?(sessionStorage.getItem("firstLogin")==="true"&&(console.log("Primera sesión detectada en Index, iniciando creación de patrón"),w(!0)),t(!1),sessionStorage.getItem("firstLoginAfterConfirmation")==="true"&&(v(!0),g(!0),sessionStorage.removeItem("firstLoginAfterConfirmation"),R({title:"Logo cambiado",description:"El logo de la aplicación ha cambiado a modo camuflaje"}))):r||console.log("No hay usuario autenticado, mostrando aplicación de camuflaje")},[D]);const L=()=>{console.log("Settings button clicked, showing pattern lock screen"),n(!0)},W=async re=>{console.log("🔑 Pattern complete handler called with pattern:",re);let oe=!1;try{return D?(console.log("🔑 Verifying pattern for user:",D.id),oe=await Mt.verifyPattern(D.id,re),console.log("🔑 Pattern verification result:",oe)):(console.log("🔑 No user, using default pattern verification"),oe=Mt.verifyDefaultPattern(re),console.log("🔑 Default pattern verification result:",oe)),oe?(console.log("🔑 PATTERN CORRECT - triggering authentication flow"),P(!0),R({title:"Acceso correcto",description:"Bienvenido al chat dScrt"}),!0):(console.log("🔑 Pattern incorrect"),!1)}catch(be){return console.error("Error al verificar patrón:",be),console.log("🔑 Fallback to default pattern verification"),oe=Mt.verifyDefaultPattern(re),console.log("🔑 Fallback pattern verification result:",oe),oe?(console.log("🔑 Fallback pattern correct, triggering authentication flow"),P(!0),R({title:"Acceso correcto",description:"Bienvenido al chat dScrt"}),!0):!1}},Y=()=>{t(!1)},te=re=>{a(re),c(!1),R({title:"Tema cambiado",description:`El tema se ha cambiado a ${re}. El logo de la app ahora refleja este tema.`})},T=()=>{v(!1)},I=()=>{g(!1)},H=async()=>{sessionStorage.removeItem("firstLogin"),sessionStorage.removeItem("firstLoginAfterConfirmation"),g(!0),w(!1),t(!1),R({title:"Patrón creado correctamente",description:"Para acceder al chat dScrt, pulsa el icono de configuración y usa tu patrón"})},ae=re=>{F(re)},se=()=>{switch(o){case"calculator":return u.jsx(Xv,{onSettingsClick:L,hasUnreadMessages:s,logoAura:h});case"weather":return u.jsx(vL,{onSettingsClick:L,hasUnreadMessages:s,logoAura:h});case"radar":return u.jsx(yL,{onSettingsClick:L,hasUnreadMessages:s,logoAura:h});case"browser":return u.jsx(wL,{onSettingsClick:L,hasUnreadMessages:s,logoAura:h});case"notes":return u.jsx(xL,{onSettingsClick:L,hasUnreadMessages:s,logoAura:h});case"fitness":return u.jsx(bL,{onSettingsClick:L,hasUnreadMessages:s,logoAura:h});case"scanner":return u.jsx(_L,{onSettingsClick:L,hasUnreadMessages:s,logoAura:h});case"converter":return u.jsx(SL,{onSettingsClick:L,hasUnreadMessages:s,logoAura:h});case"flashlight":return u.jsx(kL,{onSettingsClick:L,hasUnreadMessages:s,logoAura:h});case"calendar":return u.jsx(EL,{onSettingsClick:L,hasUnreadMessages:s,logoAura:h});default:return u.jsx(Xv,{onSettingsClick:L,hasUnreadMessages:s,logoAura:h})}};return console.log("🔄 Current App State:",{isAuthenticated:e,showPatternLock:r,patternVerified:C,currentView:M}),u.jsxs("div",{className:"min-h-screen flex flex-col",children:[e?u.jsxs(u.Fragment,{children:[u.jsx(mL,{onLogout:Y,onUnreadMessagesChange:i,onViewChange:ae}),M==="list"&&u.jsx("div",{className:"fixed bottom-4 right-4",children:u.jsx("button",{onClick:()=>c(!0),className:"p-3 bg-messenger-primary text-white rounded-full shadow-lg hover:bg-messenger-secondary transition-colors",children:"Tema"})})]}):y&&D?u.jsx(x1,{userId:D.id,step:E,setStep:j,newPattern:_,setNewPattern:S,onComplete:H}):u.jsxs("div",{className:"flex-1 relative",children:[se(),b&&u.jsx("div",{className:"fixed inset-x-0 top-0 p-4 z-50",children:u.jsx(Yr,{className:"max-w-md mx-auto shadow-lg",children:u.jsxs(Jr,{className:"flex justify-between items-center",children:[u.jsx("span",{children:"El logo de la aplicación ha cambiado a modo camuflaje."}),u.jsxs("button",{onClick:T,className:"ml-2 text-sm font-medium underline flex items-center",children:[u.jsx(Sn,{size:16,className:"mr-1"})," Cerrar"]})]})})}),x&&u.jsx("div",{className:"fixed inset-x-0 bottom-0 p-4 z-50",children:u.jsx(Yr,{className:"max-w-md mx-auto shadow-lg",children:u.jsxs(Jr,{className:"flex justify-between items-center",children:[u.jsx("span",{children:"Para acceder al chat dScrt, pulsa el icono de configuración (⚙️) y usa tu patrón de desbloqueo."}),u.jsxs("button",{onClick:I,className:"ml-2 text-sm font-medium underline flex items-center",children:[u.jsx(Sn,{size:16,className:"mr-1"})," Cerrar"]})]})})})]}),r&&!e&&u.jsx("div",{className:"fixed inset-0 bg-white z-10",children:u.jsx(ad,{onPatternComplete:W})}),l&&u.jsx(gL,{currentTheme:o,onSelectTheme:te,onClose:()=>c(!1)})]})};var yl=e=>e.type==="checkbox",Hs=e=>e instanceof Date,Ct=e=>e==null;const b1=e=>typeof e=="object";var Ye=e=>!Ct(e)&&!Array.isArray(e)&&b1(e)&&!Hs(e),_1=e=>Ye(e)&&e.target?yl(e.target)?e.target.checked:e.target.value:e,jL=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,S1=(e,t)=>e.has(jL(t)),PL=e=>{const t=e.constructor&&e.constructor.prototype;return Ye(t)&&t.hasOwnProperty("isPrototypeOf")},Tm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ut(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Tm&&(e instanceof Blob||n))&&(r||Ye(e)))if(t=r?[]:{},!r&&!PL(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=ut(e[s]));else return e;return t}var ud=e=>Array.isArray(e)?e.filter(Boolean):[],Ze=e=>e===void 0,G=(e,t,r)=>{if(!t||!Ye(e))return r;const n=ud(t.split(/[,[\].]+?/)).reduce((s,i)=>Ct(s)?s:s[i],e);return Ze(n)||n===e?Ze(e[t])?r:e[t]:n},Ht=e=>typeof e=="boolean",Rm=e=>/^\w*$/.test(e),k1=e=>ud(e.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(e,t,r)=>{let n=-1;const s=Rm(t)?[t]:k1(t),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=e[a];l=Ye(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const iu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},on={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},E1=$.createContext(null),dd=()=>$.useContext(E1),NL=e=>{const{children:t,...r}=e;return $.createElement(E1.Provider,{value:r},t)};var C1=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Cr.all&&(t._proxyFormState[o]=!n||Cr.all),r&&(r[o]=!0),e[o]}});return s};function TL(e){const t=dd(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,a]=$.useState(r._formState),l=$.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=$.useRef(s);return c.current=s,$.useEffect(()=>r._subscribe({name:c.current,formState:l.current,exact:i,callback:d=>{!n&&a({...r._formState,...d})}}),[r,n,i]),$.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),$.useMemo(()=>C1(o,r,l.current,!1),[o,r])}var Wr=e=>typeof e=="string",j1=(e,t,r,n,s)=>Wr(e)?(n&&t.watch.add(e),G(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),G(r,i))):(n&&(t.watchAll=!0),r);function P1(e){const t=dd(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o}=e||{},a=$.useRef(n),l=$.useRef(s);a.current=n,$.useEffect(()=>r._subscribe({name:a.current,formState:{values:!0},exact:o,callback:f=>!i&&d(j1(a.current,r._names,f.values||r._formValues,!1,l.current))}),[r,i,o]);const[c,d]=$.useState(r._getWatch(n,s));return $.useEffect(()=>r._removeUnmounted()),c}function RL(e){const t=dd(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i}=e,o=S1(s._names.array,r),a=P1({control:s,name:r,defaultValue:G(s._formValues,r,G(s._defaultValues,r,e.defaultValue)),exact:!0}),l=TL({control:s,name:r,exact:!0}),c=$.useRef(e),d=$.useRef(s.register(r,{...e.rules,value:a,...Ht(e.disabled)?{disabled:e.disabled}:{}})),f=$.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!G(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!G(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!G(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!G(l.validatingFields,r)},error:{enumerable:!0,get:()=>G(l.errors,r)}}),[l,r]),h=$.useCallback(x=>d.current.onChange({target:{value:_1(x),name:r},type:iu.CHANGE}),[r]),p=$.useCallback(()=>d.current.onBlur({target:{value:G(s._formValues,r),name:r},type:iu.BLUR}),[r,s._formValues]),b=$.useCallback(x=>{const g=G(s._fields,r);g&&x&&(g._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:y=>x.setCustomValidity(y),reportValidity:()=>x.reportValidity()})},[s._fields,r]),v=$.useMemo(()=>({name:r,value:a,...Ht(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:h,onBlur:p,ref:b}),[r,n,l.disabled,h,p,b,a]);return $.useEffect(()=>{const x=s._options.shouldUnregister||i;s.register(r,{...c.current.rules,...Ht(c.current.disabled)?{disabled:c.current.disabled}:{}});const g=(y,w)=>{const _=G(s._fields,y);_&&_._f&&(_._f.mount=w)};if(g(r,!0),x){const y=ut(G(s._options.defaultValues,r));je(s._defaultValues,r,y),Ze(G(s._formValues,r))&&je(s._formValues,r,y)}return!o&&s.register(r),()=>{(o?x&&!s._state.action:x)?s.unregister(r):g(r,!1)}},[r,s,o,i]),$.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),$.useMemo(()=>({field:v,formState:l,fieldState:f}),[v,l,f])}const AL=e=>e.render(RL(e));var N1=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},_a=e=>Array.isArray(e)?e:[e],ky=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},qh=e=>Ct(e)||!b1(e);function Qn(e,t){if(qh(e)||qh(t))return e===t;if(Hs(e)&&Hs(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Hs(i)&&Hs(o)||Ye(i)&&Ye(o)||Array.isArray(i)&&Array.isArray(o)?!Qn(i,o):i!==o)return!1}}return!0}var kt=e=>Ye(e)&&!Object.keys(e).length,Am=e=>e.type==="file",jr=e=>typeof e=="function",ou=e=>{if(!Tm)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},T1=e=>e.type==="select-multiple",$m=e=>e.type==="radio",$L=e=>$m(e)||yl(e),Sf=e=>ou(e)&&e.isConnected;function OL(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ze(e)?n++:e[t[n++]];return e}function LL(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ze(e[t]))return!1;return!0}function et(e,t){const r=Array.isArray(t)?t:Rm(t)?[t]:k1(t),n=r.length===1?e:OL(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Ye(n)&&kt(n)||Array.isArray(n)&&LL(n))&&et(e,r.slice(0,-1)),e}var R1=e=>{for(const t in e)if(jr(e[t]))return!0;return!1};function au(e,t={}){const r=Array.isArray(e);if(Ye(e)||r)for(const n in e)Array.isArray(e[n])||Ye(e[n])&&!R1(e[n])?(t[n]=Array.isArray(e[n])?[]:{},au(e[n],t[n])):Ct(e[n])||(t[n]=!0);return t}function A1(e,t,r){const n=Array.isArray(e);if(Ye(e)||n)for(const s in e)Array.isArray(e[s])||Ye(e[s])&&!R1(e[s])?Ze(t)||qh(r[s])?r[s]=Array.isArray(e[s])?au(e[s],[]):{...au(e[s])}:A1(e[s],Ct(t)?{}:t[s],r[s]):r[s]=!Qn(e[s],t[s]);return r}var Zo=(e,t)=>A1(e,t,au(t));const Ey={value:!1,isValid:!1},Cy={value:!0,isValid:!0};var $1=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ze(e[0].attributes.value)?Ze(e[0].value)||e[0].value===""?Cy:{value:e[0].value,isValid:!0}:Cy:Ey}return Ey},O1=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ze(e)?e:t?e===""?NaN:e&&+e:r&&Wr(e)?new Date(e):n?n(e):e;const jy={isValid:!1,value:null};var L1=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,jy):jy;function Py(e){const t=e.ref;return Am(t)?t.files:$m(t)?L1(e.refs).value:T1(t)?[...t.selectedOptions].map(({value:r})=>r):yl(t)?$1(e.refs).value:O1(Ze(t.value)?e.ref.value:t.value,e)}var IL=(e,t,r,n)=>{const s={};for(const i of e){const o=G(t,i);o&&je(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},lu=e=>e instanceof RegExp,Qo=e=>Ze(e)?e:lu(e)?e.source:Ye(e)?lu(e.value)?e.value.source:e.value:e,Ny=e=>({isOnSubmit:!e||e===Cr.onSubmit,isOnBlur:e===Cr.onBlur,isOnChange:e===Cr.onChange,isOnAll:e===Cr.all,isOnTouch:e===Cr.onTouched});const Ty="AsyncFunction";var ML=e=>!!e&&!!e.validate&&!!(jr(e.validate)&&e.validate.constructor.name===Ty||Ye(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Ty)),DL=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ry=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Sa=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=G(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Sa(a,t))break}else if(Ye(a)&&Sa(a,t))break}}};function Ay(e,t,r){const n=G(e,r);if(n||Rm(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=G(t,i),a=G(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var FL=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return kt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Cr.all))},UL=(e,t,r)=>!e||!t||e===t||_a(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),zL=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,VL=(e,t)=>!ud(G(e,t)).length&&et(e,t),BL=(e,t,r)=>{const n=_a(G(e,r));return je(n,"root",t[r]),je(e,r,n),e},_c=e=>Wr(e);function $y(e,t,r="validate"){if(_c(e)||Array.isArray(e)&&e.every(_c)||Ht(e)&&!e)return{type:r,message:_c(e)?e:"",ref:t}}var ki=e=>Ye(e)&&!lu(e)?e:{value:e,message:""},Oy=async(e,t,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:d,min:f,max:h,pattern:p,validate:b,name:v,valueAsNumber:x,mount:g}=e._f,y=G(r,v);if(!g||t.has(v))return{};const w=a?a[0]:o,_=R=>{s&&w.reportValidity&&(w.setCustomValidity(Ht(R)?"":R||""),w.reportValidity())},S={},E=$m(o),j=yl(o),C=E||j,P=(x||Am(o))&&Ze(o.value)&&Ze(y)||ou(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,M=N1.bind(null,v,n,S),F=(R,D,L,W=on.maxLength,Y=on.minLength)=>{const te=R?D:L;S[v]={type:R?W:Y,message:te,ref:o,...M(R?W:Y,te)}};if(i?!Array.isArray(y)||!y.length:l&&(!C&&(P||Ct(y))||Ht(y)&&!y||j&&!$1(a).isValid||E&&!L1(a).isValid)){const{value:R,message:D}=_c(l)?{value:!!l,message:l}:ki(l);if(R&&(S[v]={type:on.required,message:D,ref:w,...M(on.required,D)},!n))return _(D),S}if(!P&&(!Ct(f)||!Ct(h))){let R,D;const L=ki(h),W=ki(f);if(!Ct(y)&&!isNaN(y)){const Y=o.valueAsNumber||y&&+y;Ct(L.value)||(R=Y>L.value),Ct(W.value)||(D=Y<W.value)}else{const Y=o.valueAsDate||new Date(y),te=H=>new Date(new Date().toDateString()+" "+H),T=o.type=="time",I=o.type=="week";Wr(L.value)&&y&&(R=T?te(y)>te(L.value):I?y>L.value:Y>new Date(L.value)),Wr(W.value)&&y&&(D=T?te(y)<te(W.value):I?y<W.value:Y<new Date(W.value))}if((R||D)&&(F(!!R,L.message,W.message,on.max,on.min),!n))return _(S[v].message),S}if((c||d)&&!P&&(Wr(y)||i&&Array.isArray(y))){const R=ki(c),D=ki(d),L=!Ct(R.value)&&y.length>+R.value,W=!Ct(D.value)&&y.length<+D.value;if((L||W)&&(F(L,R.message,D.message),!n))return _(S[v].message),S}if(p&&!P&&Wr(y)){const{value:R,message:D}=ki(p);if(lu(R)&&!y.match(R)&&(S[v]={type:on.pattern,message:D,ref:o,...M(on.pattern,D)},!n))return _(D),S}if(b){if(jr(b)){const R=await b(y,r),D=$y(R,w);if(D&&(S[v]={...D,...M(on.validate,D.message)},!n))return _(D.message),S}else if(Ye(b)){let R={};for(const D in b){if(!kt(R)&&!n)break;const L=$y(await b[D](y,r),w,D);L&&(R={...L,...M(D,L.message)},_(L.message),n&&(S[v]=R))}if(!kt(R)&&(S[v]={ref:w,...R},!n))return S}}return _(!0),S};const qL={mode:Cr.onSubmit,reValidateMode:Cr.onChange,shouldFocusError:!0};function WL(e={}){let t={...qL,...e},r={submitCount:0,isDirty:!1,isLoading:jr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=Ye(t.defaultValues)||Ye(t.values)?ut(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:ut(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:ky(),state:ky()},p=Ny(t.mode),b=Ny(t.reValidateMode),v=t.criteriaMode===Cr.all,x=k=>N=>{clearTimeout(c),c=setTimeout(k,N)},g=async k=>{if(!t.disabled&&(d.isValid||f.isValid||k)){const N=t.resolver?kt((await P()).errors):await F(n,!0);N!==r.isValid&&h.state.next({isValid:N})}},y=(k,N)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((k||Array.from(a.mount)).forEach(A=>{A&&(N?je(r.validatingFields,A,N):et(r.validatingFields,A))}),h.state.next({validatingFields:r.validatingFields,isValidating:!kt(r.validatingFields)}))},w=(k,N=[],A,Q,B=!0,z=!0)=>{if(Q&&A&&!t.disabled){if(o.action=!0,z&&Array.isArray(G(n,k))){const ee=A(G(n,k),Q.argA,Q.argB);B&&je(n,k,ee)}if(z&&Array.isArray(G(r.errors,k))){const ee=A(G(r.errors,k),Q.argA,Q.argB);B&&je(r.errors,k,ee),VL(r.errors,k)}if((d.touchedFields||f.touchedFields)&&z&&Array.isArray(G(r.touchedFields,k))){const ee=A(G(r.touchedFields,k),Q.argA,Q.argB);B&&je(r.touchedFields,k,ee)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Zo(s,i)),h.state.next({name:k,isDirty:D(k,N),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else je(i,k,N)},_=(k,N)=>{je(r.errors,k,N),h.state.next({errors:r.errors})},S=k=>{r.errors=k,h.state.next({errors:r.errors,isValid:!1})},E=(k,N,A,Q)=>{const B=G(n,k);if(B){const z=G(i,k,Ze(A)?G(s,k):A);Ze(z)||Q&&Q.defaultChecked||N?je(i,k,N?z:Py(B._f)):Y(k,z),o.mount&&g()}},j=(k,N,A,Q,B)=>{let z=!1,ee=!1;const xe={name:k};if(!t.disabled){if(!A||Q){(d.isDirty||f.isDirty)&&(ee=r.isDirty,r.isDirty=xe.isDirty=D(),z=ee!==xe.isDirty);const $e=Qn(G(s,k),N);ee=!!G(r.dirtyFields,k),$e?et(r.dirtyFields,k):je(r.dirtyFields,k,!0),xe.dirtyFields=r.dirtyFields,z=z||(d.dirtyFields||f.dirtyFields)&&ee!==!$e}if(A){const $e=G(r.touchedFields,k);$e||(je(r.touchedFields,k,A),xe.touchedFields=r.touchedFields,z=z||(d.touchedFields||f.touchedFields)&&$e!==A)}z&&B&&h.state.next(xe)}return z?xe:{}},C=(k,N,A,Q)=>{const B=G(r.errors,k),z=(d.isValid||f.isValid)&&Ht(N)&&r.isValid!==N;if(t.delayError&&A?(l=x(()=>_(k,A)),l(t.delayError)):(clearTimeout(c),l=null,A?je(r.errors,k,A):et(r.errors,k)),(A?!Qn(B,A):B)||!kt(Q)||z){const ee={...Q,...z&&Ht(N)?{isValid:N}:{},errors:r.errors,name:k};r={...r,...ee},h.state.next(ee)}},P=async k=>{y(k,!0);const N=await t.resolver(i,t.context,IL(k||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(k),N},M=async k=>{const{errors:N}=await P(k);if(k)for(const A of k){const Q=G(N,A);Q?je(r.errors,A,Q):et(r.errors,A)}else r.errors=N;return N},F=async(k,N,A={valid:!0})=>{for(const Q in k){const B=k[Q];if(B){const{_f:z,...ee}=B;if(z){const xe=a.array.has(z.name),$e=B._f&&ML(B._f);$e&&d.validatingFields&&y([Q],!0);const st=await Oy(B,a.disabled,i,v,t.shouldUseNativeValidation&&!N,xe);if($e&&d.validatingFields&&y([Q]),st[z.name]&&(A.valid=!1,N))break;!N&&(G(st,z.name)?xe?BL(r.errors,st,z.name):je(r.errors,z.name,st[z.name]):et(r.errors,z.name))}!kt(ee)&&await F(ee,N,A)}}return A.valid},R=()=>{for(const k of a.unMount){const N=G(n,k);N&&(N._f.refs?N._f.refs.every(A=>!Sf(A)):!Sf(N._f.ref))&&we(k)}a.unMount=new Set},D=(k,N)=>!t.disabled&&(k&&N&&je(i,k,N),!Qn(se(),s)),L=(k,N,A)=>j1(k,a,{...o.mount?i:Ze(N)?s:Wr(k)?{[k]:N}:N},A,N),W=k=>ud(G(o.mount?i:s,k,t.shouldUnregister?G(s,k,[]):[])),Y=(k,N,A={})=>{const Q=G(n,k);let B=N;if(Q){const z=Q._f;z&&(!z.disabled&&je(i,k,O1(N,z)),B=ou(z.ref)&&Ct(N)?"":N,T1(z.ref)?[...z.ref.options].forEach(ee=>ee.selected=B.includes(ee.value)):z.refs?yl(z.ref)?z.refs.length>1?z.refs.forEach(ee=>(!ee.defaultChecked||!ee.disabled)&&(ee.checked=Array.isArray(B)?!!B.find(xe=>xe===ee.value):B===ee.value)):z.refs[0]&&(z.refs[0].checked=!!B):z.refs.forEach(ee=>ee.checked=ee.value===B):Am(z.ref)?z.ref.value="":(z.ref.value=B,z.ref.type||h.state.next({name:k,values:ut(i)})))}(A.shouldDirty||A.shouldTouch)&&j(k,B,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&ae(k)},te=(k,N,A)=>{for(const Q in N){const B=N[Q],z=`${k}.${Q}`,ee=G(n,z);(a.array.has(k)||Ye(B)||ee&&!ee._f)&&!Hs(B)?te(z,B,A):Y(z,B,A)}},T=(k,N,A={})=>{const Q=G(n,k),B=a.array.has(k),z=ut(N);je(i,k,z),B?(h.array.next({name:k,values:ut(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&A.shouldDirty&&h.state.next({name:k,dirtyFields:Zo(s,i),isDirty:D(k,z)})):Q&&!Q._f&&!Ct(z)?te(k,z,A):Y(k,z,A),Ry(k,a)&&h.state.next({...r}),h.state.next({name:o.mount?k:void 0,values:ut(i)})},I=async k=>{o.mount=!0;const N=k.target;let A=N.name,Q=!0;const B=G(n,A),z=ee=>{Q=Number.isNaN(ee)||Hs(ee)&&isNaN(ee.getTime())||Qn(ee,G(i,A,ee))};if(B){let ee,xe;const $e=N.type?Py(B._f):_1(k),st=k.type===iu.BLUR||k.type===iu.FOCUS_OUT,wl=!DL(B._f)&&!t.resolver&&!G(r.errors,A)&&!B._f.deps||zL(st,G(r.touchedFields,A),r.isSubmitted,b,p),$s=Ry(A,a,st);je(i,A,$e),st?(B._f.onBlur&&B._f.onBlur(k),l&&l(0)):B._f.onChange&&B._f.onChange(k);const Ir=j(A,$e,st),xl=!kt(Ir)||$s;if(!st&&h.state.next({name:A,type:k.type,values:ut(i)}),wl)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?st&&g():st||g()),xl&&h.state.next({name:A,...$s?{}:Ir});if(!st&&$s&&h.state.next({...r}),t.resolver){const{errors:rn}=await P([A]);if(z($e),Q){const bd=Ay(r.errors,n,A),bl=Ay(rn,n,bd.name||A);ee=bl.error,A=bl.name,xe=kt(rn)}}else y([A],!0),ee=(await Oy(B,a.disabled,i,v,t.shouldUseNativeValidation))[A],y([A]),z($e),Q&&(ee?xe=!1:(d.isValid||f.isValid)&&(xe=await F(n,!0)));Q&&(B._f.deps&&ae(B._f.deps),C(A,xe,ee,Ir))}},H=(k,N)=>{if(G(r.errors,N)&&k.focus)return k.focus(),1},ae=async(k,N={})=>{let A,Q;const B=_a(k);if(t.resolver){const z=await M(Ze(k)?k:B);A=kt(z),Q=k?!B.some(ee=>G(z,ee)):A}else k?(Q=(await Promise.all(B.map(async z=>{const ee=G(n,z);return await F(ee&&ee._f?{[z]:ee}:ee)}))).every(Boolean),!(!Q&&!r.isValid)&&g()):Q=A=await F(n);return h.state.next({...!Wr(k)||(d.isValid||f.isValid)&&A!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:A}:{},errors:r.errors}),N.shouldFocus&&!Q&&Sa(n,H,k?B:a.mount),Q},se=k=>{const N={...o.mount?i:s};return Ze(k)?N:Wr(k)?G(N,k):k.map(A=>G(N,A))},re=(k,N)=>({invalid:!!G((N||r).errors,k),isDirty:!!G((N||r).dirtyFields,k),error:G((N||r).errors,k),isValidating:!!G(r.validatingFields,k),isTouched:!!G((N||r).touchedFields,k)}),oe=k=>{k&&_a(k).forEach(N=>et(r.errors,N)),h.state.next({errors:k?r.errors:{}})},be=(k,N,A)=>{const Q=(G(n,k,{_f:{}})._f||{}).ref,B=G(r.errors,k)||{},{ref:z,message:ee,type:xe,...$e}=B;je(r.errors,k,{...$e,...N,ref:Q}),h.state.next({name:k,errors:r.errors,isValid:!1}),A&&A.shouldFocus&&Q&&Q.focus&&Q.focus()},Z=(k,N)=>jr(k)?h.state.subscribe({next:A=>k(L(void 0,N),A)}):L(k,N,!0),q=k=>h.state.subscribe({next:N=>{UL(k.name,N.name,k.exact)&&FL(N,k.formState||d,Tn,k.reRenderRoot)&&k.callback({values:{...i},...r,...N})}}).unsubscribe,ie=k=>(o.mount=!0,f={...f,...k.formState},q({...k,formState:f})),we=(k,N={})=>{for(const A of k?_a(k):a.mount)a.mount.delete(A),a.array.delete(A),N.keepValue||(et(n,A),et(i,A)),!N.keepError&&et(r.errors,A),!N.keepDirty&&et(r.dirtyFields,A),!N.keepTouched&&et(r.touchedFields,A),!N.keepIsValidating&&et(r.validatingFields,A),!t.shouldUnregister&&!N.keepDefaultValue&&et(s,A);h.state.next({values:ut(i)}),h.state.next({...r,...N.keepDirty?{isDirty:D()}:{}}),!N.keepIsValid&&g()},Ge=({disabled:k,name:N})=>{(Ht(k)&&o.mount||k||a.disabled.has(N))&&(k?a.disabled.add(N):a.disabled.delete(N))},pt=(k,N={})=>{let A=G(n,k);const Q=Ht(N.disabled)||Ht(t.disabled);return je(n,k,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:k}},name:k,mount:!0,...N}}),a.mount.add(k),A?Ge({disabled:Ht(N.disabled)?N.disabled:t.disabled,name:k}):E(k,!0,N.value),{...Q?{disabled:N.disabled||t.disabled}:{},...t.progressive?{required:!!N.required,min:Qo(N.min),max:Qo(N.max),minLength:Qo(N.minLength),maxLength:Qo(N.maxLength),pattern:Qo(N.pattern)}:{},name:k,onChange:I,onBlur:I,ref:B=>{if(B){pt(k,N),A=G(n,k);const z=Ze(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,ee=$L(z),xe=A._f.refs||[];if(ee?xe.find($e=>$e===z):z===A._f.ref)return;je(n,k,{_f:{...A._f,...ee?{refs:[...xe.filter(Sf),z,...Array.isArray(G(s,k))?[{}]:[]],ref:{type:z.type,name:k}}:{ref:z}}}),E(k,!1,void 0,z)}else A=G(n,k,{}),A._f&&(A._f.mount=!1),(t.shouldUnregister||N.shouldUnregister)&&!(S1(a.array,k)&&o.action)&&a.unMount.add(k)}}},nt=()=>t.shouldFocusError&&Sa(n,H,a.mount),Ke=k=>{Ht(k)&&(h.state.next({disabled:k}),Sa(n,(N,A)=>{const Q=G(n,A);Q&&(N.disabled=Q._f.disabled||k,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(B=>{B.disabled=Q._f.disabled||k}))},0,!1))},Ts=(k,N)=>async A=>{let Q;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let B=ut(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:z,values:ee}=await P();r.errors=z,B=ee}else await F(n);if(a.disabled.size)for(const z of a.disabled)je(B,z,void 0);if(et(r.errors,"root"),kt(r.errors)){h.state.next({errors:{}});try{await k(B,A)}catch(z){Q=z}}else N&&await N({...r.errors},A),nt(),setTimeout(nt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kt(r.errors)&&!Q,submitCount:r.submitCount+1,errors:r.errors}),Q)throw Q},Mo=(k,N={})=>{G(n,k)&&(Ze(N.defaultValue)?T(k,ut(G(s,k))):(T(k,N.defaultValue),je(s,k,ut(N.defaultValue))),N.keepTouched||et(r.touchedFields,k),N.keepDirty||(et(r.dirtyFields,k),r.isDirty=N.defaultValue?D(k,ut(G(s,k))):D()),N.keepError||(et(r.errors,k),d.isValid&&g()),h.state.next({...r}))},Rs=(k,N={})=>{const A=k?ut(k):s,Q=ut(A),B=kt(k),z=B?s:Q;if(N.keepDefaultValues||(s=A),!N.keepValues){if(N.keepDirtyValues){const ee=new Set([...a.mount,...Object.keys(Zo(s,i))]);for(const xe of Array.from(ee))G(r.dirtyFields,xe)?je(z,xe,G(i,xe)):T(xe,G(z,xe))}else{if(Tm&&Ze(k))for(const ee of a.mount){const xe=G(n,ee);if(xe&&xe._f){const $e=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(ou($e)){const st=$e.closest("form");if(st){st.reset();break}}}}for(const ee of a.mount)T(ee,G(z,ee))}i=ut(z),h.array.next({values:{...z}}),h.state.next({values:{...z}})}a={mount:N.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!N.keepIsValid||!!N.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:N.keepSubmitCount?r.submitCount:0,isDirty:B?!1:N.keepDirty?r.isDirty:!!(N.keepDefaultValues&&!Qn(k,s)),isSubmitted:N.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:B?{}:N.keepDirtyValues?N.keepDefaultValues&&i?Zo(s,i):r.dirtyFields:N.keepDefaultValues&&k?Zo(s,k):N.keepDirty?r.dirtyFields:{},touchedFields:N.keepTouched?r.touchedFields:{},errors:N.keepErrors?r.errors:{},isSubmitSuccessful:N.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},gi=(k,N)=>Rs(jr(k)?k(i):k,N),As=(k,N={})=>{const A=G(n,k),Q=A&&A._f;if(Q){const B=Q.refs?Q.refs[0]:Q.ref;B.focus&&(B.focus(),N.shouldSelect&&jr(B.select)&&B.select())}},Tn=k=>{r={...r,...k}},Rn={control:{register:pt,unregister:we,getFieldState:re,handleSubmit:Ts,setError:be,_subscribe:q,_runSchema:P,_getWatch:L,_getDirty:D,_setValid:g,_setFieldArray:w,_setDisabledField:Ge,_setErrors:S,_getFieldArray:W,_reset:Rs,_resetDefaultValues:()=>jr(t.defaultValues)&&t.defaultValues().then(k=>{gi(k,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Ke,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return a},set _names(k){a=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:ie,trigger:ae,register:pt,handleSubmit:Ts,watch:Z,setValue:T,getValues:se,reset:gi,resetField:Mo,clearErrors:oe,unregister:we,setError:be,setFocus:As,getFieldState:re};return{...Rn,formControl:Rn}}function fd(e={}){const t=$.useRef(void 0),r=$.useRef(void 0),[n,s]=$.useState({isDirty:!1,isValidating:!1,isLoading:jr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:jr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:WL(e),formState:n},e.formControl&&e.defaultValues&&!jr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,$.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),$.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),$.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),$.useEffect(()=>{e.values&&!Qn(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),$.useEffect(()=>{e.errors&&!kt(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),$.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),$.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=C1(n,i),t.current}var HL="Label",I1=m.forwardRef((e,t)=>u.jsx(Be.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));I1.displayName=HL;var M1=I1;const GL=Bu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),D1=m.forwardRef(({className:e,...t},r)=>u.jsx(M1,{ref:r,className:Ae(GL(),e),...t}));D1.displayName=M1.displayName;const hd=NL,F1=m.createContext({}),ci=({...e})=>u.jsx(F1.Provider,{value:{name:e.name},children:u.jsx(AL,{...e})}),pd=()=>{const e=m.useContext(F1),t=m.useContext(U1),{getFieldState:r,formState:n}=dd(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},U1=m.createContext({}),xs=m.forwardRef(({className:e,...t},r)=>{const n=m.useId();return u.jsx(U1.Provider,{value:{id:n},children:u.jsx("div",{ref:r,className:Ae("space-y-2",e),...t})})});xs.displayName="FormItem";const bs=m.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=pd();return u.jsx(D1,{ref:r,className:Ae(n&&"text-destructive",e),htmlFor:s,...t})});bs.displayName="FormLabel";const _s=m.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=pd();return u.jsx(wx,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});_s.displayName="FormControl";const KL=m.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=pd();return u.jsx("p",{ref:r,id:n,className:Ae("text-sm text-muted-foreground",e),...t})});KL.displayName="FormDescription";const Ss=m.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=pd(),o=s?String(s==null?void 0:s.message):t;return o?u.jsx("p",{ref:n,id:i,className:Ae("text-sm font-medium text-destructive",e),...r,children:o}):null});Ss.displayName="FormMessage";var _e;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(_e||(_e={}));var Ly;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Ly||(Ly={}));const J=_e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hn=e=>{switch(typeof e){case"undefined":return J.undefined;case"string":return J.string;case"number":return isNaN(e)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(e)?J.array:e===null?J.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?J.promise:typeof Map<"u"&&e instanceof Map?J.map:typeof Set<"u"&&e instanceof Set?J.set:typeof Date<"u"&&e instanceof Date?J.date:J.object;default:return J.unknown}},U=_e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ar extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(t){if(!(t instanceof ar))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ar.create=e=>new ar(e);const Xa=(e,t)=>{let r;switch(e.code){case U.invalid_type:e.received===J.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case U.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,_e.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:r=`Unrecognized key(s) in object: ${_e.joinValues(e.keys,", ")}`;break;case U.invalid_union:r="Invalid input";break;case U.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${_e.joinValues(e.options)}`;break;case U.invalid_enum_value:r=`Invalid enum value. Expected ${_e.joinValues(e.options)}, received '${e.received}'`;break;case U.invalid_arguments:r="Invalid function arguments";break;case U.invalid_return_type:r="Invalid function return type";break;case U.invalid_date:r="Invalid date";break;case U.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:_e.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case U.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case U.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case U.custom:r="Invalid input";break;case U.invalid_intersection_types:r="Intersection results could not be merged";break;case U.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case U.not_finite:r="Number must be finite";break;default:r=t.defaultError,_e.assertNever(e)}return{message:r}};let ZL=Xa;function Wh(){return ZL}const Hh=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}};function K(e,t){const r=Wh(),n=Hh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Xa?void 0:Xa].filter(s=>!!s)});e.common.issues.push(n)}class Nt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ce;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Nt.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ce;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const ce=Object.freeze({status:"aborted"}),sa=e=>({status:"dirty",value:e}),Vt=e=>({status:"valid",value:e}),Iy=e=>e.status==="aborted",My=e=>e.status==="dirty",wo=e=>e.status==="valid",cu=e=>typeof Promise<"u"&&e instanceof Promise;function uu(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function z1(e,t,r,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ne;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ne||(ne={}));var ia,oa;class en{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Dy=(e,t)=>{if(wo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ar(e.common.issues);return this._error=r,this._error}}};function fe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{var l,c;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??r)!==null&&c!==void 0?c:a.defaultError}},description:s}}class me{get description(){return this._def.description}_getType(t){return Hn(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Hn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Nt,ctx:{common:t.parent.common,data:t.data,parsedType:Hn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(cu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hn(t)},i=this._parseSync({data:t,path:s.path,parent:s});return Dy(s,i)}"~validate"(t){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hn(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return wo(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>wo(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hn(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(cu(s)?s:Promise.resolve(s));return Dy(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:U.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new jn({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return yn.create(this,this._def)}nullable(){return di.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zr.create(this)}promise(){return tl.create(this,this._def)}or(t){return hu.create([this,t],this._def)}and(t){return pu.create(this,t,this._def)}transform(t){return new jn({...fe(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new wu({...fe(this._def),innerType:this,defaultValue:r,typeName:le.ZodDefault})}brand(){return new W1({typeName:le.ZodBranded,type:this,...fe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new xu({...fe(this._def),innerType:this,catchValue:r,typeName:le.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return md.create(this,t)}readonly(){return bu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const QL=/^c[^\s-]{8,}$/i,YL=/^[0-9a-z]+$/,JL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,e4=/^[a-z0-9_-]{21}$/i,t4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,r4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,n4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,s4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kf;const i4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,o4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,a4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,l4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,c4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,u4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,V1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",d4=new RegExp(`^${V1}$`);function B1(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function f4(e){return new RegExp(`^${B1(e)}$`)}function h4(e){let t=`${V1}T${B1(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function p4(e,t){return!!((t==="v4"||!t)&&i4.test(e)||(t==="v6"||!t)&&a4.test(e))}function m4(e,t){if(!t4.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function g4(e,t){return!!((t==="v4"||!t)&&o4.test(e)||(t==="v6"||!t)&&l4.test(e))}class mn extends me{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==J.string){const i=this._getOrReturnCtx(t);return K(i,{code:U.invalid_type,expected:J.string,received:i.parsedType}),ce}const n=new Nt;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),K(s,{code:U.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),K(s,{code:U.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?K(s,{code:U.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&K(s,{code:U.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")n4.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"email",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")kf||(kf=new RegExp(s4,"u")),kf.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"emoji",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")XL.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"uuid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")e4.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"nanoid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")QL.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"cuid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")YL.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"cuid2",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")JL.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"ulid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),K(s,{validation:"url",code:U.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"regex",code:U.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),K(s,{code:U.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),K(s,{code:U.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),K(s,{code:U.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?h4(i).test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{code:U.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?d4.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{code:U.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?f4(i).test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{code:U.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?r4.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"duration",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?p4(t.data,i.version)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"ip",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?m4(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"jwt",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?g4(t.data,i.version)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"cidr",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?c4.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"base64",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?u4.test(t.data)||(s=this._getOrReturnCtx(t,s),K(s,{validation:"base64url",code:U.invalid_string,message:i.message}),n.dirty()):_e.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:U.invalid_string,...ne.errToObj(n)})}_addCheck(t){return new mn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ne.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ne.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ne.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ne.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...ne.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ne.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ne.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ne.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ne.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ne.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ne.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ne.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ne.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ne.errToObj(r)})}nonempty(t){return this.min(1,ne.errToObj(t))}trim(){return new mn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}mn.create=e=>{var t;return new mn({checks:[],typeName:le.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...fe(e)})};function v4(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class xo extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==J.number){const i=this._getOrReturnCtx(t);return K(i,{code:U.invalid_type,expected:J.number,received:i.parsedType}),ce}let n;const s=new Nt;for(const i of this._def.checks)i.kind==="int"?_e.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),K(n,{code:U.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),K(n,{code:U.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),K(n,{code:U.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?v4(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),K(n,{code:U.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),K(n,{code:U.not_finite,message:i.message}),s.dirty()):_e.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ne.toString(r))}setLimit(t,r,n,s){return new xo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ne.toString(s)}]})}_addCheck(t){return new xo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ne.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&_e.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}xo.create=e=>new xo({checks:[],typeName:le.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class bo extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==J.bigint)return this._getInvalidInput(t);let n;const s=new Nt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),K(n,{code:U.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),K(n,{code:U.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),K(n,{code:U.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):_e.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return K(r,{code:U.invalid_type,expected:J.bigint,received:r.parsedType}),ce}gte(t,r){return this.setLimit("min",t,!0,ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ne.toString(r))}setLimit(t,r,n,s){return new bo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ne.toString(s)}]})}_addCheck(t){return new bo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}bo.create=e=>{var t;return new bo({checks:[],typeName:le.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...fe(e)})};class Gh extends me{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==J.boolean){const n=this._getOrReturnCtx(t);return K(n,{code:U.invalid_type,expected:J.boolean,received:n.parsedType}),ce}return Vt(t.data)}}Gh.create=e=>new Gh({typeName:le.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class el extends me{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==J.date){const i=this._getOrReturnCtx(t);return K(i,{code:U.invalid_type,expected:J.date,received:i.parsedType}),ce}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return K(i,{code:U.invalid_date}),ce}const n=new Nt;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),K(s,{code:U.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),K(s,{code:U.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):_e.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new el({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ne.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ne.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}el.create=e=>new el({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:le.ZodDate,...fe(e)});class Kh extends me{_parse(t){if(this._getType(t)!==J.symbol){const n=this._getOrReturnCtx(t);return K(n,{code:U.invalid_type,expected:J.symbol,received:n.parsedType}),ce}return Vt(t.data)}}Kh.create=e=>new Kh({typeName:le.ZodSymbol,...fe(e)});class du extends me{_parse(t){if(this._getType(t)!==J.undefined){const n=this._getOrReturnCtx(t);return K(n,{code:U.invalid_type,expected:J.undefined,received:n.parsedType}),ce}return Vt(t.data)}}du.create=e=>new du({typeName:le.ZodUndefined,...fe(e)});class fu extends me{_parse(t){if(this._getType(t)!==J.null){const n=this._getOrReturnCtx(t);return K(n,{code:U.invalid_type,expected:J.null,received:n.parsedType}),ce}return Vt(t.data)}}fu.create=e=>new fu({typeName:le.ZodNull,...fe(e)});class Zh extends me{constructor(){super(...arguments),this._any=!0}_parse(t){return Vt(t.data)}}Zh.create=e=>new Zh({typeName:le.ZodAny,...fe(e)});class Qi extends me{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Vt(t.data)}}Qi.create=e=>new Qi({typeName:le.ZodUnknown,...fe(e)});class ks extends me{_parse(t){const r=this._getOrReturnCtx(t);return K(r,{code:U.invalid_type,expected:J.never,received:r.parsedType}),ce}}ks.create=e=>new ks({typeName:le.ZodNever,...fe(e)});class Qh extends me{_parse(t){if(this._getType(t)!==J.undefined){const n=this._getOrReturnCtx(t);return K(n,{code:U.invalid_type,expected:J.void,received:n.parsedType}),ce}return Vt(t.data)}}Qh.create=e=>new Qh({typeName:le.ZodVoid,...fe(e)});class Zr extends me{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==J.array)return K(r,{code:U.invalid_type,expected:J.array,received:r.parsedType}),ce;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(K(r,{code:o?U.too_big:U.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(K(r,{code:U.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(K(r,{code:U.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new en(r,o,r.path,a)))).then(o=>Nt.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new en(r,o,r.path,a)));return Nt.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Zr({...this._def,minLength:{value:t,message:ne.toString(r)}})}max(t,r){return new Zr({...this._def,maxLength:{value:t,message:ne.toString(r)}})}length(t,r){return new Zr({...this._def,exactLength:{value:t,message:ne.toString(r)}})}nonempty(t){return this.min(1,t)}}Zr.create=(e,t)=>new Zr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...fe(t)});function Ci(e){if(e instanceof We){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=yn.create(Ci(n))}return new We({...e._def,shape:()=>t})}else return e instanceof Zr?new Zr({...e._def,type:Ci(e.element)}):e instanceof yn?yn.create(Ci(e.unwrap())):e instanceof di?di.create(Ci(e.unwrap())):e instanceof Cn?Cn.create(e.items.map(t=>Ci(t))):e}class We extends me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=_e.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==J.object){const c=this._getOrReturnCtx(t);return K(c,{code:U.invalid_type,expected:J.object,received:c.parsedType}),ce}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ks&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new en(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ks){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(K(s,{code:U.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new en(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>Nt.mergeObjectSync(n,c)):Nt.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return ne.errToObj,new We({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ne.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new We({...this._def,unknownKeys:"strip"})}passthrough(){return new We({...this._def,unknownKeys:"passthrough"})}extend(t){return new We({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new We({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:le.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new We({...this._def,catchall:t})}pick(t){const r={};return _e.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new We({...this._def,shape:()=>r})}omit(t){const r={};return _e.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new We({...this._def,shape:()=>r})}deepPartial(){return Ci(this)}partial(t){const r={};return _e.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new We({...this._def,shape:()=>r})}required(t){const r={};return _e.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof yn;)i=i._def.innerType;r[n]=i}}),new We({...this._def,shape:()=>r})}keyof(){return q1(_e.objectKeys(this.shape))}}We.create=(e,t)=>new We({shape:()=>e,unknownKeys:"strip",catchall:ks.create(),typeName:le.ZodObject,...fe(t)});We.strictCreate=(e,t)=>new We({shape:()=>e,unknownKeys:"strict",catchall:ks.create(),typeName:le.ZodObject,...fe(t)});We.lazycreate=(e,t)=>new We({shape:e,unknownKeys:"strip",catchall:ks.create(),typeName:le.ZodObject,...fe(t)});class hu extends me{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new ar(a.ctx.common.issues));return K(r,{code:U.invalid_union,unionErrors:o}),ce}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new ar(l));return K(r,{code:U.invalid_union,unionErrors:a}),ce}}get options(){return this._def.options}}hu.create=(e,t)=>new hu({options:e,typeName:le.ZodUnion,...fe(t)});const ln=e=>e instanceof gu?ln(e.schema):e instanceof jn?ln(e.innerType()):e instanceof vu?[e.value]:e instanceof ui?e.options:e instanceof yu?_e.objectValues(e.enum):e instanceof wu?ln(e._def.innerType):e instanceof du?[void 0]:e instanceof fu?[null]:e instanceof yn?[void 0,...ln(e.unwrap())]:e instanceof di?[null,...ln(e.unwrap())]:e instanceof W1||e instanceof bu?ln(e.unwrap()):e instanceof xu?ln(e._def.innerType):[];class Om extends me{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==J.object)return K(r,{code:U.invalid_type,expected:J.object,received:r.parsedType}),ce;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(K(r,{code:U.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=ln(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Om({typeName:le.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...fe(n)})}}function Yh(e,t){const r=Hn(e),n=Hn(t);if(e===t)return{valid:!0,data:e};if(r===J.object&&n===J.object){const s=_e.objectKeys(t),i=_e.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const l=Yh(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===J.array&&n===J.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],l=Yh(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===J.date&&n===J.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class pu extends me{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(Iy(i)||Iy(o))return ce;const a=Yh(i.value,o.value);return a.valid?((My(i)||My(o))&&r.dirty(),{status:r.value,value:a.data}):(K(n,{code:U.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}pu.create=(e,t,r)=>new pu({left:e,right:t,typeName:le.ZodIntersection,...fe(r)});class Cn extends me{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==J.array)return K(n,{code:U.invalid_type,expected:J.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return K(n,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(K(n,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new en(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Nt.mergeArray(r,o)):Nt.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Cn({...this._def,rest:t})}}Cn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cn({items:e,typeName:le.ZodTuple,rest:null,...fe(t)})};class mu extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==J.object)return K(n,{code:U.invalid_type,expected:J.object,received:n.parsedType}),ce;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new en(n,a,n.path,a)),value:o._parse(new en(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?Nt.mergeObjectAsync(r,s):Nt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof me?new mu({keyType:t,valueType:r,typeName:le.ZodRecord,...fe(n)}):new mu({keyType:mn.create(),valueType:t,typeName:le.ZodRecord,...fe(r)})}}class Jh extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==J.map)return K(n,{code:U.invalid_type,expected:J.map,received:n.parsedType}),ce;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new en(n,a,n.path,[c,"key"])),value:i._parse(new en(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return ce;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return ce;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}}}}Jh.create=(e,t,r)=>new Jh({valueType:t,keyType:e,typeName:le.ZodMap,...fe(r)});class _o extends me{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==J.set)return K(n,{code:U.invalid_type,expected:J.set,received:n.parsedType}),ce;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(K(n,{code:U.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(K(n,{code:U.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return ce;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>i._parse(new en(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,r){return new _o({...this._def,minSize:{value:t,message:ne.toString(r)}})}max(t,r){return new _o({...this._def,maxSize:{value:t,message:ne.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}_o.create=(e,t)=>new _o({valueType:e,minSize:null,maxSize:null,typeName:le.ZodSet,...fe(t)});class ka extends me{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==J.function)return K(r,{code:U.invalid_type,expected:J.function,received:r.parsedType}),ce;function n(a,l){return Hh({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Wh(),Xa].filter(c=>!!c),issueData:{code:U.invalid_arguments,argumentsError:l}})}function s(a,l){return Hh({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Wh(),Xa].filter(c=>!!c),issueData:{code:U.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof tl){const a=this;return Vt(async function(...l){const c=new ar([]),d=await a._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(n(l,p)),c}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,i).catch(p=>{throw c.addIssue(s(f,p)),c})})}else{const a=this;return Vt(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new ar([n(l,c.error)]);const d=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(d,i);if(!f.success)throw new ar([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ka({...this._def,args:Cn.create(t).rest(Qi.create())})}returns(t){return new ka({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new ka({args:t||Cn.create([]).rest(Qi.create()),returns:r||Qi.create(),typeName:le.ZodFunction,...fe(n)})}}class gu extends me{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}gu.create=(e,t)=>new gu({getter:e,typeName:le.ZodLazy,...fe(t)});class vu extends me{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return K(r,{received:r.data,code:U.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:t.data}}get value(){return this._def.value}}vu.create=(e,t)=>new vu({value:e,typeName:le.ZodLiteral,...fe(t)});function q1(e,t){return new ui({values:e,typeName:le.ZodEnum,...fe(t)})}class ui extends me{constructor(){super(...arguments),ia.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return K(r,{expected:_e.joinValues(n),received:r.parsedType,code:U.invalid_type}),ce}if(uu(this,ia)||z1(this,ia,new Set(this._def.values)),!uu(this,ia).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return K(r,{received:r.data,code:U.invalid_enum_value,options:n}),ce}return Vt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ui.create(t,{...this._def,...r})}exclude(t,r=this._def){return ui.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ia=new WeakMap;ui.create=q1;class yu extends me{constructor(){super(...arguments),oa.set(this,void 0)}_parse(t){const r=_e.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==J.string&&n.parsedType!==J.number){const s=_e.objectValues(r);return K(n,{expected:_e.joinValues(s),received:n.parsedType,code:U.invalid_type}),ce}if(uu(this,oa)||z1(this,oa,new Set(_e.getValidEnumValues(this._def.values))),!uu(this,oa).has(t.data)){const s=_e.objectValues(r);return K(n,{received:n.data,code:U.invalid_enum_value,options:s}),ce}return Vt(t.data)}get enum(){return this._def.values}}oa=new WeakMap;yu.create=(e,t)=>new yu({values:e,typeName:le.ZodNativeEnum,...fe(t)});class tl extends me{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==J.promise&&r.common.async===!1)return K(r,{code:U.invalid_type,expected:J.promise,received:r.parsedType}),ce;const n=r.parsedType===J.promise?r.data:Promise.resolve(r.data);return Vt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}tl.create=(e,t)=>new tl({type:e,typeName:le.ZodPromise,...fe(t)});class jn extends me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{K(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return ce;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?ce:l.status==="dirty"||r.value==="dirty"?sa(l.value):l});{if(r.value==="aborted")return ce;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?ce:a.status==="dirty"||r.value==="dirty"?sa(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ce:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ce:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wo(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>wo(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);_e.assertNever(s)}}jn.create=(e,t,r)=>new jn({schema:e,typeName:le.ZodEffects,effect:t,...fe(r)});jn.createWithPreprocess=(e,t,r)=>new jn({schema:t,effect:{type:"preprocess",transform:e},typeName:le.ZodEffects,...fe(r)});class yn extends me{_parse(t){return this._getType(t)===J.undefined?Vt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yn.create=(e,t)=>new yn({innerType:e,typeName:le.ZodOptional,...fe(t)});class di extends me{_parse(t){return this._getType(t)===J.null?Vt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}di.create=(e,t)=>new di({innerType:e,typeName:le.ZodNullable,...fe(t)});class wu extends me{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===J.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}wu.create=(e,t)=>new wu({innerType:e,typeName:le.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...fe(t)});class xu extends me{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return cu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ar(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ar(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}xu.create=(e,t)=>new xu({innerType:e,typeName:le.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...fe(t)});class Xh extends me{_parse(t){if(this._getType(t)!==J.nan){const n=this._getOrReturnCtx(t);return K(n,{code:U.invalid_type,expected:J.nan,received:n.parsedType}),ce}return{status:"valid",value:t.data}}}Xh.create=e=>new Xh({typeName:le.ZodNaN,...fe(e)});class W1 extends me{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class md extends me{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ce:i.status==="dirty"?(r.dirty(),sa(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ce:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new md({in:t,out:r,typeName:le.ZodPipeline})}}class bu extends me{_parse(t){const r=this._def.innerType._parse(t),n=s=>(wo(s)&&(s.value=Object.freeze(s.value)),s);return cu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}bu.create=(e,t)=>new bu({innerType:e,typeName:le.ZodReadonly,...fe(t)});We.lazycreate;var le;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(le||(le={}));const ti=mn.create;xo.create;Xh.create;bo.create;Gh.create;el.create;Kh.create;du.create;fu.create;Zh.create;Qi.create;ks.create;Qh.create;Zr.create;const gd=We.create;We.strictCreate;hu.create;Om.create;pu.create;Cn.create;mu.create;Jh.create;_o.create;ka.create;gu.create;vu.create;ui.create;yu.create;tl.create;jn.create;yn.create;di.create;jn.createWithPreprocess;md.create;const Fy=(e,t,r)=>{if(e&&"reportValidity"in e){const n=G(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},H1=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Fy(n.ref,r,e):n.refs&&n.refs.forEach(s=>Fy(s,r,e))}},y4=(e,t)=>{t.shouldUseNativeValidation&&H1(e,t);const r={};for(const n in e){const s=G(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(w4(t.names||Object.keys(e),n)){const o=Object.assign({},G(r,n));je(o,"root",i),je(r,n,o)}else je(r,n,i)}return r},w4=(e,t)=>e.some(r=>r.startsWith(t+"."));var x4=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,c=l&&l[n.code];r[o]=N1(o,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r},vd=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(c){return i.shouldUseNativeValidation&&H1({},i),{errors:{},values:r.raw?n:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:y4(x4(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const b4=gd({email:ti().email("Email inválido"),password:ti().min(1,"Contraseña requerida")}),_4=({onResetClick:e,onRecoveryClick:t})=>{const{signIn:r}=tr(),{toast:n}=_t(),s=fd({resolver:vd(b4),defaultValues:{email:"",password:""}}),i=async o=>{const{email:a,password:l}=o,{data:c,error:d}=await r(a,l);!d&&(c!=null&&c.user)&&n({title:"Inicio de sesión exitoso",description:"Bienvenido de nuevo"})};return u.jsxs(hd,{...s,children:[u.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[u.jsx(ci,{control:s.control,name:"email",render:({field:o})=>u.jsxs(xs,{children:[u.jsx(bs,{children:"Correo electrónico"}),u.jsx(_s,{children:u.jsx(Or,{...o,type:"email",placeholder:"tu@email.com"})}),u.jsx(Ss,{})]})}),u.jsx(ci,{control:s.control,name:"password",render:({field:o})=>u.jsxs(xs,{children:[u.jsx(bs,{children:"Contraseña"}),u.jsx(_s,{children:u.jsx(Or,{...o,type:"password",placeholder:"********"})}),u.jsx(Ss,{})]})}),u.jsxs(ye,{type:"submit",className:"w-full",disabled:s.formState.isSubmitting,children:[s.formState.isSubmitting?u.jsx(Po,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Iniciar sesión"]})]}),u.jsxs("div",{className:"mt-4 text-center space-y-2",children:[u.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:underline block",children:"¿Olvidaste tu contraseña?"}),u.jsx("button",{onClick:t,className:"text-sm text-blue-600 hover:underline block",children:"¿Olvidaste tu patrón de desbloqueo?"})]})]})},S4=({control:e,name:t})=>{const[r,n]=m.useState(!1),[s,i]=m.useState(null),[o,a]=m.useState(null),l=P1({control:e,name:t}),c=async d=>{if(d.length<8){i(null);return}n(!0);try{const{data:f,error:h}=await Ce.from("profiles").select("username").ilike("username",d).limit(1);h?(console.error("Error al verificar nombre de usuario:",h),i(!1)):f&&f.length>0?i(!1):i(!0)}catch(f){console.error("Error al verificar nombre de usuario:",f),i(!1)}finally{n(!1)}};return m.useEffect(()=>{if(o&&clearTimeout(o),l&&l.length>=8){const d=setTimeout(()=>{c(l)},500);a(d)}else i(null);return()=>{o&&clearTimeout(o)}},[l]),u.jsx(ci,{control:e,name:t,render:({field:d})=>u.jsxs(xs,{children:[u.jsx(bs,{children:"Nombre de usuario"}),u.jsx(_s,{children:u.jsxs("div",{className:"relative",children:[u.jsx(Or,{...d,placeholder:"usuario123",className:`pr-10 ${s===!0?"border-green-500":s===!1?"border-red-500":""}`}),u.jsxs("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:[r&&u.jsx(Po,{className:"h-4 w-4 text-gray-400 animate-spin"}),!r&&s===!0&&u.jsx("span",{className:"text-green-500",children:"✓"}),!r&&s===!1&&u.jsx("span",{className:"text-red-500",children:"✗"})]})]})}),!r&&s===!1&&u.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Este nombre de usuario ya está en uso"}),!r&&s===!0&&u.jsx("p",{className:"text-xs text-green-500 mt-1",children:"Nombre de usuario disponible"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este será tu identificador único en dScrt. Otros usuarios podrán utilizarlo para encontrarte y comenzar conversaciones contigo."}),u.jsx(Ss,{})]})})},k4=({control:e})=>u.jsx(ci,{control:e,name:"email",render:({field:t})=>u.jsxs(xs,{children:[u.jsx(bs,{children:"Correo electrónico"}),u.jsx(_s,{children:u.jsx(Or,{...t,type:"email",placeholder:"tu@email.com"})}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este correo se utilizará para acceder a tu cuenta y para recuperarla si la olvidas"}),u.jsx(Ss,{})]})}),E4=({control:e})=>u.jsx(ci,{control:e,name:"password",render:({field:t})=>u.jsxs(xs,{children:[u.jsx(bs,{children:"Contraseña"}),u.jsx(_s,{children:u.jsx(Or,{...t,type:"password",placeholder:"********"})}),u.jsx(Ss,{})]})}),C4=gd({username:ti().min(8,"El nombre de usuario debe tener al menos 8 caracteres").max(18,"El nombre de usuario no puede tener más de 18 caracteres").regex(/^[a-zA-Z0-9_]+$/,"Solo se permiten letras, números y guiones bajos"),email:ti().email("Email inválido"),password:ti().min(8,"La contraseña debe tener al menos 8 caracteres").regex(/[A-Z]/,"Debe incluir al menos una letra mayúscula").regex(/[a-z]/,"Debe incluir al menos una letra minúscula").regex(/[0-9]/,"Debe incluir al menos un número")}),j4=({onSuccess:e})=>{const{signUp:t}=tr(),{toast:r}=_t(),[n,s]=m.useState(!1),i=fd({resolver:vd(C4),defaultValues:{username:"",email:"",password:""}}),o=async a=>{try{s(!0);const{email:l,password:c,username:d}=a,{data:f,error:h}=await Ce.from("profiles").select("username").ilike("username",d).limit(1);if(h){console.error("Error al verificar disponibilidad del usuario:",h),r({variant:"destructive",title:"Error de verificación",description:"No se pudo verificar la disponibilidad del nombre de usuario"}),s(!1);return}if(f&&f.length>0){r({variant:"destructive",title:"Nombre de usuario no disponible",description:"Este nombre de usuario ya está registrado. Por favor, elige otro."}),s(!1);return}console.log("Iniciando registro con:",{email:l,username:d});const{data:p,error:b}=await t(l,c,d,"");if(b){console.error("Error durante el registro:",b),r({variant:"destructive",title:"Error de registro",description:b.message}),s(!1);return}p!=null&&p.user&&(console.log("Registro exitoso, usuario creado:",p.user.id),r({title:"Registro exitoso",description:"Tu cuenta ha sido creada correctamente"}),sessionStorage.setItem("firstLogin","true"),console.log("Estableciendo firstLogin=true en sessionStorage"),e())}catch(l){console.error("Error en el proceso de registro:",l),r({variant:"destructive",title:"Error inesperado",description:l.message||"Ocurrió un error durante el registro"})}finally{s(!1)}};return u.jsx(hd,{...i,children:u.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[u.jsx(S4,{control:i.control,name:"username"}),u.jsx(k4,{control:i.control}),u.jsx(E4,{control:i.control}),u.jsxs(ye,{type:"submit",className:"w-full",disabled:n,children:[n?u.jsx(Po,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Registrarse"]})]})})},P4=gd({email:ti().email("Email inválido")}),N4=({onCancel:e})=>{const{sendPasswordResetEmail:t}=tr(),r=fd({resolver:vd(P4),defaultValues:{email:""}}),n=async s=>{const{email:i}=s;await t(i),e()};return u.jsxs(u.Fragment,{children:[u.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Restablecer contraseña"}),u.jsx(hd,{...r,children:u.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-4",children:[u.jsx(ci,{control:r.control,name:"email",render:({field:s})=>u.jsxs(xs,{children:[u.jsx(bs,{children:"Correo electrónico"}),u.jsx(_s,{children:u.jsx(Or,{...s,type:"email",placeholder:"tu@email.com"})}),u.jsx(Ss,{})]})}),u.jsxs(ye,{type:"submit",className:"w-full",disabled:r.formState.isSubmitting,children:[r.formState.isSubmitting?u.jsx(Po,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Enviar correo de recuperación"]})]})}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:underline",children:"Volver al inicio de sesión"})})]})},T4=gd({recoveryEmail:ti().email("Correo electrónico inválido")}),R4=({onCancel:e})=>{const{toast:t}=_t(),[r,n]=m.useState(!1),s=fd({resolver:vd(T4),defaultValues:{recoveryEmail:""}}),i=async o=>{n(!0),t({title:"Función temporalmente deshabilitada",description:"La recuperación de cuenta mediante correo de recuperación está temporalmente deshabilitada.",variant:"destructive"}),n(!1)};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("img",{src:"/lovable-uploads/3f963389-b035-45c6-890b-824df3549300.png",alt:"dScrt Logo",className:"h-20 w-20 rounded-lg"})}),u.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Recuperar acceso a tu cuenta"}),u.jsxs(Yr,{variant:"destructive",className:"mb-4",children:[u.jsx(KC,{className:"h-4 w-4"}),u.jsx(Jr,{children:"La recuperación de cuenta mediante correo de recuperación está temporalmente deshabilitada."})]}),u.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:"Por favor, intenta iniciar sesión con tu correo y contraseña directamente."}),u.jsx(hd,{...s,children:u.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[u.jsx(ci,{control:s.control,name:"recoveryEmail",render:({field:o})=>u.jsxs(xs,{children:[u.jsx(bs,{children:"Correo de recuperación"}),u.jsx(_s,{children:u.jsx(Or,{...o,type:"email",placeholder:"tu-correo-recuperacion@email.com",disabled:!0})}),u.jsx(Ss,{})]})}),u.jsxs(ye,{type:"submit",className:"w-full",disabled:!0,children:[r?u.jsx(Po,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Recuperar cuenta"]}),u.jsx(ye,{type:"button",variant:"outline",className:"w-full mt-2",onClick:e,children:"Volver al inicio de sesión"})]})})]})},A4=({children:e})=>u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:u.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[e,u.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:u.jsx("p",{children:"dScrt - Mensajería segura y privada"})})]})}),$4=({title:e})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("img",{src:"/lovable-uploads/3f963389-b035-45c6-890b-824df3549300.png",alt:"dScrt Logo",className:"h-20 w-20 rounded-lg"})}),u.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:e})]}),O4=({isLogin:e,onToggle:t})=>u.jsx("div",{className:"mt-4 text-center",children:u.jsx("button",{onClick:t,className:"text-sm text-blue-600 hover:underline",children:e?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})}),L4=()=>{const[e,t]=m.useState(!0),[r,n]=m.useState(!1),[s,i]=m.useState(!1),[o,a]=m.useState(!1),[l,c]=m.useState([]),[d,f]=m.useState(1);pl();const h=Ju(),{toast:p}=_t(),{user:b,loading:v}=tr();m.useEffect(()=>{b&&sessionStorage.getItem("firstLogin")==="true"&&(console.log("First login detected, starting pattern creation"),S())},[b]);const x=()=>{t(!e)},g=()=>n(!0),y=()=>n(!1),w=()=>i(!0),_=()=>i(!1),S=()=>{a(!0)};return{isLogin:e,isResetPassword:r,isRecoveryMode:s,isCreatePattern:o,newPattern:l,step:d,user:b,loading:v,toggleMode:x,showResetPassword:g,hideResetPassword:y,showRecoveryMode:w,hideRecoveryMode:_,startPatternCreation:S,handlePatternStep:(C,P)=>d===1?(c(C),f(2),!0):P?(a(!1),sessionStorage.removeItem("firstLogin"),sessionStorage.setItem("firstLoginAfterConfirmation","true"),b&&h("/"),!0):!1,handleSignupSuccess:()=>{p({title:"Registro exitoso",description:"Por favor, inicia sesión con tus credenciales"}),t(!0)},setStep:f,setIsLogin:t}},I4=()=>{const{isLogin:e,isResetPassword:t,isRecoveryMode:r,isCreatePattern:n,newPattern:s,step:i,user:o,loading:a,toggleMode:l,showResetPassword:c,hideResetPassword:d,showRecoveryMode:f,hideRecoveryMode:h,handlePatternStep:p,handleSignupSuccess:b,setStep:v}=L4();return a?u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx(Po,{className:"h-8 w-8 animate-spin text-gray-900"})}):o&&!n?u.jsx(n_,{to:"/",replace:!0}):n&&o?u.jsx(x1,{userId:o.id,step:i,setStep:v,newPattern:s,setNewPattern:x=>p(x,!1),onComplete:()=>p([],!0)}):u.jsx(A4,{children:!t&&!r?u.jsxs(u.Fragment,{children:[u.jsx($4,{title:e?"Iniciar sesión en dScrt":"Crear cuenta en dScrt"}),e?u.jsx(_4,{onResetClick:c,onRecoveryClick:f}):u.jsx(j4,{onSuccess:b}),u.jsx(O4,{isLogin:e,onToggle:l})]}):t?u.jsx(N4,{onCancel:d}):u.jsx(R4,{onCancel:h})})},M4=()=>{const e=pl();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};document.title="dScrt";console.log("Ejecutando en plataforma:",Xr.getPlatform());console.log("¿Es plataforma nativa?:",Xr.isNativePlatform());const D4=new lT,F4=({children:e})=>{const{user:t,loading:r}=tr();return m.useEffect(()=>{t&&sessionStorage.getItem("firstLogin")==="true"&&console.log("First login detected in ProtectedRoute, pattern creation will be triggered"),Xr.isNativePlatform()&&console.log("Ejecutando en dispositivo nativo:",Xr.getPlatform())},[t]),r?u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"w-8 h-8 border-t-2 border-b-2 border-gray-900 rounded-full animate-spin"})}):t?u.jsx(u.Fragment,{children:e}):u.jsx(n_,{to:"/auth",replace:!0})},U4=()=>u.jsx(n2,{children:u.jsxs(e2,{children:[u.jsx(yc,{path:"/auth",element:u.jsx(I4,{})}),u.jsx(yc,{path:"/",element:u.jsx(F4,{children:u.jsx(CL,{})})}),u.jsx(yc,{path:"*",element:u.jsx(M4,{})})]})}),z4=()=>u.jsx(uT,{client:D4,children:u.jsx(I$,{children:u.jsxs(DN,{children:[u.jsx($j,{}),u.jsx(dP,{}),u.jsx(U4,{})]})})});var V4=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})},K1=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Uy=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},B4="ionicpwaelements",Sc,Z1,Wt=!1,ep=!1,Pn=function(e,t){return function(){}},q4=function(e,t){return function(){}},W4="{visibility:hidden}.hydrated{visibility:inherit}",zy={},H4="http://www.w3.org/2000/svg",G4="http://www.w3.org/1999/xhtml",K4=function(e){return e!=null},Lm=function(e){return e=typeof e,e==="object"||e==="function"};function Q1(e){var t,r,n;return(n=(r=(t=e.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||r===void 0?void 0:r.getAttribute("content"))!==null&&n!==void 0?n:void 0}var Z4=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var s=null,i=!1,o=!1,a=[],l=function(f){for(var h=0;h<f.length;h++)s=f[h],Array.isArray(s)?l(s):s!=null&&typeof s!="boolean"&&((i=typeof e!="function"&&!Lm(s))&&(s=String(s)),i&&o?a[a.length-1].$text$+=s:a.push(i?tp(null,s):s),o=i)};if(l(r),t){var c=t.className||t.class;c&&(t.class=typeof c!="object"?c:Object.keys(c).filter(function(f){return c[f]}).join(" "))}var d=tp(e,null);return d.$attrs$=t,a.length>0&&(d.$children$=a),d},tp=function(e,t){var r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.$attrs$=null,r},Q4={},Y4=function(e){return e&&e.$tag$===Q4},J4=function(e,t){return e!=null&&!Lm(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e},X4=function(e){return Ns(e).$hostElement$},GI=function(e,t,r){var n=X4(e);return{emit:function(s){return Y1(n,t,{bubbles:!0,composed:!0,cancelable:!0,detail:s})}}},Y1=function(e,t,r){var n=at.ce(t,r);return e.dispatchEvent(n),n},Vy=new WeakMap,eI=function(e,t,r){var n=_u.get(e);SI&&r?(n=n||new CSSStyleSheet,typeof n=="string"?n=t:n.replaceSync(t)):n=t,_u.set(e,n)},tI=function(e,t,r,n){var s,i=J1(t),o=_u.get(i);if(e=e.nodeType===11?e:Pr,o)if(typeof o=="string"){e=e.head||e;var a=Vy.get(e),l=void 0;if(a||Vy.set(e,a=new Set),!a.has(i)){{l=Pr.createElement("style"),l.innerHTML=o;var c=(s=at.$nonce$)!==null&&s!==void 0?s:Q1(Pr);c!=null&&l.setAttribute("nonce",c),e.insertBefore(l,e.querySelector("link"))}a&&a.add(i)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=Uy(Uy([],e.adoptedStyleSheets,!0),[o],!1));return i},rI=function(e){var t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,s=Pn("attachStyles",t.$tagName$),i=tI(r.shadowRoot?r.shadowRoot:r.getRootNode(),t);n&10&&(r["s-sc"]=i,r.classList.add(i+"-h")),s()},J1=function(e,t){return"sc-"+e.$tagName$},By=function(e,t,r,n,s,i){if(r!==n){var o=Wy(e,t),a=t.toLowerCase();if(t==="class"){var l=e.classList,c=qy(r),d=qy(n);l.remove.apply(l,c.filter(function(b){return b&&!d.includes(b)})),l.add.apply(l,d.filter(function(b){return b&&!c.includes(b)}))}else if(t==="style"){for(var f in r)(!n||n[f]==null)&&(f.includes("-")?e.style.removeProperty(f):e.style[f]="");for(var f in n)(!r||n[f]!==r[f])&&(f.includes("-")?e.style.setProperty(f,n[f]):e.style[f]=n[f])}else if(t==="ref")n&&n(e);else if(!o&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):Wy(wd,a)?t=a.slice(2):t=a[2]+t.slice(3),r&&at.rel(e,t,r,!1),n&&at.ael(e,t,n,!1);else{var h=Lm(n);if((o||h&&n!==null)&&!s)try{if(e.tagName.includes("-"))e[t]=n;else{var p=n??"";t==="list"?o=!1:(r==null||e[t]!=p)&&(e[t]=p)}}catch{}n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!o||i&4||s)&&!h&&(n=n===!0?"":n,e.setAttribute(t,n))}}},nI=/\s/,qy=function(e){return e?e.split(nI):[]},X1=function(e,t,r,n){var s=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||zy,o=t.$attrs$||zy;for(n in i)n in o||By(s,n,i[n],void 0,r,t.$flags$);for(n in o)By(s,n,i[n],o[n],r,t.$flags$)},Im=function(e,t,r,n){var s=t.$children$[r],i=0,o,a;if(s.$text$!==null)o=s.$elm$=Pr.createTextNode(s.$text$);else{if(Wt||(Wt=s.$tag$==="svg"),o=s.$elm$=Pr.createElementNS(Wt?H4:G4,s.$tag$),Wt&&s.$tag$==="foreignObject"&&(Wt=!1),X1(null,s,Wt),K4(Sc)&&o["s-si"]!==Sc&&o.classList.add(o["s-si"]=Sc),s.$children$)for(i=0;i<s.$children$.length;++i)a=Im(e,s,i),a&&o.appendChild(a);s.$tag$==="svg"?Wt=!1:o.tagName==="foreignObject"&&(Wt=!0)}return o},eS=function(e,t,r,n,s,i){var o=e,a;for(o.shadowRoot&&o.tagName===Z1&&(o=o.shadowRoot);s<=i;++s)n[s]&&(a=Im(null,r,s),a&&(n[s].$elm$=a,o.insertBefore(a,t)))},tS=function(e,t,r){for(var n=t;n<=r;++n){var s=e[n];if(s){var i=s.$elm$;rS(s),i&&i.remove()}}},sI=function(e,t,r,n){for(var s=0,i=0,o=t.length-1,a=t[0],l=t[o],c=n.length-1,d=n[0],f=n[c],h;s<=o&&i<=c;)a==null?a=t[++s]:l==null?l=t[--o]:d==null?d=n[++i]:f==null?f=n[--c]:rc(a,d)?(aa(a,d),a=t[++s],d=n[++i]):rc(l,f)?(aa(l,f),l=t[--o],f=n[--c]):rc(a,f)?(aa(a,f),e.insertBefore(a.$elm$,l.$elm$.nextSibling),a=t[++s],f=n[--c]):rc(l,d)?(aa(l,d),e.insertBefore(l.$elm$,a.$elm$),l=t[--o],d=n[++i]):(h=Im(t&&t[i],r,i),d=n[++i],h&&a.$elm$.parentNode.insertBefore(h,a.$elm$));s>o?eS(e,n[c+1]==null?null:n[c+1].$elm$,r,n,i,c):i>c&&tS(t,s,o)},rc=function(e,t){return e.$tag$===t.$tag$},aa=function(e,t){var r=t.$elm$=e.$elm$,n=e.$children$,s=t.$children$,i=t.$tag$,o=t.$text$;o===null?(Wt=i==="svg"?!0:i==="foreignObject"?!1:Wt,X1(e,t,Wt),n!==null&&s!==null?sI(r,n,t,s):s!==null?(e.$text$!==null&&(r.textContent=""),eS(r,null,t,s,0,s.length-1)):n!==null&&tS(n,0,n.length-1),Wt&&i==="svg"&&(Wt=!1)):e.$text$!==o&&(r.data=o)},rS=function(e){e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(rS)},iI=function(e,t){var r=e.$hostElement$,n=e.$vnode$||tp(null,null),s=Y4(t)?t:Z4(null,null,t);Z1=r.tagName,s.$tag$=null,s.$flags$|=4,e.$vnode$=s,s.$elm$=n.$elm$=r.shadowRoot||r,Sc=r["s-sc"],aa(n,s)},nS=function(e,t){t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(function(r){return e.$onRenderResolve$=r}))},yd=function(e,t){if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}nS(e,e.$ancestorComponent$);var r=function(){return oI(e,t)};return EI(r)},oI=function(e,t){var r=Pn("scheduleUpdate",e.$cmpMeta$.$tagName$),n=e.$lazyInstance$,s;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(function(i){var o=i[0],a=i[1];return Mm(n,o,a)}),e.$queuedListeners$=void 0)),r(),aI(s,function(){return cI(e,n,t)})},aI=function(e,t){return lI(e)?e.then(t):t()},lI=function(e){return e instanceof Promise||e&&e.then&&typeof e.then=="function"},cI=function(e,t,r){return G1(void 0,void 0,void 0,function(){var n,s,i,o,a,l,c;return K1(this,function(d){return s=e.$hostElement$,i=Pn("update",e.$cmpMeta$.$tagName$),o=s["s-rc"],r&&rI(e),a=Pn("render",e.$cmpMeta$.$tagName$),uI(e,t),o&&(o.map(function(f){return f()}),s["s-rc"]=void 0),a(),i(),l=(n=s["s-p"])!==null&&n!==void 0?n:[],c=function(){return dI(e)},l.length===0?c():(Promise.all(l).then(c),e.$flags$|=4,l.length=0),[2]})})},uI=function(e,t,r){try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,iI(e,t)}catch(n){Er(n,e.$hostElement$)}return null},dI=function(e){e.$cmpMeta$.$tagName$;var t=e.$hostElement$,r=Pn(),n=e.$lazyInstance$,s=e.$ancestorComponent$;e.$flags$&64?r():(e.$flags$|=64,iS(t),Mm(n,"componentDidLoad"),r(),e.$onReadyResolve$(t),s||sS()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&Fm(function(){return yd(e,!1)}),e.$flags$&=-517},KI=function(e){{var t=Ns(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&yd(t,!1),r}},sS=function(e){iS(Pr.documentElement),Fm(function(){return Y1(wd,"appload",{detail:{namespace:B4}})})},Mm=function(e,t,r){if(e&&e[t])try{return e[t](r)}catch(n){Er(n)}},iS=function(e){return e.classList.add("hydrated")},fI=function(e,t){return Ns(e).$instanceValues$.get(t)},hI=function(e,t,r,n){var s=Ns(e),i=s.$instanceValues$.get(t),o=s.$flags$,a=s.$lazyInstance$;r=J4(r,n.$members$[t][0]);var l=Number.isNaN(i)&&Number.isNaN(r),c=r!==i&&!l;(!(o&8)||i===void 0)&&c&&(s.$instanceValues$.set(t,r),a&&(o&18)===2&&yd(s,!1))},oS=function(e,t,r){if(t.$members$){var n=Object.entries(t.$members$),s=e.prototype;if(n.map(function(o){var a=o[0],l=o[1][0];l&31||r&2&&l&32?Object.defineProperty(s,a,{get:function(){return fI(this,a)},set:function(c){hI(this,a,c,t)},configurable:!0,enumerable:!0}):r&1&&l&64&&Object.defineProperty(s,a,{value:function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var f=Ns(this);return f.$onInstancePromise$.then(function(){var h;return(h=f.$lazyInstance$)[a].apply(h,c)})}})}),r&1){var i=new Map;s.attributeChangedCallback=function(o,a,l){var c=this;at.jmp(function(){var d=i.get(o);if(c.hasOwnProperty(d))l=c[d],delete c[d];else if(s.hasOwnProperty(d)&&typeof c[d]=="number"&&c[d]==l)return;c[d]=l===null&&typeof c[d]=="boolean"?!1:l})},e.observedAttributes=n.filter(function(o){o[0];var a=o[1];return a[0]&15}).map(function(o){var a=o[0],l=o[1],c=l[1]||a;return i.set(c,a),c})}}return e},pI=function(e,t,r,n,s){return G1(void 0,void 0,void 0,function(){var i,o,a,l,c,d,f;return K1(this,function(h){switch(h.label){case 0:return t.$flags$&32?[3,3]:(t.$flags$|=32,s=_I(r),s.then?(i=q4(),[4,s]):[3,2]);case 1:s=h.sent(),i(),h.label=2;case 2:s.isProxied||(oS(s,r,2),s.isProxied=!0),o=Pn("createInstance",r.$tagName$),t.$flags$|=8;try{new s(t)}catch(p){Er(p)}t.$flags$&=-9,o(),s.style&&(a=s.style,l=J1(r),_u.has(l)||(c=Pn("registerStyles",r.$tagName$),eI(l,a,!!(r.$flags$&1)),c())),h.label=3;case 3:return d=t.$ancestorComponent$,f=function(){return yd(t,!0)},d&&d["s-rc"]?d["s-rc"].push(f):f(),[2]}})})},mI=function(e){if(!(at.$flags$&1)){var t=Ns(e),r=t.$cmpMeta$,n=Pn("connectedCallback",r.$tagName$);if(t.$flags$&1)aS(e,t,r.$listeners$);else{t.$flags$|=1;for(var s=e;s=s.parentNode||s.host;)if(s["s-p"]){nS(t,t.$ancestorComponent$=s);break}r.$members$&&Object.entries(r.$members$).map(function(i){var o=i[0],a=i[1][0];if(a&31&&e.hasOwnProperty(o)){var l=e[o];delete e[o],e[o]=l}}),pI(e,t,r)}n()}},gI=function(e){if(!(at.$flags$&1)){var t=Ns(e),r=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(function(n){return n()}),t.$rmListeners$=void 0),Mm(r,"disconnectedCallback")}},vI=function(e,t){t===void 0&&(t={});var r,n=Pn(),s=[],i=t.exclude||[],o=wd.customElements,a=Pr.head,l=a.querySelector("meta[charset]"),c=Pr.createElement("style"),d=[],f,h=!0;Object.assign(at,t),at.$resourcesUrl$=new URL(t.resourcesUrl||"./",Pr.baseURI).href,e.map(function(b){b[1].map(function(v){var x={$flags$:v[0],$tagName$:v[1],$members$:v[2],$listeners$:v[3]};x.$members$=v[2],x.$listeners$=v[3];var g=x.$tagName$,y=function(w){V4(_,w);function _(S){var E=w.call(this,S)||this;return S=E,bI(S,x),x.$flags$&1&&S.attachShadow({mode:"open"}),E}return _.prototype.connectedCallback=function(){var S=this;f&&(clearTimeout(f),f=null),h?d.push(this):at.jmp(function(){return mI(S)})},_.prototype.disconnectedCallback=function(){var S=this;at.jmp(function(){return gI(S)})},_.prototype.componentOnReady=function(){return Ns(this).$onReadyPromise$},_}(HTMLElement);x.$lazyBundleId$=b[0],!i.includes(g)&&!o.get(g)&&(s.push(g),o.define(g,oS(y,x,1)))})});{c.innerHTML=s+W4,c.setAttribute("data-styles","");var p=(r=at.$nonce$)!==null&&r!==void 0?r:Q1(Pr);p!=null&&c.setAttribute("nonce",p),a.insertBefore(c,l?l.nextSibling:a.firstChild)}h=!1,d.length?d.map(function(b){return b.connectedCallback()}):at.jmp(function(){return f=setTimeout(sS,30)}),n()},aS=function(e,t,r,n){r&&r.map(function(s){var i=s[0],o=s[1],a=s[2],l=wI(e,i),c=yI(t,a),d=xI(i);at.ael(l,o,c,d),(t.$rmListeners$=t.$rmListeners$||[]).push(function(){return at.rel(l,o,c,d)})})},yI=function(e,t){return function(r){try{e.$flags$&256?e.$lazyInstance$[t](r):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,r])}catch(n){Er(n)}}},wI=function(e,t){return t&16?Pr.body:e},xI=function(e){return(e&2)!==0},Dm=new WeakMap,Ns=function(e){return Dm.get(e)},ZI=function(e,t){return Dm.set(t.$lazyInstance$=e,t)},bI=function(e,t){var r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return r.$onInstancePromise$=new Promise(function(n){return r.$onInstanceResolve$=n}),r.$onReadyPromise$=new Promise(function(n){return r.$onReadyResolve$=n}),e["s-p"]=[],e["s-rc"]=[],aS(e,r,t.$listeners$),Dm.set(e,r)},Wy=function(e,t){return t in e},Er=function(e,t){return(0,console.error)(e,t)},Ef=new Map,_I=function(e,t,r){var n=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$,i=Ef.get(s);if(i)return i[n];{var o=function(a){return Ef.set(s,a),a[n]};switch(s){case"pwa-action-sheet":return Kt(()=>import("./pwa-action-sheet.entry-ai5AX77j.js"),[]).then(o,Er);case"pwa-camera-modal":return Kt(()=>import("./pwa-camera-modal.entry-BxRE4FL-.js"),[]).then(o,Er);case"pwa-toast":return Kt(()=>import("./pwa-toast.entry-DfOUOgPt.js"),[]).then(o,Er);case"pwa-camera-modal-instance":return Kt(()=>import("./pwa-camera-modal-instance.entry-DkmRb10u.js"),[]).then(o,Er);case"pwa-camera":return Kt(()=>import("./pwa-camera.entry-6BgA1FGJ.js"),[]).then(o,Er)}}return Kt(()=>import("./".concat(s,".entry.js").concat("")),[]).then(function(a){return Ef.set(s,a),a[n]},Er)},_u=new Map,wd=typeof window<"u"?window:{},Pr=wd.document||{head:{}},at={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,r,n){return e.addEventListener(t,r,n)},rel:function(e,t,r,n){return e.removeEventListener(t,r,n)},ce:function(e,t){return new CustomEvent(e,t)}},lS=function(e){return Promise.resolve(e)},SI=function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1}(),Hy=[],cS=[],kI=function(e,t){return function(r){e.push(r),ep||(ep=!0,at.$flags$&4?Fm(rp):at.raf(rp))}},Gy=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){Er(r)}e.length=0},rp=function(){Gy(Hy),Gy(cS),(ep=Hy.length>0)&&at.raf(rp)},Fm=function(e){return lS().then(e)},EI=kI(cS),CI=function(){return lS()},jI=function(e,t){return typeof window>"u"?Promise.resolve():CI().then(function(){return vI([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],t)})};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();jI();document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("root");e?vx(e).render(u.jsx(z4,{})):console.error("No se encontró el elemento root para renderizar la aplicación")});export{Q4 as H,Em as W,r0 as a,GI as c,KI as f,X4 as g,Z4 as h,ZI as r};
